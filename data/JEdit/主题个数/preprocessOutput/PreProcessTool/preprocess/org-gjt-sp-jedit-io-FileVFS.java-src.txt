v f s local filesystem v f s tab size 4 indent size 4 no tab collapse fold 1 1998 2005 1998 1999 2000 peter grave 2007 matthieu casanova g n u 2 w i t h o u t n y w r r n t y m e r h n t b i l i t y f i t n e s s f o r p r t i u l r p u r p o s e g n u g n u 59 330 m 02111 1307 u s io importsimport io closeable filechoos view component io text date i o utility log local filesystem v f s v f s 24415 2016 06 19 11 07 55 kerik sf v f s v f s p e r m i s s i o n s p r o p e r t y v f s perm v f s constructor v f s r e d p | w r i t e p | b r o w s e p | d e l e t e p | r e n m e p | m k d i r p | l o w l t e n y p | n o n w t s e s s i o n p | operate insensitive f s ? s e i n s e n s i t i v e p 0 e s i e e m o d i f i e d e s t t u s e t y p e get parent path override get parent path path operate window path length 2 path at 1 root v f s p r o t o o l + path length 3 path end \\ root v f s p r o t o o l + path start \\\\ path index \\ 2 1 path get parent path path construct path override construct path parent path parent end separator || parent end parent + path parent + separator + path get separator override get separator separator get two stage save name temporary name base on given path p directory where would create cannot write i e no create directory p path path name override get two stage save name path parent get parent path path ignorance window because read only flag on window ha effect prevent creation only way make directory read only mean l directory ha set read only which checkable || operate window remove give back right value parent || operate window ? get two stage save name path save override save view view buffer buffer path operate unix permission get permission buffer get path log log log d e b u g buffer get path + ha permission 0 + permission 8 buffer set property p e r m i s s i o n s p r o p e r t y permission save view buffer path insert override insert view view buffer buffer path path check valid directory v f s view get path ioerror open directory read v f s view get path ioerror no read insert view buffer path recursive delete path directory path recursive delete succesful recursive delete path path path list directory recursive delete delete path delete canon path canonical form specify path name example might expand user s home directory session session path path comp component parent dialog box i o an i o occur since j edit 4 0pre2 override canon path session path component comp i o misc utility canon path path local local v f s use format date format d t e f o r m t simple date format yyyy m m h h mm modify local local these attribute are fetch relatively quickly rest are lazily fill set name get name path get path set path path set delete path path set hide hide set type directory ? v f s d i r e t o r y v f s f i l e get extend attribute override get extend attribute name fetch attr name equal e m o d i f i e d d t e f o r m t format date modify get extend attribute name fetch attr fetch attribute local override fetch attr fetch attr fetch attr set symlink path misc utility resolve symlink get path set readable read set writeable set length length set modify last modify get icon icon expand use here open buffer use here icon since 4 3pre9 override icon get icon expand open buffer icon f view f view view get view icon f view get icon icon get symlink path override get symlink path fetch attr get symlink path get length override get length fetch attr get length readable override readable fetch attr readable writeable override writeable fetch attr writeable get modify override get modify fetch attr modify set modify set modify modify modify modify view f view icon icon list override v f s list session path component comp window work around on window path form x list last working directory on drive list root drive must use x \ howev v f s browser friend strip off trailing path separator variou reason so work around we add \ drive letter path on window operate window path length 2 path at 1 path path concat separator directory path list directory f view f view view get view list f view get directory list v f s comp path ioerror directory nomsg v f s list2 v f s list length i 0 i list length i++ list2 i local list i list2 get override v f s get session path component comp path equal operate unix v f s path path path v f s d i r e t o r y 0 l path local delete override delete session path component comp path some platform doe when we ask canonical path? canon path canon path get canonical path i o io canon path path directory recursive delete ret val directory ret val delete ret val recursive delete ret val v f s send v f s update canon path ret val rename override rename session from component comp canon path canon path get canonical path i o io canon path need because on o s x rename non existent directory cause problem parent get parent parent parent directory parent mkdir parent from from from canon path from canon path from get canonical path i o io from canon path from insensitive f workaround from canon path equal ignore canon path delete ret val from rename v f s send v f s update from canon path v f s send v f s update canon path ret val mkdir override mkdir session directory component comp parent get parent path directory parent mkdir session parent comp directory ret val mkdir canon path canon path get canonical path i o io canon path directory v f s send v f s update canon path ret val create input stream override input stream create input stream session path ignore component comp i o input stream path i o io ignore io create output stream override output stream create output stream session path component comp i o output stream path save complete override save complete session buffer buffer path component comp permission buffer get property p e r m i s s i o n s p r o p e r t y 0 set permission path permission permission preservation borrow from j text editor http www armedbear i make some change make support suid sgid sticky get permission numeric permission on non unix alway zero since j edit 3 2pre9 get permission path permission 0 j edit get property chmod disabled permission operate unix cmdarray l l ld path input stream reader isr buffer reader reader process process runtime get runtime exec cmdarray isr input stream reader process get input stream reader buffer reader isr output reader read line output s output substring 1 10 permission misc utility parse permission s feb 4 2000 5 30 p m throwable here rath than kaffe s runtime exec internal throwable t i o utility close quietly closeable reader permission set permission set numeric permission on non unix platform doe nothing since j edit 3 2pre9 set permission path permission j edit get property chmod disabled permission 0 operate unix cmdarray chmod permission 8 path process process runtime get runtime exec cmdarray process get input stream close process get output stream close process get stream close jun 9 2004 12 40 p m wait hang on some exit process wait exit 0 log log log n o t i e v f s chmod exit + exit feb 4 2000 5 30 p m throwable here rath than kaffe s runtime exec internal throwable t member view f view 