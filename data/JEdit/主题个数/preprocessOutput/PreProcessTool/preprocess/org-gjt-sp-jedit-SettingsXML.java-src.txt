tab size 4 indent size 4 no tab collapse fold 1 2007 kazutoshi satoda g n u 2 w i t h o u t n y w r r n t y m e r h n t b i l i t y f i t n e s s f o r p r t i u l r p u r p o s e g n u g n u 59 330 m 02111 1307 u s importsimport io io i o io output stream io input stream io buffer writer io output stream writer xml sax helper handler xml utility xml setting directory provide some common operation load save setting from into xml proper encoding xml declaration two stage save making backup on each save detection change on disk setting xml saver writer xml saving real setting change until finish succeed which previou setting backup saver buffer writer xml declaration xml 1 0 declaration first output xml declaration i o xml declaration 1 0 xml declaration xml declaration specific first output xml declaration i o ?xml + \ + + \ + encoding \ + encoding + \ + ? line finish perform step saving finish i o close j edit backup setting delete two stage save rename know last modify last modify member two stage save encoding u t f 8 only use setting xml opne saver saver i o get parent + get name + save workaround restriction saver two stage save i o output stream writer output stream two stage save encoding two stage save two stage save constructor construct setting xml specific location name setting directory setting directory name name name + xml setting xml setting directory name filename name + xml misc utility construct path setting directory filename setting xml f f exit load parse xml load handler handler receive s x notification load handler handler i o xml utility parse xml input stream handler know last modify last modify open saver open save xml saver open saver i o saver ha change on disk ha be change on disk base on last modify time at last saving loading ha change on disk last modify know last modify s path member know last modify 