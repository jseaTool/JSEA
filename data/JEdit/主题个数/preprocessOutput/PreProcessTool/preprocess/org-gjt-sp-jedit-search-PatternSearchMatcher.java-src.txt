pattern search matcher regular expression matcher no tab 2006 marcelo vanzin g n u 2 w i t h o u t n y w r r n t y m e r h n t b i l i t y f i t n e s s f o r p r t i u l r p u r p o s e g n u g n u 59 330 m 02111 1307 u s search regex matcher regex pattern reverse sequence regular expression matcher using regex regex pattern marcelo vanzin pattern search matcher 24166 2015 11 28 22 18 41 since j edit 4 3pre5 pattern search matcher search matcher pattern search matcher constructor create regular expression matcher regex pattern search search pattern ignore want ignore since j edit 4 3pre5 pattern search matcher search ignore pattern search flag get flag ignore create regular expression matcher regex pattern re compile regex ignore want ignore whole word search whole word only since j edit 4 5pre1 pattern search matcher pattern re ignore whole word re pattern ignore re re whole word whole word create regular expression already compile regex pattern re compile regex ignore want ignore since j edit 4 3pre13 pattern search matcher pattern re ignore re ignore next match inherit doc p reverse regex search search from beginning just prior current match so inefficient large buffer p override search matcher match next match sequence text start end first time reverse mean time there no way automatically generate sexeg http japhy perlmonk sexeg sexeg html so reverse regex search we search forward direction last match since we search forward direction reverse search un reverse reverse sequence text reverse sequence text reverse sequence text base sequence re re pattern compile pattern flag pattern begin ^ avoid spuriou match at start input sequence which start line match start 0 start re pattern at 0 ^ matcher sol pattern compile ^ flag matcher text ignore first match since start line sol find second match found real pattern also t match sol find skip text second match which first match real pattern match start sol start matcher match re matcher text match find match start check special construct group starting ? are pure non capture group capture text count toward group total name capture group way need remove them again since they won t match because selection doesn t necessarily include non capture part pattern p remove non capture group re flag match p matcher text match match special care zero width match care caller fall into an infinite loop non reverse search reverse first time match start 0 match end 0 match find match previou we re at end buffer we match end text pattern end ignore match match at end buffer which immediately follow newline also ignore because generally expect an e o l end || text at text length 1 match end text length pattern at pattern length 1 previou value start previou start value end previou end value substitution previou substitution value substitution match group count + 1 i 0 i value substitution length i++ value substitution i match group i start match start end match end value start start value end end whole word whole word text start end match find non reverse search we immediately first match reverse search we until no match are found reverse || match find reverse search check zero width match at end text reverse first time value start text length value end text length previou value start previou start value end previou end value substitution previou substitution save result reverse zero width match previou previou match previou start value start previou end value end previou substitution value substitution reverse caller assume we are search reverse segment so we need reverse index before len value end value start value start text length value end value end value start + len value remove non capture group pattern remove non capture group pattern re flag p re pattern ncgroup ? +? pattern nc pattern pattern compile ncgroup flag matcher nc matcher nc pattern matcher p nc matcher find index nc matcher start open count 0 i index i p length i++ p at i i 0 || p at i 1 \\ ++ open count p at i i 0 || p at i 1 \\ open count open count 0 i p length 1 end i + 1 p at end check n m quantifier end p length 1 ++ end p at end ++ end check ?+ quanitifier p at end ? || + || end p length 1 ++ end check ?+ quantifier quantifier p at end ? || + end p length 1 ++ end delete non capture group builder sb builder p sb delete index end recurse find remain non capture group remove non capture group pattern compile sb flag flag re override ignore flag pattern s e i n s e n s i t i v e 0 pattern search matcher + pattern + + ignore + get flag ignore flag pattern m u l t i l i n e ignore flag | pattern s e i n s e n s i t i v e flag member flag pattern re pattern 