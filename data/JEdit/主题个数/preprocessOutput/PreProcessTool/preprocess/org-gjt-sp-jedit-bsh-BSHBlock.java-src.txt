part bean shell script distribution documentation update may found at http www beanshell sun notice content are subject sun 1 0 may use except compliance available at http www sun com original bean shell initial developer original pat niemey create pat niemey are 2000 all right reserve g n u notice alternatively content may use g n u less l g p l which provision l g p l are applicable instead those above wish allow use your only l g p l allow other use your s p l indicate your decision delete provision above replace them notice other provision require l g p l delete provision above recipient may use your s p l l g p l patrick niemey pat pat net learning o reilly associate http www pat net pat bsh b s h block simple node b s h block eval call stack callstack interpreter interpreter eval eval callstack interpreter override namespace set block execute current namespace subordinate one p no block namespace swap onto stack eval happen current top namespace use bsh statement etc which must intialize block first also those perform multiple pass same block eval call stack callstack interpreter interpreter override namespace eval sync value first node expression on which sync simple node exp simple node jjt get child 0 sync value exp eval callstack interpreter ret actual synchronization sync value ret eval block callstack interpreter override namespace filter ret eval block callstack interpreter override namespace filter ret eval block call stack callstack interpreter interpreter override namespace node filter node filter eval ret primitive v o name space enclosing name space override namespace enclosing name space callstack top block name space body name space block name space enclosing name space callstack swap body name space start child ? 1 0 num child jjt get num child evaluate block two pass first declaration then everyth i start child i num child i++ simple node node simple node jjt get child i node filter node filter visible node node b s h declaration node eval callstack interpreter i start child i num child i++ simple node node simple node jjt get child i node b s h declaration filter node node filter node filter visible node ret node eval callstack interpreter statement embed block evaluate statement ret control make sure we put namespace back when we leave override namespace callstack swap enclosing name space ret node filter visible simple node node 