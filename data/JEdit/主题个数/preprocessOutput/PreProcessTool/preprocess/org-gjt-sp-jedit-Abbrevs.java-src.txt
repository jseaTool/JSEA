abbrev tab size 4 indent size 4 no tab collapse fold 1 1999 2004 g n u 2 w i t h o u t n y w r r n t y m e r h n t b i l i t y f i t n e s s f o r p r t i u l r p u r p o s e g n u g n u 59 330 m 02111 1307 u s importsimport io gui add abbrev dialog textarea log abbrev 24211 2015 12 10 03 33 28 abbrev e n o d i n g u t f8 get expand on input abbreviation expand after user finish typing word get expand on input expand on input set expand on input set abbreviation expand after user finish typing word expand on input typing non alphanumeric character automatically attempt expand current abbrev set expand on input expand on input abbrev expand on input expand on input expand abbrev expand abbrev at caret position specify view view view add abbrev found ask user add expand since j edit 2 6pre4 expand abbrev view view add figure out some minor thing buffer buffer view get buffer j edit text area text area view get text area buffer editable u i get look feel provide feedback line text area get caret line line start buffer get line start offset line caret text area get caret position line text buffer get line text line line text length 0 add u i get look feel provide feedback po caret line start po 0 add u i get look feel provide feedback we reuse pp vector save time m pp remove all element word start abbrev handle abbrev form abbrev pos1 pos2 pos3 line text at po 1 word start line text index word start text utility find word start line text word start buffer get property no word sep + abbrev line text substring word start po 1 positional insert where $1 $2 $3 occur expansion last index 0 i 0 i abbrev length i++ abbrev at i m pp add element abbrev substring last index i last index i + 1 m pp add element abbrev substring last index first element pp abbrev itself abbrev m pp element at 0 m pp remove element at 0 handle ordinary abbrev word start text utility find word start line text po 1 buffer get property no word sep abbrev line text substring word start po expansion expand expand abbrev buffer get mode get name abbrev buffer get property no tab ? buffer get tab size 0 m pp maybe show add abbrev dialog expand add add abbrev dialog view abbrev insert expansion buffer remove line start + word start po word start whitespace buffer insert indent line start + word start expand text newline count newline expand text expand caret position expand caret position 1 text area set caret position line start + word start + expand caret position + newline whitespace expand po count m pp size view get status set message clear j edit get property view status incomplete abbrev value m pp size value expand po count get global abbrev global set since j edit 2 3pre1 hashtable get global abbrev load load global abbrev set global abbrev set global set global abbrev global abbrev set since j edit 2 3pre1 set global abbrev hashtable global abbrev abbrev change abbrev global abbrev global abbrev get mode abbrev mode specific set since j edit 2 3pre1 hashtable hashtable get mode abbrev load load mode set mode abbrev set mode specific set mode mode abbrev set since j edit 2 3pre1 set mode abbrev hashtable hashtable mode abbrev change abbrev mode mode add global abbrev add an global list abbrev expansion expansion since j edit 3 1pre1 add global abbrev abbrev expansion load load global abbrev put abbrev expansion abbrev change add mode abbrev add mode specific abbrev mode edit mode abbrev abbrev expansion expansion since j edit 3 1pre1 add mode abbrev mode abbrev expansion load load hashtable mode abbrev mode get mode mode abbrev mode abbrev hashtable mode put mode mode abbrev mode abbrev put abbrev expansion abbrev change save save j edit set property view expand on input expand on input setting j edit get setting directory abbrev change setting file1 misc utility construct path setting abbrev save file2 misc utility construct path setting abbrev file2 file2 last modify abbrev mod time log log log w r n i n g abbrev file2 + change on disk + save abbrev j edit backup setting file2 save abbrev output stream writer output stream file1 e n o d i n g file2 delete file1 rename file2 e log log log e r r o r abbrev saving + file1 log log log e r r o r abbrev e abbrev mod time file2 last modify member instance variable load abbrev change abbrev mod time expand on input hashtable global abbrev hashtable hashtable mode vector positional vector m pp vector abbrev expand on input j edit get property view expand on input load load global abbrev hashtable mode hashtable hashtable setting j edit get setting directory setting misc utility construct path setting abbrev abbrev mod time last modify load abbrev input stream reader input stream e n o d i n g load found fnf e log log log e r r o r abbrev loading + log log log e r r o r abbrev e only load global abbrev user abbrev could load load load abbrev input stream reader abbrev get resource stream abbrev e n o d i n g e log log log e r r o r abbrev loading abbrev log log log e r r o r abbrev e load count newline count newline s end counter 0 i 0 i end i++ s at i counter++ counter expand abbrev expansion expand abbrev mode abbrev soft tab size vector pp m pp pp load load mode specific abbrev first expand hashtable mode abbrev mode get mode mode abbrev expand mode abbrev get abbrev expand expand global abbrev get abbrev expand expansion expand soft tab size m pp load abbrev load abbrev reader buffer reader buffer reader hashtable current abbrev global abbrev line line read line index line index | line length 0 line start index 1 line equal global current abbrev global abbrev mode line substring 1 line length 1 current abbrev mode get mode current abbrev current abbrev hashtable mode put mode current abbrev index 1 current abbrev put line substring 0 index line substring index + 1 close save abbrev save abbrev writer out buffer writer out buffer writer out line sep get property line separator global abbrev out global out line sep save abbrev out global abbrev mode abbrev enumeration key mode key enumeration hashtable value mode element key ha element out out key next element out out line sep save abbrev out value next element out close save abbrev save abbrev writer out hashtable abbrev line sep get property line separator enumeration key abbrev key enumeration value abbrev element key ha element abbrev key next element out abbrev out | out value next element out line sep expansion expansion text caret position 1 line count number positional expansion po count expansion constructor expansion text soft tab size list pp builder buf builder backslash i 0 i text length i++ ch text at i handle backslash backslash backslash ch | caret position buf length ch n buf append line count++ ch t soft tab size 0 buf append j 0 j soft tab size j++ buf append buf append ch ch \\ backslash handle ch i text length 1 ch text at i + 1 character digit ch ch 0 i++ po ch 0 po count math max po po count $n 1 index vector content zero index po pp size buf append pp get po 1 $key $key example buf append buf append at end literal buf append ch text buf 