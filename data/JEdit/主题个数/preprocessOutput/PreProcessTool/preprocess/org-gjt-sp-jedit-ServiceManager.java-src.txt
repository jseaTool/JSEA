service handle service xml plugin tab size 4 indent size 4 no tab collapse fold 1 2003 g n u 2 w i t h o u t n y w r r n t y m e r h n t b i l i t y f i t n e s s f o r p r t i u l r p u r p o s e g n u g n u 59 330 m 02111 1307 u s io net u r l log xml utility standard utility buffer fold handler provider buffer fold handler generic way plugin core provide variou p i extension p service are load from name service xml inside plugin j r service definition ha following form pre lt ?xml 1 0 ? lt d o t y p e s e r v i e s s y s t e m service dtd lt s e r v i e s lt s e r v i e n m e service name l s s fully qualify name bean shell evaluate when sevice first activate lt s e r v i e lt s e r v i e s pre following element are valid s e r v i e s top level element refer set service offer plugin s e r v i e contain factory service singleton service manage name singleton create from these factory ha two attribute both require n m e l s s l s s attribute must name know sevice type below s e r v i e element bean shell instance name note all service offer j edit core j edit s tt service xml tt some core service are list below link buffer fold handler link textarea fold painter link io v f s link io encoding link io encoding detector link gui statusbar status widget factory link gui docking framework provider link gui tray j edit tray icon plugin may define provide so only way complete list service type currently use calling link get service type use service from plugin add piece somewhere call link get service name link get service bean shell plugin j r since j edit 4 2pre1 service 24427 2016 06 22 22 29 03 service load service load service xml since j edit 4 2pre1 load service plugin j r plugin u r l uri plugin j r plugin cache entry cache service list handler dh service list handler plugin uri input stream uri open stream found e happen when calling generate cache context find orphan jar pluginmgr manage panel find orphan action perform action event because load plugin plugin add list plugin jar so proto jeditresource plugin re u r l connection find plugin read resource from better log small message than big stack trace log log log w r n i n g service unable open + uri xml utility parse xml uri open stream dh cache cache cache service dh get cache service i o ioe log log log e r r o r service ioe unload service remove all service belonging specify plugin plugin plugin since j edit 4 2pre1 unload service plugin j r plugin iterator descriptor descriptor service map key set iterator descriptor ha next descriptor d descriptor next d plugin plugin descriptor remove register service register service plugin provide service xml instead calling directly clazz service name service name bean shell create an instance plugin plugin j r build service since j edit 4 2pre1 register service clazz name plugin j r plugin descriptor d descriptor clazz name plugin service map put d d unregist service unregister service clazz service name service name since j edit 4 2pre1 unregist service clazz name descriptor d descriptor clazz name service map remove d get service type all know service type since j edit 4 2pre1 get service type set value hash set set descriptor key set service map key set descriptor d key set value add d clazz value value size get service name name all register service given example calling parameter io v f s all know virtual clazz name since j edit 4 2pre1 get service name clazz list value list set descriptor key set service map key set descriptor d key set d clazz equal clazz value add d name value value size get service name get service name clazz get service name clazz get name get service an instance given service first time call given service bean shell evaluate result cache future invocation so effect service are singleton clazz service name service name since j edit 4 2pre1 get service clazz name descriptor key descriptor clazz name descriptor value service map get key value unknown service clazz name table value load service value plugin value plugin get service u r i value service map get key value get instance an instance given service first time call given service bean shell evaluate result cache future invocation so effect service are singleton clazz service name service name service instance since j edit 4 4pre1 suppres warning uncheck e e get service e clazz name e get service clazz get name name member register service register service d service descriptor since j edit 4 2pre1 register service descriptor d service map put d d member map descriptor descriptor service map hash map descriptor descriptor descriptor descriptor clazz name plugin j r plugin instance instance constructor key hash table descriptor clazz name clazz clazz name name constructor value hash table descriptor clazz name plugin j r plugin clazz clazz name name plugin plugin get instance instance instance lazy instantiation instance bean shell eval bean shell get name space instance avoid re running script give u instance instance override hash result 31 clazz hash + name hash result equal o o descriptor descriptor d descriptor o d clazz equal clazz d name equal name fold handler base on service matthieu casanova since j edit 4 3pre10 service fold handler provider fold handler provider service type link service since j edit 4 3pre10 s e r v i e buffer fold handler fold handler specify name there no register handler name name name desire fold handler fold handler doesn t since j edit 4 3pre10 override fold handler get fold handler name fold handler handler fold handler get service s e r v i e name handler an contain name all register fold handler since j edit 4 3pre10 override get fold mode handler get service name s e r v i e sort handler standard utility compare handler 