complete word complete word dialog tab size 4 indent size 4 no tab collapse fold 1 2000 2001 g n u 2 w i t h o u t n y w r r n t y m e r h n t b i l i t y f i t n e s s f o r p r t i u l r p u r p o s e g n u g n u 59 330 m 02111 1307 u s gui importsimport component font point event key event hash set set tree set collection list cell render j list utility buffer edit pane visitor j edit visitor adapter j edit misc utility text utility view syntax keyword map textarea j edit text area standard utility word completion popup complete word completion popup complete word complete word view view j edit text area text area view get text area buffer buffer view get buffer caret line text area get caret line caret text area get caret position buffer editable u i get look feel provide feedback keyword map keyword map buffer get keyword map at offset caret no word sep get non alpha numeric word buffer keyword map word get word complete buffer caret line caret no word sep word u i get look feel provide feedback completion completion get completion buffer word caret completion length 0 u i get look feel provide feedback there only one competion insert buffer completion length 1 completion completion 0 text equal word u i get look feel provide feedback text area replace selection text substring word length show popup 1 prefix misc utility get prefix completion keyword map keyword map get ignore word length prefix length buffer insert caret prefix substring word length text area scroll caret point location text area offset x y caret word length location y + text area get painter get line height utility convert point screen location text area get painter complete word view prefix completion location no word sep complete word constructor complete word view view word completion completion point location no word sep view location no word sep no word sep view view text area view get text area buffer view get buffer word word reset word completion member get non alpha numeric word get non alpha numeric word buffer buffer keyword map keyword map figure out what constitute word character what doesn t no word sep buffer get property no word sep no word sep no word sep keyword map keyword no word sep keyword map get non alpha numeric keyword no word sep no word sep + keyword no word sep no word sep get word complete get word complete buffer buffer caret line caret no word sep sequence line buffer get line segment caret line dot caret buffer get line start offset caret line dot 0 ch line at dot 1 character letter digit ch no word sep index ch 1 attempt expand non word word start text utility find word start line dot 1 no word sep sequence word line sub sequence word start dot word length 0 word get visible buffer collection buffer get visible buffer set buffer buffer hash set buffer j edit visit j edit visitor adapter override visit edit pane edit pane buffer add edit pane get buffer buffer get completion completion get completion buffer buffer word caret build list unique word all buffer visible buffer depend on complete from all buffer set completion completion tree set completion standard utility compare completion only complete current buffer s keyword map keyword map keyword map buffer get keyword map at offset caret no word sep get non alpha numeric word buffer keyword map collection buffer source buffer j edit get property complete from all buffer ? list j edit get buffer get visible buffer buffer b source buffer only complete current buffer s keyword map keyword map keyword map b buffer keyword map keyword map keyword map offset b buffer ? caret 0 get completion b word keyword map no word sep offset completion completion completion completion completion completion size completion get completion get completion buffer buffer word keyword map keyword map no word sep caret set completion completion word len word length find match keyword keyword map keyword keyword map get keyword keyword keyword keyword region match keyword map get ignore 0 word 0 word len completion keyword completion keyword completion contain keyword completion add keyword loop through all line current buffer i 0 i buffer get line count i++ sequence line buffer get line segment i start buffer get line start offset i check match at start line standard utility start line word caret start + word length word complete word line 0 no word sep completion comp completion word remove duplicate completion contain comp completion add comp check match inside line len line length word length j 0 j len j++ line at j character letter digit no word sep index 1 standard utility region match line j + 1 word 0 word len caret start + j + word length + 1 word complete word line j + 1 no word sep completion comp completion word remove duplicate completion contain comp completion add comp complete word complete word sequence line offset no word sep + 1 so find word end doesn t pick up space at start word end text utility find word end line offset + 1 no word sep line sub sequence offset word end instance variable view view j edit text area text area buffer buffer word no word sep completion completion text keyword completion text keyword text text keyword keyword text hash text hash equal obj obj completion completion obj text equal text word word candidate list cell render render completion completion word completion completion render list cell render completion completion get size completion length valid complete index insertion completion index substring word length text area replace selection insertion component get cell render j list list index select cell ha focus render get list cell render component list index select cell ha focus completion comp completion index text comp text font font list get font index 9 text index + 1 + + text index 9 text 0 + text comp keyword font font derive font font b o l d render set text text render set font font render get description index reset word reset word word caret text area get caret position completion completion get completion buffer word caret completion length 0 word word reset word completion dispose key press medhod key press key event e e get key key event v k b k s p e text area backspace e consume word length 1 dispose reset word word substring 0 word length 1 key type medhod key type key event e ch e get key j edit get property insert completion digit character digit ch index ch 0 index 0 index 9 index index get candidate get size set select index index select completion e consume dispose fall through handle above ch \b ch eg foo c+b insert foobar character letter digit ch no word sep index ch 1 select completion text area user input ch e consume dispose text area user input ch e consume reset word word + ch 