structure matcher bracket match etc tab size 4 indent size 4 no tab collapse fold 1 2003 g n u 2 w i t h o u t n y w r r n t y m e r h n t b i l i t y f i t n e s s f o r p r t i u l r p u r p o s e g n u g n u 59 330 m 02111 1307 u s textarea importsimport text utility an match part source s stucture match bracket xml plugin provide an match xml tag structure matcher 23710 2014 11 01 23 35 36 ezust since j edit 4 2pre3 structure matcher get match element match one at given text area s caret position since j edit 4 2pre3 match get match text area text area select match select from caret match structure element there one otherwise behavior undefin since j edit 4 2pre3 select match text area text area bracket matcher bracket matcher structure matcher match get match text area text area offset text area get caret position text area get line start offset text area get caret line offset 0 bracket offset text utility find match bracket text area get buffer text area get caret line offset 1 bracket offset 1 bracket line text area get line offset bracket offset match bracket line bracket offset bracket line bracket offset + 1 select match text area text area text area select match bracket match structure match denote start end position since j edit 4 2pre3 match structure matcher matcher start line start end line end match match structure matcher matcher matcher matcher match structure matcher matcher start line start end line end matcher start line start line start start end line end line end end highlight paint structure match highlight highlight text area extension highlight text area text area text area text area paint valid line graphics2 d gfx screen line physical line start end y text area get painter structure highlight enable match match text area get structure match match paint highlight gfx screen line start end y match get offset screen line match match x1 x2 match start line text area get screen line offset match start match end line text area get screen line offset match end match start line screen line x1 match start x1 text area get screen line start offset screen line match end line screen line x2 match end x2 text area get screen line end offset screen line 1 text area offset x y x1 x text area offset x y x2 x paint highlight graphic gfx screen line start end y match match text area structure highlight visible match start end || match end start match start line text area get screen line offset match start match end line text area get screen line offset match end height math min text area get painter get line height text area get painter get font height y + math max text area get painter get line extra spacing 0 offset get offset screen line match x1 offset 0 x2 offset 1 gfx set color text area get painter get structure highlight color gfx draw line x1 y x1 y + height 1 gfx draw line x2 y x2 y + height 1 match start line screen line || screen line 0 gfx draw line x1 y x2 y offset get offset screen line 1 match prev x1 offset 0 prev x2 offset 1 gfx draw line math min x1 prev x1 y math max x1 prev x1 y gfx draw line math min x2 prev x2 y math max x2 prev x2 y match end line screen line gfx draw line x1 y + height 1 x2 y + height 1 text area text area 