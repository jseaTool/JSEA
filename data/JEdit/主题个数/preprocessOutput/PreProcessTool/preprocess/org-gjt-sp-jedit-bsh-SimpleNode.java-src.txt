part bean shell script distribution documentation update may found at http www beanshell sun notice content are subject sun 1 0 may use except compliance available at http www sun com original bean shell initial developer original pat niemey create pat niemey are 2000 all right reserve g n u notice alternatively content may use g n u less l g p l which provision l g p l are applicable instead those above wish allow use your only l g p l allow other use your s p l indicate your decision delete provision above replace them notice other provision require l g p l delete provision above recipient may use your s p l l g p l patrick niemey pat pat net learning o reilly associate http www pat net pat bsh note great care lot typing be take insure namespace interpreter reference are pass on stack they be erroneously before instal instance variable each these node must re entrable allow recursive situation only data which really store instance var here parse tree data feature node which nev change e g number argument etc would field simple just publish data produce last eval data use immediately we ll remember mark these highlight them simple node node simple node j v o d e simple node 1 get source call from get line number 1 get text compile node parent node child token first token last token source text from which wa parse source simple node i i jjt open jjt close jjt set parent node n parent n node jjt get parent parent simple node get parent simple node parent jjt add child node n i child child node i + 1 i child length node node i + 1 arraycopy child 0 0 child length child child i n node jjt get child i child i simple node get child i simple node jjt get child i jjt get num child child ? 0 child length override these two subclass simple node customize way node appear when tree dump your output us than one line override otherwise override probably all need parser tree constant jjt node name prefix prefix + override want customize how node dump out it child dump prefix out prefix child i 0 i child length ++i simple node n simple node child i n n dump prefix + bean shell specific stuff hereafter detach node from it parent primarily node serialization b s h declaration prune jjt set parent signature evaluation node eval call stack callstack interpreter interpreter eval interpreter unimplement inappropriate + get get name set name source generally source text from which node wa parse set source source source source get name source generally source text from which node wa parse recursively search up chain parent node until source found indicate source unknown get source source parent simple node parent get source unknown source get line number starting token get line number first token begin line get ending line number starting token get end line number last token end line get text token comprise node get text builder text builder token t first token t text append t image t image equal text append t last token || t image equal || t image equal t t next text 