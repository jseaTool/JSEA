edit pane text area buffer switcher tab size 4 indent size 4 no tab collapse fold 1 2000 2005 g n u 2 w i t h o u t n y w r r n t y m e r h n t b i l i t y f i t n e s s f o r p r t i u l r p u r p o s e g n u g n u 59 330 m 02111 1307 u s importsimport border layout color dimension graphics2 d hash map map annotation nonnull annotation nullable j panel utility u i edit bus e b handler buffer j edit buffer bufferset buffer set bufferset buffer set listener gui buffer switcher gui status bar msg buffer change msg buffer update msg edit pane update msg property change option option pane option gutter option pane syntax syntax style textarea anti alias textarea gutter textarea gutter popup handler textarea j edit text area textarea mouse handler textarea selection textarea status listener textarea text area textarea text area extension textarea text area painter textarea text area transfer handler syntax utility thread utility panel contain text area p bean shell script obtain current edit pane from edit pane variable p each view multiple edit pane one active at time each edit pane ha single j edit text area operate on single buffer edit pane also buffer controller between j edit text area view buffer model doe constructor edit pane create destroy using link view p view split horizontally view split vertically view unsplit current view unsplit view get edit pane view get edit pane edit pane 24411 2016 06 19 11 02 53 kerik sf edit pane j panel buffer set listener get view view contain edit pane view contain edit pane since j edit 2 5pre2 view get view view get text area edit pane text area ta text area edit pane contain text area edit pane get text area ta ta edit pane utility get ancestor edit pane ta get buffer current buffer current buffer since j edit 2 5pre2 buffer get buffer buffer set buffer set current buffer buffer buffer edit since j edit 2 5pre2 set buffer nonnull buffer buffer set buffer buffer set current buffer buffer buffer edit request focus textarea request focus otherwise since j edit 4 3pre6 set buffer nonnull buffer buffer request focus buffer pointer buffer cannot buffer buffer buffer set index buffer 1 j edit get buffer set add buffer buffer buffer inside compound edit buffer end compound edit edit bus send buffer change buffer buffer set index buffer 1 when closing last buffer buffer set current buffer still close buffer until empty buffer create so current buffer anymore buffer set set recent buffer recent buffer buffer recent buffer save caret info buffer buffer text area set buffer buffer init view update title buffer switcher buffer switcher get select item buffer buffer switcher set select item buffer buffer switcher set tool tip text buffer get path edit bus send edit pane update edit pane update b u f f e r h n g e d request focus utility runnable run only we are current edit pane view get edit pane edit pane buffer switcher || buffer switcher popup visible text area request focus buffer loading caret info load on buffer update l o d e d otherwise we t need wait i o buffer loading thread utility run dispatch thread runnable run avoid race condition bug 834338 buffer get buffer load caret info must happen after load caret info otherwise caret restore properly check j edit get property check status j edit startup check option pane check status focus buffer 0 j edit check buffer status view prev buffer select previou buffer since j edit 2 7pre2 prev buffer buffer buffer buffer set get previou buffer buffer set index buffer set buffer buffer next buffer select next buffer since j edit 2 7pre2 next buffer buffer buffer buffer set get next buffer buffer set index buffer set buffer buffer recent buffer select most recently edit buffer since j edit 2 7pre2 recent buffer recent buffer set buffer recent buffer u i get look feel provide feedback focus on text area set focus onto text area since j edit 2 5pre2 focus on text area utility runnable run text area request focus get text area view s text area text area edit pane since j edit 2 5pre2 j edit text area get text area text area get buffer switcher buffer switcher combo box instance buffer switcher since j edit 4 1pre8 buffer switcher get buffer switcher buffer switcher focus buffer switcher pop up focus on buffer switcher combo box since j edit 4 3pre18 previously know show buffer switcher focus buffer switcher buffer switcher u i get look feel provide feedback utility runnable run buffer switcher request focus buffer switcher show popup save caret info save caret information current buffer since j edit 2 5pre2 save caret info buffer load buffer set property buffer r e t text area get caret position caret info caret info caret path get buffer get path caret info caret info caret info caret path put buffer get path caret info caret info caret text area get caret position selection selection text area get selection i 0 i selection length i++ selection i selection selection i clone buffer set property buffer s e l e t i o n selection caret info selection selection caret info rectangular selection text area rectangular selection enable caret info multiple selection text area multiple selection enable buffer set property buffer s r o l l v e r t text area get first physical line caret info scroll vert text area get first physical line buffer set property buffer s r o l l h o r i text area get horizontal offset caret info scroll horiz text area get horizontal offset buffer untitl buffer history set entry buffer get path text area get caret position selection buffer get property buffer s e l e t i o n buffer get property j edit buffer e n o d i n g buffer get mode get name load caret info load caret selection information from edit pane fall back information from current buffer none already edit pane since j edit 2 5pre2 load caret info get our internal map buffer caret info since there might current info already caret info caret info caret path get buffer get path caret info caret info caret info set position caret itself caret position could store internal map already so use one first otherwise fall back previously save caret position wa store buffer property caret caret info caret caret 1 || buffer get property buffer r e t p o s i t i o n e d i buffer get property buffer r e t caret i ? 1 i buffer unset property buffer r e t p o s i t i o n e d caret 1 text area set caret position math min caret buffer get length set selection selection selection caret info selection selection selection selection buffer get property buffer s e l e t i o n selection i 0 i selection length i++ selection s selection i max buffer get length s get start max || s get end max selection i text area set selection selection text area set rectangular selection enable caret info rectangular selection text area set multiple selection enable caret info multiple selection set first line value first line caret info scroll vert first line 1 i buffer get property buffer s r o l l v e r t first line i ? 1 i first line 1 text area set first physical line first line set horizontal offset horizontal offset caret info scroll horiz horizontal offset 1 i buffer get property buffer s r o l l h o r i horizontal offset i ? 1 i horizontal offset 1 text area set horizontal offset horizontal offset silly bug workaround 8694 look at above note we restore save caret position first then scroll save location howev caret change itself result scroll different location than what wa save since move caret position call update bracket highlight bracket highlight s out bound calculation rely on different set physical first last line than what we end up eventually instead confuse user status message appear at random when switching buffer we simply hide message altogether view get status set message buffer rename call buffer when path change old path old path buffer path path buffer buffer rename old path path caret info caret info caret path remove old path caret info caret path put path caret info caret info need track info each buffer edit pane might edit since buffer may open than one edit pane at time mean we need track info at edit pane level rath than buffer level caret info caret 1 selection selection scroll vert 1 scroll horiz 1 rectangular selection multiple selection go next marker move caret next marker select wheth select marker since j edit 4 3pre3 go next marker select list marker marker buffer get marker marker empty u i get look feel provide feedback marker marker caret text area get caret position marker marker marker marker get position caret marker marker marker list empty at point marker marker marker get 0 select text area extend selection caret marker get position text area multiple selection enable text area select none text area move caret position marker get position go prev marker move caret previou marker select wheth select marker since j edit 2 7pre2 go prev marker select list marker marker buffer get marker marker empty u i get look feel provide feedback caret text area get caret position marker marker i marker size 1 i 0 i marker marker marker get i marker get position caret marker marker marker marker marker get marker size 1 select text area extend selection caret marker get position text area multiple selection enable text area select none text area move caret position marker get position go marker move caret marker specify shortcut shortcut shortcut select selection extend otherwise since j edit 3 2pre2 go marker shortcut select marker marker buffer get marker shortcut marker u i get look feel provide feedback po marker get position select text area extend selection text area get caret position po text area multiple selection enable text area select none text area move caret position po add marker add marker at caret position since j edit 3 2pre1 add marker caret line text area get caret line alway add marker on select line selection selection text area get selection selection s selection start line s get start line start line s get end line start line caret line buffer add marker \0 s get start s get end line caret line buffer add marker \0 s get end toggle marker on caret line buffer add remove marker \0 text area get caret position swap marker caret move caret marker specify shortcut then set marker position former caret position shortcut shortcut since j edit 3 2pre2 swap marker caret shortcut marker marker buffer get marker shortcut marker u i get look feel provide feedback caret text area get caret position text area set caret position marker get position buffer add marker shortcut caret handle property change e b handler handle property change property change msg property change load buffer switcher get minimum size 0 0 split pane compatibility override dimension get minimum size dimension 0 0 get buffer set current buffer set change set buffer set scope buffer set which currently use edit pane since j edit 4 3pre17 buffer set get buffer set buffer set buffer add buffer wa add buffer set buffer add buffer index position where wa add since j edit 4 3pre15 buffer add buffer buffer index buffer buffer switcher buffer switcher update buffer list buffer set index buffer 1 happen when have 1 untitl buffer i open untitl buffer close buffer yet open set buffer buffer buffer remove buffer wa remove from buffer set buffer remove buffer index position where wa before being remove since j edit 4 3pre15 buffer remove buffer buffer index buffer untitl buffer wa so i need keep s information caret path remove buffer get path buffer buffer close buffer current buffer buffer buffer recent buffer ? recent buffer buffer set get previou buffer index buffer buffer close set buffer buffer buffer set size 1 recent buffer buffer set get previou buffer index 1 buffer set size 0 set buffer buffer set get buffer 0 recent buffer buffer recent buffer recent buffer buffer switcher buffer switcher update buffer list buffer move buffer wa move buffer set buffer move buffer old index position wa before index position since j edit 4 3pre15 buffer move buffer buffer old index index buffer switcher buffer switcher update buffer list buffer set sort buffer set wa sort since j edit 4 3pre16 buffer set sort buffer switcher buffer switcher update buffer list override get get name + + view get edit pane ? active inactive member edit pane constructor edit pane nonnull view view nullable buffer set buffer set source nonnull buffer buffer border layout buffer set scope scope j edit get buffer set get scope buffer set source buffer set source scope editpane nothing view edit pane edit pane view get edit pane edit pane we an editpane we source edit pane get buffer set global view active view j edit get active view active view edit pane edit pane active view get edit pane edit pane source edit pane get buffer set buffer set buffer set source init view view text area j edit text area view buffer set add buffer set listener text area get painter set anti alias anti alias j edit get property view anti alias text area set mouse handler mouse handler text area text area set transfer handler text area transfer handler marker highlight marker highlight gutter gutter text area get gutter gutter set gutter enable gutter option pane gutter enable gutter set min line number digit count gutter option pane get min line number digit gutter set selection area enable gutter option pane selection area enable gutter add extension marker highlight gutter set selection popup handler gutter popup handler handle popup x y line buffer buffer get buffer buffer add remove marker \0 buffer get line start offset line text area add status listener status handler add border layout e n t e r text area property change set buffer buffer need add buffer buffer set may be set buffer because edit pane yet know j edit view global scope add through list buffer set index buffer 1 buffer set add buffer buffer load buffer switcher init edit bus add bus close close save caret info edit bus send edit pane update edit pane update d e s t r o y e d edit bus remove from bus text area dispose member instance variable init view where edit pane view view buffer set buffer set current buffer buffer buffer buffer recent buffer buffer switcher buffer switcher text area inside edit pane j edit text area text area marker highlight marker highlight map buffer get path caret info necessary when same buffer open than one edit pane user switching between buffer we want keep caret right position each edit pane which won t we just use buffer caret property map caret info caret path hash map caret info property change property change text area painter painter text area get painter init painter painter gutter gutter text area get gutter gutter set expand j edit get property view gutter line number interval j edit get property view gutter highlight interval 5 gutter set highlight interval interval gutter set current line highlight enable j edit get property view gutter highlight current line gutter set structure highlight enable j edit get property view gutter structure highlight gutter set structure highlight color j edit get color property view gutter structure highlight color color background color j edit get color property view gutter bg color gutter set background background color gutter set foreground j edit get color property view gutter fg color gutter set highlight foreground j edit get color property view gutter highlight color gutter set fold color j edit get color property view gutter fold color marker highlight set marker highlight color j edit get color property view gutter marker color marker highlight set marker highlight enable j edit get property view gutter marker highlight gutter set current line foreground j edit get color property view gutter current line color alignment j edit get property view gutter number alignment right equal alignment gutter set line number alignment gutter r i g h t center equal alignment gutter set line number alignment gutter e n t e r left gutter set line number alignment gutter l e f t gutter set font j edit get font property view gutter font gutter set gutter enable gutter option pane gutter enable gutter set min line number digit count gutter option pane get min line number digit gutter set selection area enable gutter option pane selection area enable gutter set selection area background gutter option pane get selection area background gutter set selection area width gutter option pane get selection area width width j edit get property view gutter border width 3 gutter set border width j edit get color property view gutter focus border color j edit get color property view gutter no focus border color text area get painter get background gutter set fold painter text area get fold painter text area set caret blink enable j edit get property view caret blink text area set electric scroll j edit get property view electric border 0 set up right click popup menu text area create popup menu use old property name backward compatibility text area set quick enable j edit get property view middle mouse paste text area set drag enable j edit get property view drag drop text area set join non word j edit get property view join non word text area set ctrl rectangular selection j edit get property view ctrl rectangular selection text area set background u i get get color scroll bar background text area property change buffer switcher buffer switcher set maximum row count j edit get property buffer switcher max row count 10 init painter init painter textarea painter painter textarea since j edit 4 3pre12 init painter text area painter painter painter set font j edit get font property view font painter set structure highlight enable j edit get property view structure highlight painter set structure highlight color j edit get color property view structure highlight color painter set e o l marker paint j edit get property view eol marker painter set e o l marker j edit get property view eol marker ?? painter set e o l marker color j edit get color property view eol marker color painter set wrap guide paint j edit get property view wrap guide painter set wrap guide color j edit get color property view wrap guide color painter set caret color j edit get color property view caret color painter set selection color j edit get color property view selection color painter set multiple selection color j edit get color property view multiple selection color painter set background j edit get color property view bg color painter set foreground j edit get color property view fg color painter set block caret enable j edit get property view block caret painter set thick caret enable j edit get property view thick caret painter set line highlight enable j edit get property view line highlight painter set line highlight color j edit get color property view line highlight color painter set anti alias anti alias j edit get property view anti alias painter set fractional font metric enable j edit get property view frac font metric painter set selection fg color j edit get color property view selection fg color painter set selection fg color enable j edit get property view selection fg font j edit get property view font font size j edit get property view fontsize 12 painter set style syntax utility load style font font size syntax style fold line style syntax style 4 i 0 i 3 i++ fold line style i syntax utility parse style j edit get property view style fold line + i font font size painter set fold line style fold line style load buffer switcher load buffer switcher j edit get property view show buffer switcher buffer switcher buffer switcher buffer switcher add border layout n o r t h buffer switcher buffer switcher update buffer list revalidate buffer switcher remove buffer switcher revalidate buffer switcher handle buffer update e b handler handle buffer update buffer update msg buffer buffer msg get buffer msg get what buffer update r e t e d buffer switcher buffer switcher update buffer list when closing last buffer buffer update l o s e d handler doesn t call set buffer because buffer are support instead wait subsequent untitl creation buffer close since recent buffer set one wa close recent buffer msg get what buffer update l o s e d buffer switcher buffer switcher update buffer list buffer buffer close buffer current buffer buffer buffer recent buffer ? recent buffer buffer get prev buffer buffer close set buffer buffer recent buffer buffer get prev buffer recent buffer recent buffer buffer close buffer msg get buffer close buffer untitl buffer wa so i need keep s information caret path remove close buffer get path msg get what buffer update l o d s t r t e d buffer buffer text area set caret position 0 text area get painter repaint msg get what buffer update l o d e d buffer buffer text area repaint buffer switcher buffer switcher update buffer list view get edit pane status bar status view get status status update caret status status update buffer status status update misc status load caret info msg get what buffer update d i r t y h n g e d buffer buffer buffer switcher buffer dirty buffer switcher repaint buffer switcher update buffer list msg get what buffer update m r k e r s h n g e d buffer buffer text area get gutter repaint msg get what buffer update p r o p e r t i e s h n g e d buffer buffer buffer load text area property change view get edit pane view get status update buffer status msg get what buffer update s v e d buffer buffer text area property change status handler status handler status listener status change textarea text area text area flag value status bar status view get status status flag o v e r w r i t e h n g e d status set message clear j edit get property view status overwrite change value ? 1 0 m u l t i s e l e t h n g e d status set message clear j edit get property view status multi change value ? 1 0 r e t s e l e t h n g e d status set message clear j edit get property view status rect select change value ? 1 0 status update misc status bracket select textarea text area text area line text status bar status view get status status status set message clear j edit get property view status bracket line text narrow active textarea text area text area status bar status view get status status status set message clear j edit get property view status narrow marker highlight marker highlight text area extension marker highlight color marker highlight color get marker highlight color color get marker highlight color marker highlight color set marker highlight color set marker highlight color color marker highlight color marker highlight color marker highlight color marker highlight enable marker highlight enable marker highlight marker highlight enable set marker highlight enable marker highlight marker highlight marker highlight paint valid line override paint valid line graphics2 d gfx screen line physical line start end y marker highlight enable buffer buffer buffer text area get buffer buffer get marker range start end gfx set color get marker highlight color height text area get painter get line height gfx fill rect 0 y text area get gutter get width height get tool tip text override get tool tip text x y marker highlight enable line height text area get painter get line height line height 0 line y line height start text area get screen line start offset line end text area get screen line end offset line start 1 || end 1 buffer buffer buffer text area get buffer marker marker buffer get marker range start end marker shortcut marker get shortcut shortcut \0 j edit get property view gutter marker no name value shortcut j edit get property view gutter marker 