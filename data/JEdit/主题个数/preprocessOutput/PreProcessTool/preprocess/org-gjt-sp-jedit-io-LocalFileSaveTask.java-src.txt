io io closeable io io output stream io i o buffer channel channel i o utility log task task asynchronou saving local disk ommit v f s p i stack use store backup setting etc example use example ftp ftp v f s perform local backup remote background no g u i freeze example thread utility run background local save task vadim voituk since j edit 4 5pre t o d o add set label amp progress observer local save task task b u f f e r s i e 4096 body charset local save task body charset body body charset charset task run override run output stream o channel ch o output stream ch o get channel src body get charset o output stream ch o get channel buffer buff buffer allocate b u f f e r s i e length src length set maximum length set status saving + length + + get path t o d o change write 0 write length write + ch buffer buff put src write math min b u f f e r s i e length write flip buff rewind set value write i o e log log log e r r o r e e i o utility close quietly closeable ch i o utility close quietly closeable o 