text area j edit text area component tab size 4 indent size 4 no tab collapse fold 1 1999 2005 2000 ollie rutherfurd 2006 matthieu casanova g n u 2 w i t h o u t n y w r r n t y m e r h n t b i l i t y f i t n e s s f o r p r t i u l r p u r p o s e g n u g n u 59 330 m 02111 1307 u s textarea importsimport event iterator link list too many listener text iterator text character iterator annotation nonnull event event im input request plaf metal metal look feel plaf layer u i text segment text tab expand debug i property j edit action context j edit action set j edit bean shell action text utility buffer j edit buffer input input handler input input handler provider input input handler provider input text area input handler syntax chunk syntax token handler syntax token generic g u i utility log standard utility thread utility text area component concrete instance use j edit itself call j edit text area us minimal set j edit p because base j edit embed text area standalone text area so need embeddable separable kpou rafactor into standalone text area text area 24491 2016 08 09 22 16 29 text area j panel text area constructor create j edit text area property property contain information like shortcut binding input handler provider input handler provider text area i property property input handler provider input handler provider input handler provider input handler provider enable event w t event f o u s e v e n t m s k | w t event k e y e v e n t m s k initialize some misc stuff selection selection chunk cache chunk cache painter text area painter gutter gutter gutter set mouse action provider mouse action property gutter listener list event listener list caret event mutable caret event blink offset x y point structure matcher link list structure matcher structure matcher add structure matcher bracket matcher initialize g u i set layout scroll layout add scroll layout e n t e r painter add scroll layout l e f t gutter some plugin add stuff right hand gutter request focus layer u i req focus request focus layer u i vertical box box box layout x x i s vertical box add j layer j component vertical j scroll bar adjustable v e r t i l req focus vertical set request focus enable add scroll layout r i g h t vertical box add scroll layout b o t t o m j layer j component horizontal j scroll bar adjustable h o r i o n t l req focus horizontal set request focus enable horizontal set value 0 0 0 0 ensure text area s look slightly consistent rest metal l f depend on so well document only affect appearance so future breakage shouldn t matter u i get look feel metal look feel set border text area border vertical put client property j scroll bar standing f l s e horizontal put client property j scroll bar standing f l s e horizontal set border add some event listener vertical add adjustment listener adjust handler horizontal add adjustment listener adjust handler add focus listener focus handler add mouse wheel listener mouse wheel handler doesn t seem very correct fix problem when setting initial caret position buffer eg from recent list focus component get fold painter fold painter get fold painter triangle fold painter init input handler create an action context initializ input handler textarea call when create standalone textarea from within j edit init input handler action context j edit action context j edit bean shell action j edit action set j edit bean shell action override action event evt j edit bean shell action action action text area set mouse handler text area mouse handler input handler provider input handler provider text area input handler override j edit bean shell action get action action action context get action action get action context j edit action context j edit bean shell action j edit action set j edit bean shell action get action context action context set mouse handler set mouse handler mouse input adapter mouse input adapter mouse handler mouse input adapter painter add mouse listener mouse handler painter add mouse motion listener mouse handler set transfer handler override set transfer handler transfer handler handler set transfer handler handler get drop target add drop target listener text area drop handler too many listener e log log log e r r o r e override builder builder builder base len base length 1 builder append base builder set length len chop off last builder append caret append caret builder append caret line append caret line builder append caret screen line append caret screen line builder append electric scroll append electric scroll builder append horizontal offset append horizontal offset builder append magic caret append magic caret builder append offset x y append offset x y builder append old caret line append old caret line builder append screen last line append screen last line builder append visible line append visible line builder append first physical line append get first physical line builder append phy last line append phy last line append builder dispose plugin macro call since j edit 4 2pre1 dispose display text area dispose gutter dispose get input handler since j edit 4 3pre1 input handler get input handler input handler provider get input handler get painter responsible painting text area text area painter get painter painter get gutter gutter left text area gutter disabled gutter get gutter gutter get display display use text area since j edit 4 2pre1 display get display display caret blink enable caret blinking otherwise caret blink enable caret blink set caret blink enable toggle caret blinking caret blink caret blink otherwise set caret blink enable caret blink caret blink caret blink caret blink blink buffer invalidate line caret line get electric scroll minimum distance number line from caret near edge screen top bottom edge get electric scroll electric scroll set electric scroll set number line from top bottom text area are alway visible electric scroll number line alway visible from top bottom set electric scroll electric scroll electric scroll electric scroll quick enable click middle mouse button paste most recent selection % register control drag insert selection at caret quick enable quick set quick enable set click middle mouse button paste most recent selection % register control drag insert selection at caret quick flag set quick enable quick quick quick get buffer buffer text area editing since 4 3pre3 prior 4 3pre3 function buffer type cause your calling view get buffer instead view get text area get buffer j edit buffer get buffer buffer set buffer set buffer text area editing t run standalone textarea j edit please call use link edit pane set buffer buffer instead buffer buffer set buffer j edit buffer buffer buffer buffer buffer change compound edit buffer dubious? set first line 0 buffer loading select none caret line caret caret screen line 0 match current buffer performing compound edit? compound edit buffer inside compound edit compound edit buffer end compound edit set buffer buffer buffer old buffer perform compound edit so open compound edit buffer compound edit buffer begin compound edit chunk cache set buffer buffer gutter set buffer buffer property change display display release display display get display buffer display init buffer loading update scroll bar repaint fire scroll event buffer change editable text area editable otherwise editable buffer editable drag enable drag drop text enable since j edit 4 2pre5 drag enable dnd enable set drag enable set drag drop text enable since j edit 4 2pre5 set drag enable dnd enable dnd enable dnd enable get join non word set click join non word character form one word since j edit 4 3pre2 get join non word join non word set join non word set click join non word character form one word since j edit 4 3pre2 set join non word join non word join non word join non word get ctrl rectangular selection set t r l enable rectangular selection mode press since j edit 4 3pre10 ctrl rectangular selection ctrl rectangular selection set ctrl rectangular selection set t r l enable rectangular selection mode press since j edit 4 3pre10 set ctrl rectangular selection ctrl rectangular selection ctrl rectangular selection ctrl rectangular selection scroll get first line vertical scroll bar position since j edit 4 2pre1 get first line display first line get scroll line + display first line get skew set first line set vertical scroll bar position first line scroll bar position set first line first line ensure we t empty space at bottom top etc max display get scroll line count visible line + last line partial ? 1 0 first line max first line max first line 0 first line 0 old first line get first line debug s r o l l d e b u g log log log d e b u g set first line from + old first line + + first line first line old first line display set first line old first line first line repaint fire scroll event get first physical line first visible physical line index since j edit 4 0pre4 get first physical line display display first line display first line get physical line 0 set first physical line set vertical scroll bar position phy first line first physical line display since j edit 4 2pre1 set first physical line phy first line phy first line 0 phy first line 0 set first physical line phy first line 0 set vertical scroll bar position phy first line first physical line display skew local screen line delta since j edit 4 2pre1 set first physical line phy first line skew debug s r o l l d e b u g log log log d e b u g set first physical line + phy first line + + skew + amount phy first line display first line get physical line display set first physical line amount skew repaint fire scroll event get last physical line last visible physical line index since j edit 4 0pre4 get last physical line phy last line get last screen line last screen line index different from link get visible line because buffer les line than visible line last screen line index since j edit 4 3pre1 get last screen line screen last line get visible line number line visible text area number visible line textarea get visible line visible line get horizontal offset horizontal offset draw line get horizontal offset horizontal offset set horizontal offset set horizontal offset draw line use implement horizontal scroll horizontal offset offset horizontal offset set horizontal offset horizontal offset horizontal offset 0 horizontal offset 0 horizontal offset horizontal offset horizontal offset horizontal offset painter repaint fire scroll event scroll up line scroll up one line since j edit 2 7pre2 scroll up line set first line get first line 1 scroll up page scroll up one page since j edit 2 7pre2 scroll up page set first line get first line get visible line + last line partial ? 1 0 scroll down line scroll down one line since j edit 2 7pre2 scroll down line set first line get first line + 1 scroll down page scroll down one page since j edit 2 7pre2 scroll down page set first line get first line + get visible line last line partial ? 1 0 scroll caret ensure caret visible scroll text area necessary electric scroll electric scroll perform scroll caret electric scroll scroll caret line caret buffer get line start offset caret line electric scroll scroll ensure specify location buffer visible offset offset from start buffer electric scroll electric scroll perform since j edit 4 2pre3 scroll offset electric scroll line buffer get line offset offset scroll line offset buffer get line start offset line electric scroll ensure specify location buffer visible line line number offset offset from start line electric scroll electric scroll perform since j edit 4 0pre6 scroll line offset electric scroll buffer loading debug s r o l l t o d e b u g log log log d e b u g scroll line count + get line count visible line 1 debug s r o l l t o d e b u g log log log d e b u g visible line 0 fix when line wrap wa possible second next subregion line chunk cache line info info chunk cache get line info physical line line subregion chunk cache get subregion offset offset info set first physical line line subregion get ready extra end virt line length buffer get line length line offset line length extra end virt width offset line length offset line length extra end virt 0 electric scroll electric scroll visible line 1 electric scroll 1 ? electric scroll 0 scroll vertically screen line chunk cache get screen line offset line offset visible line get visible line screen line 1 we are scroll position on screen debug s r o l l t o d e b u g log log log d e b u g screen line 1 chunk cache line info info chunk cache get line info physical line line subregion chunk cache get subregion offset offset info prev line display get prev visible line get first physical line next line display get next visible line get last physical line line get first physical line debug s r o l l t o d e b u g log log log d e b u g line + + get first physical line set first physical line line subregion electric scroll line prev line debug s r o l l t o d e b u g log log log d e b u g line + + prev line set first physical line prev line subregion electric scroll line get last physical line debug s r o l l t o d e b u g log log log d e b u g line + + get last physical line set first physical line line subregion + electric scroll visible line + last line partial ? 2 1 line next line debug s r o l l t o d e b u g log log log d e b u g line + + next line set first physical line next line subregion + electric scroll visible line + last line partial ? 2 1 debug s r o l l t o d e b u g log log log d e b u g neither log log log d e b u g last physical line + get last physical line set first physical line line subregion visible line 1 debug s r o l l t o d e b u g log log log d e b u g last physical line + get last physical line screen line electric scroll debug s r o l l t o d e b u g log log log d e b u g electric up set first line get first line electric scroll + screen line screen line visible line electric scroll last line partial ? 2 1 debug s r o l l t o d e b u g log log log d e b u g electric down set first line get first line + electric scroll visible line + screen line + last line partial ? 2 1 scroll horizontally display line visible line point point offset x y line offset offset x y point x + extra end virt point x 0 set horizontal offset horizontal offset point x + width + 5 point x painter get width width 5 set horizontal offset horizontal offset + painter get width point x width 5 add scroll listener add scroll listener text area listener listener since j edit 3 2pre2 add scroll listener scroll listener listener listener list add scroll listener listener remove scroll listener remove scroll listener from text area listener listener since j edit 3 2pre2 remove scroll listener scroll listener listener listener list remove scroll listener listener screen line stuff get physical line screen line physical line number contain specify screen line screen line screen line since j edit 4 0pre6 get physical line screen line screen line chunk cache get line info screen line physical line get screen line offset screen wrap line contain specify offset 1 line currently visible on screen offset offset since j edit 4 0pre4 get screen line offset offset line buffer get line offset offset offset buffer get line start offset line chunk cache get screen line offset line offset get screen line start offset start offset specify screen wrap line line line since j edit 4 0pre4 get screen line start offset line chunk cache line info line info chunk cache get line info line line info physical line 1 1 buffer get line start offset line info physical line + line info offset get screen line end offset end offset specify screen wrap line line line since j edit 4 0pre4 get screen line end offset line chunk cache line info line info chunk cache get line info line line info physical line 1 1 buffer get line start offset line info physical line + line info offset + line info length offset conversion xy offset convert point an offset note unlike previou j edit now 1 y co ordinate out bound x x co ordinate point y y co ordinate point xy offset x y xy offset x y convert point an offset note unlike previou j edit now 1 y co ordinate out bound x x co ordinate point y y co ordinate point round round up next character past middle character? since j edit 3 2pre6 xy offset x y round height painter get line height line y height line 0 || line visible line 1 x screen line offset line x round x screen line offset convert point given screen line an offset x x co ordinate point screen line screen line round round up next character past middle character? since j edit 3 2pre6 x screen line offset screen line x round chunk cache line info line info chunk cache get line info screen line line info physical line 1 get line end offset display get last visible line 1 x line x horizontal offset offset line chunk x offset line info chunk x line line start offset get line start offset line info physical line offset line 1 || offset line line info offset + line info length line start offset + line info offset + line info length 1 offset line start offset + offset line line character breaker breaker line character breaker offset lower breaker offset boundary offset ? offset breaker previou offset round lower x chunk offset x line info chunk lower line start offset upper breaker next lower upper x chunk offset x line info chunk upper line start offset x line lower x + upper x 2 ? lower upper lower offset x y convert an offset into point text area painter s co ordinate space offset offset location offset on screen specify offset visible point offset x y offset line buffer get line offset offset offset buffer get line start offset line point ret val point offset x y line offset ret val convert an offset into point text area painter s co ordinate space line line offset offset location offset on screen specify offset visible point offset x y line offset offset x y line offset point convert line offset pair into an x y pixel point relative upper left corner 0 0 text area line physical line number from top document offset offset character from start line ret val point store value ret val convenience specify offset visible since j edit 4 0pre4 point offset x y line offset point ret val display line visible line screen line chunk cache get screen line offset line offset screen line 1 ret val y screen line painter get line height chunk cache line info info chunk cache get line info screen line ret val x horizontal offset + chunk offset x info chunk offset ret val painting invalidate screen line range mark range screen line need repaint start first line end last line since j edit 4 0pre4 invalidate screen line range start end buffer loading start end tmp end end start start tmp chunk cache need full repaint end visible line y start painter get line height height end start + 1 painter get line height painter repaint 0 y painter get width height gutter repaint 0 y gutter get width height invalidate line mark line need repaint line physical line invalidate invalidate line line showing || buffer loading || line get first physical line || line phy last line || display line visible line start line 1 end line 1 i 0 i visible line i++ chunk cache line info info chunk cache get line info i info physical line line || info physical line 1 start line 1 start line i info physical line line info last subregion || info physical line 1 end line i chunk cache need full repaint || end line 1 end line visible line invalidate screen line range start line end line invalidate line range mark range physical line need repaint start first line invalidate end last line invalidate invalidate line range start end showing || buffer loading end start tmp end end start start tmp end get first physical line || start get last physical line start screen line 1 end screen line 1 i 0 i visible line i++ chunk cache line info info chunk cache get line info i info physical line start || info physical line 1 start screen line 1 start screen line i info physical line end info last subregion || info physical line 1 end screen line i start screen line 1 start screen line 0 chunk cache need full repaint || end screen line 1 end screen line visible line invalidate screen line range start screen line end screen line convenience get buffer length length buffer get buffer length buffer get length get line count number physical line buffer get line count buffer get line count get line offset line contain specify offset offset offset get line offset offset buffer get line offset offset get line start offset start offset specify line line line physical line start offset specify line 1 line invalid get line start offset line buffer get line start offset line get line end offset end offset specify line line line physical line end offset specify line 1 line invalid get line end offset line buffer get line end offset line get line length length specify line line line get line length line buffer get line length line get text specify substring buffer start start offset len length substring substring get text start len buffer get text start len copy specify substring buffer into segment start start offset len length substring segment segment get text start len segment segment buffer get text start len segment entire text text area get text buffer get text 0 buffer get length get line text text on specify line line index line number text line index invalid get line text line index buffer get line text line index copy text on specify line into segment line index invalid segment contain line index line number physical line segment segment into which data store get line text line index segment segment buffer get line text line index segment get visible line text visible part given line screen line screen line visible text since 4 5pre1 get visible line text screen line offset get horizontal offset chunk cache line info line info chunk cache get line info screen line line info physical line 1 line start offset get line start offset line info physical line point point offset x y line start offset + line info offset begin xy offset offset + point x point y end xy offset get painter get width point y buffer get text begin end begin visible part given line screen line screen line segment segment into which data store since 4 5pre1 get visible line text screen line segment segment offset get horizontal offset chunk cache line info line info chunk cache get line info screen line line info physical line 1 line start offset get line start offset line info physical line point point offset x y line start offset + line info offset begin xy offset offset + point x point y end xy offset get painter get width point y buffer get text begin end begin segment get visible line segment visible part given line sequence buffer data are copy so use e d t thread screen line screen line visible text since 4 5pre1 sequence get visible line segment screen line offset get horizontal offset chunk cache line info line info chunk cache get line info screen line line info physical line 1 line start offset get line start offset line info physical line point point offset x y line start offset + line info offset begin xy offset offset + point x point y end xy offset get painter get width point y buffer get segment begin end begin set text set entire text text area text content buffer set text text buffer begin compound edit buffer remove 0 buffer get length buffer insert 0 text buffer end compound edit selection select all select all text buffer preserve scroll position select all first line get first line horiz offset get horizontal offset set selection selection range 0 buffer get length move caret position buffer get length set first line first line set horizontal offset horiz offset select line select current line since j edit 2 7pre2 select line caret line get caret line start get line start offset caret line end get line end offset caret line 1 selection s selection range start end multi add selection s set selection s move caret position end select paragraph select paragraph at caret position since j edit 2 7pre2 select paragraph caret line get caret line get line length caret line 0 u i get look feel provide feedback start caret line end caret line start 0 get line length start 0 start end get line count get line length end 0 end++ selection start get line start offset start + 1 selection end get line end offset end 1 1 selection s selection range selection start selection end multi add selection s set selection s move caret position selection end select word select word at caret position since j edit 2 7pre2 select word line get caret line line start get line start offset line offset get caret position line start get line length line 0 line text get line text line no word sep buffer get property no word sep offset get line length line offset word start text utility find word start line text offset no word sep word end text utility find word end line text offset+1 no word sep selection s selection range line start + word start line start + word end multi add selection s set selection s move caret position line start + word end select match bracket select from bracket at specify position correspond bracket since j edit 4 2pre1 selection select match bracket position quick position line buffer get line offset position line offset position buffer get line start offset position line get line length position line 0 bracket text utility find match bracket buffer position line math max 0 line offset 1 bracket 1 selection s bracket position quick move caret position position s selection range bracket position quick move caret position bracket + 1 s selection range position 1 bracket + 1 multi quick select none add selection s s select from bracket at caret position correspond bracket since j edit 4 0pre2 select match bracket select match bracket caret select block select block surround caret since j edit 2 7pre2 select block selection s get selection at offset caret start end s start end caret start s start end s end text get text 0 buffer get length we t backward scan start 0 start 0 u i get look feel provide feedback scan backward find bracket open bracket ??????????????????????? close bracket ??????????????????????? count 1 open bracket \0 close bracket \0 backward scan start 0 text at start index open bracket index index 1 count 0 open bracket close bracket close bracket at index backward scan close bracket index 1 count++ reset count count 1 scan forward match bracket open bracket \0 u i get look feel provide feedback forward scan text at end close bracket count 0 end++ forward scan open bracket count++ ++end buffer get length s selection range start end multi add selection s set selection s move caret position end line structure scope specify line contain currently match structure s scope since j edit 4 2pre3 line structure scope line match match start line caret line line match start line line caret line line match end line line caret line invert selection invert selection since j edit 4 0pre1 invert selection selection invert selection get selection count number selection use test existence selection since j edit 3 2pre2 get selection count selection get selection count get selection current selection since j edit 3 2pre1 nonnull selection get selection selection get selection selection specify index must between 0 value get selection count since j edit 4 3pre1 index index selection want selection get selection index selection selection get index get selection iterator current selection since j edit 4 3pre1 iterator selection get selection iterator selection selection iterator select none deselect everyth select none invalidate select line set selection selection set selection set selection nest overlapping selection are merge where possible element are ignore selection selection since j edit 3 2pre1 set selection selection selection invalidate old selection invalidate select line selection set selection selection finish caret update caret line n o s r o l l set selection nest overlapping selection are merge where possible selection selection since j edit 3 2pre1 set selection selection selection invalidate select line selection set selection selection finish caret update caret line n o s r o l l add selection add selection nest overlapping selection are merge where possible selection selection since j edit 3 2pre1 add selection selection selection invalidate select line selection add selection selection finish caret update caret line n o s r o l l add selection nest overlapping selection are merge where possible selection selection since j edit 3 2pre1 add selection selection selection invalidate select line selection add selection selection finish caret update caret line n o s r o l l get selection at offset selection contain specific offset there no selection at offset offset offset since j edit 3 2pre1 selection get selection at offset offset selection get selection at offset offset remove from selection deactivate specify selection sel selection since j edit 3 2pre1 remove from selection selection sel invalidate select line selection remove from selection sel finish caret update caret line n o s r o l l deactivate selection at specify offset there no selection at offset doe nothing offset offset since j edit 3 2pre1 remove from selection offset selection sel get selection at offset offset sel invalidate select line selection remove from selection sel finish caret update caret line n o s r o l l resize selection resiz selection at specify offset create one there no selection at specify offset utility mainly mouse event handler because handle end being before offset gracefully unlike rest selection p i offset offset end selection end extra end virt only rectangular selection specifie how far into virtual space rect make selection rectangular? since j edit 3 2pre1 resize selection offset end extra end virt rect selection s selection get selection at offset offset s invalidate line range s start line s end line selection remove from selection s selection resize selection offset end extra end virt rect fire caret event extend selection selection at specify offset create one there no selection at specify offset different from resize chunk add selection question instead replacing offset offset end selection end since j edit 3 2pre1 extend selection offset end extend selection offset end 0 0 selection at specify offset create one there no selection at specify offset different from resize chunk add selection question instead replacing offset offset end selection end extra start virt extra virtual space at start extra end virt extra virtual space at end since j edit 4 2pre1 extend selection offset end extra start virt extra end virt offset get character boundary at offset end get character boundary at end selection s get selection at offset offset s invalidate line range s start line s end line selection remove from selection s offset s start offset end end s end offset s end offset s start end offset tmp end end offset offset tmp rectangular selection mode s selection rect offset end selection rect s extra start virt extra start virt selection rect s extra end virt extra end virt s selection range offset end selection add selection s fire caret event rectangular selection mode extra end virt 0 line get line offset end scroll line get line length line + extra end virt get select text text specify selection s selection since j edit 3 2pre1 get select text selection s builder buf builder s end s start s get text buffer buf buf text all active selection separator insert between each text chunk example newline since j edit 3 2pre1 get select text separator selection sel selection get selection sel length 0 builder buf builder i 0 i sel length i++ i 0 buf append separator sel i get text buffer buf buf text all active selection newline between each text chunk get select text get select text set select text replace selection specify text s selection select text text since j edit 3 2pre1 set select text selection s select text editable internal text component + read only buffer begin compound edit move caret position s set text buffer select text no matter what happend stop u from leaving buffer bad state buffer end compound edit no no no select none replace selection at caret specify text there no selection at caret text insert at caret position set select text select text caret replace selection select text caret 1 move caret position caret select none replace selection at caret specify text there no selection at caret text insert at caret position select text selection move caret move caret insertion location necessary since j edit 4 2pre5 set select text select text move caret caret replace selection select text move caret caret 1 move caret position caret select none replace selection set selection doe deactivate doe move caret please use link set select text instead select text selection caret position since 4 3pre1 replace selection select text editable runtime text component read only caret 1 get selection count 0 compatibility old j edit buffer insert caret select text buffer begin compound edit selection selection get selection selection selection selection caret selection set text buffer select text buffer end compound edit caret get select line sort line number on which selection selection are present p most convenient way iterate through select line buffer line number pass parameter such link j edit buffer get line text non non zero size line index no line are actually select caret line since j edit 3 2pre1 get select line selection get selection count 0 caret line selection get select line caret caret auto scroll change buffer scroll text area since j edit 4 3pre2 caret auto scroll focus component add structure matcher add structure matcher since j edit 4 2pre3 add structure matcher structure matcher matcher structure matcher add matcher remove structure matcher remove structure matcher since j edit 4 2pre3 remove structure matcher structure matcher matcher structure matcher remove matcher get structure match start structure element bracket xml tag etc match one before caret since j edit 4 2pre3 structure matcher match get structure match match blink caret blink caret blink caret caret blink blink blink invalidate line caret line blink center caret center caret on screen since j edit 2 7pre2 center caret offset get screen line start offset visible line 1 offset 1 u i get look feel provide feedback set caret position offset scroll center caret scroll text area so caret center on screen sometime get confuse fold at least make caret visible guess better on subsequent attempt since j edit 4 3pre15 scroll center caret get display line visible get caret line get display expand fold get caret line physical line get caret line mid physical line get physical line screen line visible line 1 diff physical line mid physical line set first line get first line + diff request focus set caret position set caret position deactivate selection caret caret position set caret position caret select none move caret position caret set caret position deactivate selection caret caret position electric scroll electric scrolling? set caret position caret electric scroll select none move caret position caret electric scroll move caret position set caret position deactivate selection caret caret position move caret position caret move caret position caret set caret position deactivate selection caret caret position electric scroll electric scrolling? move caret position caret electric scroll move caret position caret electric scroll ? e l e t r i s r o l l n o r m l s r o l l n o s r o l l 0 n o r m l s r o l l 1 e l e t r i s r o l l 2 set caret position deactivate selection caret caret position scroll mode scroll mode n o s r o l l n o r m l s r o l l e l e t r i s r o l l since j edit 4 2pre1 move caret position caret scroll mode caret 0 || caret buffer get length illegal argument caret out bound + caret old caret line caret line caret caret finish caret update old caret line scroll mode caret get character boundary at caret caret line get line offset caret magic caret 1 finish caret update old caret line scroll mode get caret position zero base index caret position get caret position caret get caret line line number contain caret get caret line caret line get magic caret position an internal position use keep caret one column move around line vary length since j edit 4 2pre1 get magic caret position magic caret 1 magic caret chunk cache subregion offset x caret line caret get line start offset caret line magic caret set magic caret position set `magic caret position use preserve column position when move up down line magic caret magic caret position since j edit 4 2pre1 set magic caret position magic caret magic caret magic caret add caret listener add caret change listener text area listener listener add caret listener caret listener listener listener list add caret listener listener remove caret listener remove caret change listener from text area listener listener remove caret listener caret listener listener listener list remove caret listener listener go next bracket move caret next closing bracket select want extend selection since j edit 2 7pre2 go next bracket select caret 1 caret buffer get length text get text caret buffer get length caret 1 loop i 0 i text length i++ text at i caret caret + i + 1 loop caret 1 u i get look feel provide feedback select extend selection caret caret multi select none move caret position caret go next character move caret next character select want extend selection since j edit 2 7pre2 go next character select selection s get selection at offset caret select s selection range multi caret s end move caret position s end set caret position s end extra start virt extra end virt s selection rect extra start virt selection rect s extra start virt extra end virt selection rect s extra end virt extra start virt 0 extra end virt 0 caret caret caret buffer get length select rectangular selection mode || s selection rect s caret s start extra start virt++ extra end virt++ u i get look feel provide feedback caret get line end offset caret line 1 select rectangular selection mode || s selection rect s caret s start extra start virt++ extra end virt++ line display get next visible line caret line line 1 u i get look feel provide feedback caret get line start offset line caret get next character offset caret select extend selection caret caret extra start virt extra end virt multi select none move caret position caret go next line move caret next line select want extend selection since j edit 2 7pre2 go next line select selection s get selection at offset caret rect select s ? rectangular selection mode s selection rect magic get magic caret position caret chunk cache get below position caret line caret buffer get line start offset caret line magic + 1 rect select select caret 1 end get line end offset caret line 1 caret end u i get look feel provide feedback caret end change line select caret set magic caret position magic go next page move caret next screenful select want extend selection since j edit 2 7pre2 go next page select scroll caret magic get magic caret position caret line display get first visible line caret line display get next visible line caret line caret get first line + get visible line display get scroll line count last visible line display get last visible line caret get line end offset last visible line 1 caret screen line get screen line offset caret scroll down page caret x screen line offset caret screen line magic select extend selection caret caret multi select none move caret position caret set magic caret position magic go next paragraph move caret start next paragraph select want extend selection since j edit 2 7pre2 go next paragraph select line no get caret line caret get buffer length found blank segment line segment segment loop i line no + 1 i get line count i++ display line visible i get line text i line segment j 0 j line segment count j++ line segment line segment offset + j found blank caret get line start offset i loop loop found blank select extend selection caret caret multi select none move caret position caret go next word move caret start next word note view eat whitespace propery move caret end current word instead select want extend selection since j edit 2 7pre2 go next word select go next word select move caret start next word since j edit 4 1pre5 go next word select eat whitespace buffer loading line start get line start offset caret line caret caret line start line text get line text caret line caret line text length next line display get next visible line caret line next line 1 u i get look feel provide feedback caret get line start offset next line no word sep buffer get property no word sep camel word buffer get property camel word caret text utility find word end line text caret + 1 no word sep camel word eat whitespace caret + line start select extend selection caret caret multi select none move caret position caret go prev bracket move caret previou bracket select want extend selection since j edit 2 7pre2 go prev bracket select text get text 0 caret caret 1 loop i get caret position 1 i 0 i text at i caret i loop caret 1 u i get look feel provide feedback select extend selection caret caret multi select none move caret position caret go prev character move caret previou character select want extend selection since j edit 2 7pre2 go prev character select selection s get selection at offset caret select s selection range multi caret s start move caret position s start set caret position s start caret 0 u i get look feel provide feedback extra start virt 0 extra end virt 0 caret caret select caret get line end offset caret line 1 s selection rect extra start virt selection rect s extra start virt extra end virt selection rect s extra end virt caret s start extra start virt 0 caret get prev character offset caret extra start virt extra end virt 0 caret get prev character offset caret extra end virt caret get prev character offset caret caret get line start offset caret line line display get prev visible line caret line line 1 u i get look feel provide feedback caret get line end offset line 1 caret get prev character offset caret select extend selection caret caret extra start virt extra end virt multi select none move caret position caret go prev line move caret previou line select want extend selection since j edit 2 7pre2 go prev line select selection s get selection at offset caret rect select s ? rectangular selection mode s selection rect magic get magic caret position caret chunk cache get above position caret line caret buffer get line start offset caret line magic + 1 rect select select caret 1 start get line start offset caret line caret start u i get look feel provide feedback caret start change line select caret set magic caret position magic go prev page move caret previou screenful select want extend selection since j edit 2 7pre2 go prev page select scroll caret magic get magic caret position caret line display get first visible line caret line display get next visible line caret line caret get first line 0 first visible line display get first visible line caret get line start offset first visible line caret screen line get screen line offset caret scroll up page caret x screen line offset caret screen line magic select extend selection caret caret multi select none move caret position caret set magic caret position magic go prev paragraph move caret start previou paragraph select want extend selection since j edit 2 7pre2 go prev paragraph select line no caret line caret 0 found blank segment line segment segment loop i line no 1 i 0 i display line visible i get line text i line segment j 0 j line segment count j++ line segment line segment offset + j found blank caret get line end offset i 1 loop loop found blank select extend selection caret caret multi select none move caret position caret go prev word move caret start previou word select want extend selection since j edit 2 7pre2 go prev word select go prev word select go prev word move caret start previou word eat whitespace eat whitespace since j edit 4 1pre5 go prev word select eat whitespace go prev word select eat whitespace go prev word move caret start previou word eat whitespace eat whitespace eat only after word eat only whitespace after word effect go actual word start eating since j edit 4 4pre1 go prev word select eat whitespace eat only after word buffer loading line start get line start offset caret line caret caret line start line text get line text caret line caret 0 line start 0 u i get look feel provide feedback prev line display get prev visible line caret line prev line 1 u i get look feel provide feedback caret get line end offset prev line 1 no word sep buffer get property no word sep camel word buffer get property camel word caret text utility find word start line text caret 1 no word sep camel word eat whitespace eat only after word caret + line start select extend selection caret caret multi select none move caret position caret home dumb home action which only ha 2 state start whitespace start line select we also want select from cursor since 4 3pre18 home select get input handler get last action count % 2 1 go start white space select go start line select end dumb end action which only ha 2 state end whitespace end line select we also want select from cursor since 4 3pre18 end select get input handler get last action count % 2 1 go end white space select go end line select smart home on subsequent invocation first move caret first non whitespace character line then beginning line then first visible line select want extend selection since j edit 4 3pre7 smart home select get input handler get last action count 1 go start white space select 2 go start line select 3 go first visible line select smart end ha 4 state base on invocation 1 last character before inline comment 2 last non whitespace character line 3 end line 4 end last visible line select want extend selection since j edit 4 3pre18 smart end select get input handler get last action count 1 po get caret position go end select npo get caret position npo po go end white space select 2 go end white space select 3 go end line select 4 go last visible line select go start line move caret beginning current line select want extend selection since j edit 2 7pre2 go start line select selection s get selection at offset caret line select || s ? caret line s start line caret get line start offset line select extend selection caret caret multi select none move caret position caret go end line move caret end current line select want extend selection since j edit 2 7pre2 go end line select selection s get selection at offset caret line select || s ? caret line s end line caret get line end offset line 1 select extend selection caret caret multi select none move caret position caret so end follow up arrow alway put caret at end previou line example set magic caret position m x v l u e go end move caret end present on current line before comment whitespace select want extend selection since j edit 4 3pre18 go end select line get caret line token handler token handler token handler buffer mark token line token handler token token token handler get token txt get line text line replace comment whitespace find end token token o m m e n t1 || token token o m m e n t2 || token token o m m e n t3 || token token o m m e n t4 i token offset i token offset+token length i++ txt i token next token token next caret get line length line standard utility get trailing white space txt caret + get line start offset line select extend selection caret caret multi select none move caret position caret go start white space move caret first non whitespace character current line select want extend selection since j edit 2 7pre2 go start white space select buffer loading selection s get selection at offset caret line offset select || s line caret line offset caret buffer get line start offset line line s start line offset s start buffer get line start offset line first indent chunk cache get subregion start offset line offset first indent get line start offset line first indent standard utility get leading white space get line text line first indent get line length line first indent 0 first indent + get line start offset line select extend selection caret first indent multi select none move caret position first indent go end white space move caret last non whitespace character current line select want extend selection since j edit 2 7pre2 go end white space select buffer loading selection s get selection at offset caret line offset select || s line caret line offset caret get line start offset line line s end line offset s end get line start offset line last indent chunk cache get subregion end offset line offset last indent get line end offset line last indent get line length line standard utility get trailing white space get line text line last indent 0 last indent get line length line last indent + get line start offset line last indent select extend selection caret last indent multi select none move caret position last indent go first visible line move caret first visible line select want extend selection since j edit 2 7pre2 go first visible line select first visible line get first line 0 ? 0 electric scroll first visible get screen line start offset first visible line first visible 1 first visible get line start offset display get first visible line select extend selection caret first visible multi select none move caret position first visible go last visible line move caret last visible line select want extend selection since j edit 2 7pre2 go last visible line select last visible get first line + visible line display get scroll line count last visible get line end offset display get last visible line 1 last visible visible line electric scroll 1 last line partial last visible last visible 0 last visible 0 last visible get screen line end offset last visible 1 last visible 1 last visible get line end offset display get last visible line 1 select extend selection caret last visible multi select none move caret position last visible go buffer start move caret beginning buffer select want extend selection since j edit 4 0pre3 go buffer start select start buffer get line start offset display get first visible line select extend selection caret start multi select none move caret position start go buffer end move caret end buffer select want extend selection since j edit 4 0pre3 go buffer end select end buffer get line end offset display get last visible line 1 select extend selection caret end multi select none move caret position end go match bracket move caret bracket match one before caret since j edit 2 7pre3 go match bracket get line length caret line 0 dot caret get line start offset caret line bracket text utility find match bracket buffer caret line math max 0 dot 1 bracket 1 select none move caret position bracket + 1 u i get look feel provide feedback user input user input handle insertion specify character perform following operation above beyond simply insert text insert t b selection shift right insert b k s p e d e l e t e remove character insert an indent open close bracket re indent current line necessary ch character set select text overwrite enable since j edit 4 3pre7 user input ch editable u i get look feel provide feedback get painter hide cursor ch user input tab \b backspace \u007 f delete str value ch get selection count 0 word wrap ch indent buffer electric key ch caret line full equal buffer get property auto indent line manually indent buffer get current indent line caret line buffer get ideal indent line caret line insert str indent replace selection str overwrite enable overwrite mode enable otherwise overwrite enable overwrite set overwrite enable set overwrite mode set overwrite enable overwrite blink caret timer restart overwrite overwrite invalidate line caret line fire status change status listener o v e r w r i t e h n g e d overwrite toggle overwrite enable toggle overwrite mode since j edit 2 7pre2 toggle overwrite enable set overwrite enable overwrite backspace delete character before caret selection one active since j edit 2 7pre2 backspace delete backspace word delete word before caret since j edit 2 7pre2 backspace word backspace word delete word before caret eat whitespace eat whitespace since j edit 4 2pre5 backspace word eat whitespace backspace word eat whitespace backspace word delete word before caret eat whitespace eat whitespace eat only after word eat only whitespace after word effect go actual word start eating since j edit 4 4pre1 backspace word eat whitespace eat only after word buffer editable u i get look feel provide feedback get selection count 0 set select text line start get line start offset caret line caret caret line start line text get line text caret line caret 0 line start 0 u i get look feel provide feedback caret no word sep buffer get property no word sep camel word buffer get property camel word caret text utility find word start line text caret 1 no word sep camel word eat whitespace eat only after word buffer remove caret + line start caret caret + line start delete delete character after caret since j edit 2 7pre2 delete delete delete end line delete from caret end current line since j edit 2 7pre2 delete end line buffer editable u i get look feel provide feedback buffer remove caret get line end offset caret line caret 1 delete line delete line contain caret since j edit 2 7pre2 delete line buffer editable u i get look feel provide feedback x chunk cache subregion offset x caret line caret get line start offset caret line line get select line buffer begin compound edit i line length 1 i 0 i start get line start offset line i end get line end offset line i end buffer get length start 0 start end buffer remove start end start buffer end compound edit last line display get last visible line caret line last line offset chunk cache x subregion offset last line 0 x set caret position buffer get line start offset last line + offset offset chunk cache x subregion offset caret line 0 x set caret position get line start offset caret line + offset delete paragraph delete paragraph contain caret since j edit 2 7pre2 delete paragraph buffer editable u i get look feel provide feedback find beginning paragraph start 0 i caret line 1 i 0 i line contain space tab i start get line start offset i find end paragraph end buffer get length i caret line + 1 i get line count i++ display line visible i loop line contain space tab i end get line end offset i 1 buffer remove start end start delete start line delete from caret beginning current line since j edit 2 7pre2 delete start line buffer editable u i get look feel provide feedback buffer remove get line start offset caret line caret get line start offset caret line delete word delete word front caret since j edit 2 7pre2 delete word delete word delete word front caret eat whitespace eat whitespace since j edit 4 2pre5 delete word eat whitespace buffer editable u i get look feel provide feedback get selection count 0 set select text line start get line start offset caret line caret caret line start line text get line text caret line caret line text length line start + caret buffer get length u i get look feel provide feedback caret++ no word sep buffer get property no word sep camel word buffer get property camel word caret text utility find word end line text caret+1 no word sep camel word eat whitespace buffer remove caret caret + line start caret multiple selection enable multiple selection enable since j edit 3 2pre1 multiple selection enable multi toggle multiple selection enable toggle multiple selection since j edit 3 2pre1 toggle multiple selection enable set multiple selection enable multi set multiple selection enable set multiple selection on off accord value multi only affect ability make multiple selection user macro plugin manipulate them regardles setting flag fact most calling necessary multi multiple selection enabled? since j edit 3 2pre1 set multiple selection enable multi multi multi fire status change status listener m u l t i s e l e t h n g e d multi painter repaint rectangular selection enable rectangular selection enable since j edit 4 2pre1 rectangular selection enable rectangular selection mode toggle rectangular selection enable toggle rectangular selection since j edit 4 2pre1 toggle rectangular selection enable set rectangular selection enable rectangular selection mode get selection count 1 selection s get selection 0 remove from selection s rectangular selection mode add selection selection rect s get start s get end add selection selection range s get start s get end set rectangular selection enable set rectangular selection on off accord value rectangular selection mode only affect ability make multiple selection from keyboard rectangular selection alway create drag mouse holding down b control b regardles state flag rectangular selection mode rectangular selection enabled? since j edit 4 2pre1 set rectangular selection enable rectangular selection mode rectangular selection mode rectangular selection mode fire status change status listener r e t s e l e t h n g e d rectangular selection mode painter repaint go parent fold move caret fold contain one at caret position since j edit 4 0pre3 go parent fold line 1 level buffer get fold level caret line i caret line 1 i 0 i buffer get fold level i level line i line 1 u i get look feel provide feedback magic get magic caret position caret buffer get line start offset line + chunk cache x subregion offset line 0 magic + 1 multi select none move caret position caret set magic caret position magic go next fold move caret next fold select want extend selection since j edit 4 0pre3 go next fold select next fold 1 i caret line + 1 i buffer get line count i++ buffer fold start i display line visible i next fold i next fold 1 u i get look feel provide feedback magic get magic caret position caret buffer get line start offset next fold + chunk cache x subregion offset next fold 0 magic + 1 select extend selection caret caret multi select none move caret position caret set magic caret position magic go prev fold move caret previou fold select want extend selection since j edit 4 0pre3 go prev fold select prev fold 1 i caret line 1 i 0 i buffer fold start i display line visible i prev fold i prev fold 1 u i get look feel provide feedback magic get magic caret position caret buffer get line start offset prev fold + chunk cache x subregion offset prev fold 0 magic + 1 select extend selection caret caret multi select none move caret position caret set magic caret position magic collapse fold like link display collapse fold also move caret first line fold since j edit 4 0pre3 collapse fold collapse fold caret line like link display collapse fold also move caret first line fold line physical line index fold we want collapse since j edit 4 3pre7 collapse fold line display collapse fold line expand fold like link display expand fold also move caret first sub fold fully all subfold also expand since j edit 4 0pre3 expand fold fully x chunk cache subregion offset x caret line caret get line start offset caret line line display expand fold caret line fully fully line 1 multi select none move caret position get line start offset line + chunk cache x subregion offset line 0 x select fold select fold contain caret line number since j edit 3 1pre3 select fold select fold caret line select fold contain specify line number line line number since j edit 4 0pre1 select fold line line buffer get fold at line line caret get line end offset line 1 1 selection s selection range get line start offset line 0 caret multi add selection s set selection s move caret position caret narrow fold hide all line except those fold contain caret since j edit 4 0pre1 narrow fold line buffer get fold at line caret line line 0 0 line 1 buffer get line count 1 u i get look feel provide feedback display narrow line 0 line 1 narrow selection hide all line except those selection since j edit 4 0pre1 narrow selection get selection count 1 u i get look feel provide feedback selection sel get selection 0 display narrow sel get start line sel get end line select none add fold surround selection fold marker text area an mode since j edit 4 0pre3 add fold text area buffer editable u i get look feel provide feedback equal buffer get property text area buffer begin compound edit get selection count 0 caret back add fold caret caret caret line caret line set caret position caret caret back selection selection get selection selection selection caret back 0 selection selection1 selection selection selection1 caret back add fold selection start selection end selection start line selection end line selection cannot because there at least 1 selection selection set caret position selection start caret back buffer end compound edit text editing line comment prepend each line selection line comment since j edit 3 2pre1 line comment buffer editable u i get look feel provide feedback comment buffer get context sensitive property caret line comment comment || comment length 0 range line comment comment + buffer begin compound edit line get select line line line text get line text line buffer insert get line start offset line + standard utility get leading white space text comment buffer end compound edit select none range comment add comment start end beginning end selection since j edit 3 2pre1 range comment comment start buffer get context sensitive property caret comment start comment end buffer get context sensitive property caret comment end buffer editable || comment start || comment end || comment start length 0 || comment end length 0 u i get look feel provide feedback comment start + comment end + comment end buffer begin compound edit selection selection get selection selection length 0 old caret caret buffer insert caret comment start buffer insert caret comment end set caret position old caret + comment start length selection s selection s selection range buffer insert s start comment start buffer insert s end comment end s selection rect selection rect rect selection rect s start rect get start column buffer end rect get end column buffer j s start line j s end line j++ buffer insert at column j end comment end buffer insert at column j start comment start select none buffer end compound edit format paragraph format paragraph contain caret since j edit 2 7pre2 format paragraph text area buffer editable u i get look feel provide feedback max line len 0 text area format maxlinelen selection selection get selection selection length 0 buffer begin compound edit selection s selection set select text s text utility format get select text s max line len buffer get tab size buffer end compound edit line no get caret line start 0 end buffer get length i line no 1 i 0 i line contain space tab i start get line end offset i i line no + 1 i get line count i++ line contain space tab i end get line start offset i 1 buffer begin compound edit text buffer get text start end start offset get caret position start no space offset text utility index ignore whitespace text offset buffer remove start end start text text utility format text max line len buffer get tab size buffer insert start text caret po start text length 0 caret po + math min text length text utility ignore whitespace index text no space offset move caret position caret po buffer end compound edit space tab convert space tab selection since j edit 2 7pre2 space tab selection selection get selection buffer editable u i get look feel provide feedback buffer begin compound edit selection length 0 set text text utility space tab get text buffer get tab size selection s selection set select text s text utility space tab get select text s buffer get tab size buffer end compound edit tab space convert tab space selection since j edit 2 7pre2 tab space selection selection get selection buffer editable u i get look feel provide feedback buffer begin compound edit selection length 0 set text text utility tab space get text buffer get tab size selection s selection set select text s text utility tab space get select text s buffer get tab size buffer end compound edit upper convert select text upper since j edit 2 7pre2 upper buffer editable u i get look feel provide feedback selection selection get selection caret 1 selection length 0 caret get caret position select word selection get selection selection length 0 caret 1 set caret position caret u i get look feel provide feedback buffer begin compound edit selection s selection set select text s get select text s upper buffer end compound edit caret 1 set caret position caret lower convert select text lower since j edit 2 7pre2 lower buffer editable u i get look feel provide feedback selection selection get selection caret 1 selection length 0 caret get caret position select word selection get selection selection length 0 caret 1 set caret position caret u i get look feel provide feedback buffer begin compound edit selection s selection set select text s get select text s lower buffer end compound edit caret 1 set caret position caret remove trailing white space remove trailing whitespace from all line selection since j edit 2 7pre2 remove trailing white space buffer editable u i get look feel provide feedback buffer remove trailing white space get select line insert enter indent insert line indent line move caret first non whitespace character line newline character an electric key current line also re indent insert enter indent editable u i get look feel provide feedback auto indent buffer get property auto indent full equal auto indent buffer electric key caret line buffer indent line caret line buffer begin compound edit set select text full equal auto indent buffer indent line caret line line wa already correctly indent caret need move explicitly line contain space tab caret line go end line go start white space simple equal auto indent buffer simple indent line caret line buffer end compound edit insert tab indent insert tab indent editable u i get look feel provide feedback indent full equal buffer get property auto indent indent get selection count 0 caret inside leading whitespace indent sequence text buffer get line segment caret line start buffer get line start offset caret line white space standard utility get leading white space text caret start white space buffer indent line caret line user input indent select line indent all select line since j edit 3 1pre3 indent select line buffer editable u i get look feel provide feedback buffer indent line get select line select none turn on elastic tabstop turn o n elastic tab stop turn on elastic tabstop buffer loading buffer indent using elastic tabstop buffer elastic tabstop on shift indent left shift indent left since j edit 2 7pre2 shift indent left buffer editable u i get look feel provide feedback buffer shift indent left get select line shift indent right shift indent right since j edit 2 7pre2 shift indent right buffer editable u i get look feel provide feedback buffer shift indent right get select line join line join current next line join all line selection since j edit 2 7pre2 join line buffer editable u i get look feel provide feedback buffer begin compound edit selection selection selection selection get selection selection start line selection end line edit from end selection minimize invalidation recaluculation cache line info such indent level fold level join line at selection end line 1 selection nothing select all selection span only one line join line at caret selection end get line end offset caret line nothing caret on last line end buffer get length u i get look feel provide feedback join line at caret line multi select none move caret position end 1 buffer end compound edit w t stuff add left scroll bar add component left side box left vertical scroll bar list plugin us show global overview example possible than one component add each add left side box turn add left ensure scrollbar alway right all add component comp component since j edit 4 2pre1 add left scroll bar component comp vertical box add comp 0 remove left scroll bar remove component from box left vertical scroll bar comp component since j edit 4 2pre1 remove left scroll bar component comp vertical box remove comp add notify call w t when component add parent add document listener override add notify add notify tool tip share instance register component painter tool tip share instance register component gutter recalculate visible line buffer loading recalculate last physical line property change remove notify call w t when component remove from s parent clear pointer currently focus component also remove document listener override remove notify remove notify tool tip share instance unregist component painter tool tip share instance unregist component gutter focus component focus component caret timer stop get focus traversal key enable 1 4 compatibility fix make tab key work since j edit 3 2pre4 override get focus traversal key enable get focus cycle root 1 4 compatibility fix make tab traversal work sane manner since j edit 4 2pre3 get focus cycle root process key event override process key event key event evt get input handler process key event evt 1 source t e x t r e 1 evt consume process key event evt add top component add component above gutter text area vertical scroll bar since j edit 4 2pre3 add top component component comp add scroll layout t o p comp remove top component remove component from above gutter text area vertical scroll bar since j edit 4 2pre3 remove top component component comp remove comp add top left component add component above gutter since j edit 5 2pre1 add top left component component comp add scroll layout t o p l e f t comp add top right component add component above vertical scroll bar since j edit 5 2pre1 add top right component component comp add scroll layout t o p r i g h t comp add bottom left component add component below gutter since j edit 5 2pre1 add bottom left component component comp add scroll layout b o t t o m l e f t comp add bottom left component add component below vertical scroll bar since j edit 5 2pre1 add bottom right component component comp add scroll layout b o t t o m r i g h t comp get input request override input request get input request input support input support input support log log log d e b u g input support activate input support add status listener add scroll listener text area listener listener since j edit 4 3pre2 add status listener status listener listener listener list add status listener listener remove status listener remove scroll listener from text area listener listener since j edit 4 3pre2 remove status listener status listener listener listener list remove status listener listener property change call j edit when necessary plugin call property change buffer buffer get property elastic tabstop call only wa previously off buffer elastic tabstop on turn on elastic tabstop buffer get column block buffer get column block set tab size dirty status buffer elastic tabstop on tab size buffer get tab size foo tab size i 0 i foo length i++ foo i tab size painter get width foo calculate an average use reasonable value propotional font width sample mix width painter get font get bound width sample painter get font render context get width width sample length width math round width old wrap wrap wrap buffer get property wrap hard wrap hard equal wrap large mode buffer get property largefilemode soft wrap soft equal wrap limited equal large mode nohighlight equal large mode old wrap width wrap width old wrap margin wrap margin set max line length buffer get property max line len 0 wrap setting change wrap equal old wrap old wrap width wrap width old wrap margin wrap margin display buffer change buffer loading wrap setting change display invalidate screen line count display notify screen line change chunk cache reset gutter repaint painter repaint add action set add action set textarea s list action set call only on standalone textarea action set action set add since j edit 4 3pre13 add action set j edit action set j edit bean shell action action set action context add action set action set get mark position deprecate use deprecate get mark position selection s get selection at offset caret s caret s start caret s end s end caret s start caret member text area focus component instance variable mouse input adapter mouse handler chunk cache chunk cache display display selection selection action context use only when textarea standalone j edit action context j edit bean shell action j edit action set j edit bean shell action action context buffer change max horizontal scroll width wrap hard wrap soft wrap wrap width max line len wrap margin tab size width width scroll bar initialize cursor location measure an offset pixel from upper left corner text area point offset x y last line partial blink caret visible caret visible otherwise caret visible blink ha focus structure highlight visible structure highlight visible otherwise since j edit 4 2pre3 structure highlight visible match ha focus display line visible match start line display line visible match end line update max horizontal scroll width update max horizontal scroll width max horizontal scroll width chunk cache get max horizontal scroll width horizontal set value math max 0 math min max horizontal scroll width + width painter get width horizontal offset painter get width 0 max horizontal scroll width + width horizontal set unit increment 10 horizontal set block increment painter get width recalculate visible line recalculate visible line painter height painter get height line height painter get line height line height 0 visible line 0 height 0 visible line 0 last line partial visible line height line height last line partial height % line height 0 last line partial visible lines++ chunk cache recalculate visible line doe trick eliminate blank space at end display buffer buffer loading set first line get first line update scroll bar fold structure change fold structure change chunk cache invalidate all recalculate last physical line display line visible caret line x chunk cache subregion offset x caret line caret get line start offset caret line line display get prev visible line caret line multi cannot use select none because finish caret update reopen fold invalidate select line selection set selection selection move caret position buffer get line start offset line + chunk cache x subregion offset line 0 x repaint update scroll bar update state scroll bar call number line buffer change when size text are change update scroll bar buffer debug s r o l l d e b u g log log log d e b u g update scroll bar slc + display get scroll line count vertical visible line 0 debug s r o l l d e b u g log log log d e b u g vertical ok line count display get scroll line count first line get first line visible visible line last line partial ? 1 0 runnable runnable runnable override run vertical set value first line visible 0 line count vertical set unit increment 2 vertical set block increment visible thread utility run dispatch thread runnable finish caret update call display buffer change handler transaction complete finish caret update queue caret update match old caret line match start line invalidate line range old caret line match end line invalidate line range match start line old caret line match caret screen line chunk cache get screen line offset caret line caret buffer get line start offset caret line caret screen line 1 invalidate screen line range caret screen line caret screen line invalidate screen line range caret screen line caret screen line caret screen line caret screen line invalidate select line when user typing etc we t want caret blink blink caret timer restart display line visible caret line we ve jump outside narrow display just reset all fold their level so we t get disconnect island visible line display outside narrowing caret line collapse fold buffer get property collapse fold 0 collapse fold 0 display expand fold collapse fold display expand fold caret line fold structure change display expand all fold display expand fold caret line queue scroll mode e l e t r i s r o l l scroll caret queue scroll mode n o r m l s r o l l scroll caret update bracket highlight delay queue fire caret event fire caret event one above fail we still want clear these flag queue caret update queue fire caret event queue scroll mode n o s r o l l invalidate structure match invalidate structure match match invalidate line range match start line match end line start drag drop start drag drop input event evt transfer handler transfer handler get transfer handler transfer handler log log log d e b u g drag drop callback transfer handler export drag evt ? transfer handler o p y transfer handler m o v e fire narrow active fire narrow active listener listener list get listener list i listener length 2 i 0 i listener i status listener status listener listener i+1 narrow active throwable t log log log e r r o r t member variable timer caret timer timer structure timer instance variable j popup menu popup popup enable gutter gutter text area painter painter event listener list listener list mutable caret event caret event caret blink elastic tabstop tab expand elastic tabstop expand elastic tabstop tab expand input handler provider input handler provider input support input support last visible physical line index phy last line last screen line index screen last line visible line count visible line electric scroll horizontal offset quick j diff list add stuff here box vertical box j scroll bar vertical j scroll bar horizontal j edit buffer buffer caret caret line caret screen line list structure matcher structure matcher structure matcher match match magic caret flag tell multiple selection on multi overwrite rectangular selection mode dnd enable finish caret update finish caret update queue caret update queue scroll mode queue fire caret event old caret line join non word ctrl rectangular selection set horizontal offset set horizontal offset draw line check offset go too far after last character horizontal offset offset horizontal offset set horizontal offset horizontal offset horizontal offset 0 horizontal offset 0 horizontal offset horizontal offset scroll trackpad other device keep inside bound min math min max horizontal scroll width + width painter get width 0 horizontal offset min horizontal offset min set horizontal offset horizontal offset invalidate select line repaint line contain selection invalidate select line hide line highlight selection are being add on invalidate line caret line selection s selection selection invalidate line range s start line s end line finish caret update collapse scroll event firing inside compound edit greatly speed up replace all finish caret update old caret line scroll mode fire caret event queue fire caret event | fire caret event queue scroll mode math max scroll mode queue scroll mode queue caret update old caret line old caret line queue caret update buffer transaction progress finish caret update otherwise display buffer change handler call fire caret event fire caret event listener listener list get listener list i listener length 2 i 0 i listener i caret listener caret listener listener i+1 caret update caret event throwable t log log log e r r o r t fire scroll event fire scroll event vertical listener listener list get listener list i listener length 2 i 0 i listener i scroll listener vertical scroll listener listener i+1 scroll vertically scroll listener listener i+1 scroll horizontally throwable t log log log e r r o r t fire status change fire status change flag value listener listener list get listener list i listener length 2 i 0 i listener i status listener status listener listener i+1 status change flag value throwable t log log log e r r o r t fire bracket select fire bracket select line text listener listener list get listener list i listener length 2 i 0 i listener i status listener status listener listener i+1 bracket select line text throwable t log log log e r r o r t change line change line select caret select rect get rect caret caret extra start virt extra end virt extra start virt 0 extra end virt 0 extra start virt extra start virt extra end virt extra end virt caret caret extend selection caret caret extra start virt extra end virt multi select none move caret position caret line contain space tab check line contain only space tab line index line index line contain only space tab line contain space tab line index segment line segment segment get line text line index line segment j 0 j line segment count j++ line segment line segment offset + j insert insert str indent t overstrike we re on end line overwrite || indent buffer begin compound edit overwrite caret line end get line end offset caret line caret line end caret 1 delete next character caret buffer insert caret str indent buffer indent line caret line overwrite || indent buffer end compound edit insert tab insert tab tab size buffer get tab size buffer get property no tab line start get line start offset caret line line get text line start caret line start po 0 i 0 i line length i++ line at po po 0 ++po tab size po 0 replace selection standard utility create white space tab size po 0 replace selection user input tab user input tab get selection count 1 selection sel get selection 0 sel selection rect || sel start line sel end line sel start buffer get line start offset sel start line || sel end buffer get line end offset sel start line 1 insert tab shift indent right get selection count 0 shift indent right insert tab word wrap doe hard wrap word wrap space insert hard wrap || max line len 0 segment line segment segment buffer get line text caret line line segment start get line start offset caret line end get line end offset caret line len end start 1 caret po caret start only wrap we re at end line rest line text whitespace i caret po i len i++ ch line segment line segment offset + i ch ch tab size buffer get tab size word buffer get property word last line 0 last character before wrap logical length 0 length tab expand last word offset 1 last wa space i 0 i caret po i++ ch line segment line segment offset + i ch logical length + tab size logical length % tab size last wa space logical length max line len last line i last word offset i last wa space ch logical length++ last wa space logical length max line len + 1 last line i last word offset i last wa space word word index ch 1 logical length++ last wa space logical length max line len last line i last word offset i last wa space last line i logical length++ last wa space value insert line at space insert logical length max line len last line caret po 1 insert line at caret po value logical length max line len last word offset 1 insert line at last word offset value indent buffer get property auto indent buffer begin compound edit buffer insert start + insert line at caret line would be increment since insert line at caret po full equal indent buffer indent line caret line simple equal indent buffer simple indent line caret line buffer end compound edit only ev space wa press logical length max line len value update structure highlight delay update bracket highlight delay structure timer stop structure timer start update structure highlight update structure highlight painter structure highlight enable gutter structure highlight enable structure matcher matcher structure matcher match matcher get match match match caret line match start line invalidate line range caret line match end line invalidate line range match start line caret line display line visible match start line || chunk cache get screen line offset match start line match start get line start offset match start line 1 show structure status message match start line caret line show structure status message show structure status message backward text buffer get line text match start line trim backward match start line 0 text length 1 text at 0 text buffer get line text match start line 1 trim + + text get rid embed tab remove trim fire bracket select match start line + 1 text replace recalculate last physical line recalculate last physical line old screen last line screen last line i visible line 1 i 0 i chunk cache line info info chunk cache get line info i info physical line 1 phy last line info physical line screen last line i invalidate screen line range old screen last line screen last line get rect rect extra start virt extra end virt caret rect extra start virt extra end virt caret extra start virt extra start virt extra end virt extra end virt caret caret use when s+ u p d o w n simplify dealing virtual space rect get rect caret caret selection s get selection at offset caret virtual width s selection rect caret s end virtual width buffer get virtual width s end line s end get line start offset s end line + selection rect s extra end virt virtual width buffer get virtual width s start line s start get line start offset s start line + selection rect s extra start virt rectangular selection mode virtual width buffer get virtual width caret line caret buffer get line start offset caret line line get line offset caret total virtual width 1 offset buffer get offset virtual column line virtual width total virtual width offset 1 extra virt virtual width total virtual width 0 caret get line end offset line 1 bias s bias caret caret s start caret bias caret s end s end caret bias caret s start bias rect value bias value rect extra virt 0 caret value rect 0 extra virt caret value rect 0 0 get line start offset line + offset delete next character delete point combining character sequence at once delete next character offset offset buffer get length length get next character offset offset offset buffer remove offset length delete prev point delete point behavior backward removal on window notepad delete prev point offset offset 0 length 1 offset 2 segment prev text segment buffer get text offset 1 1 prev text prev unit prev text prev text offset character low surrogate prev unit buffer get text offset 2 1 prev text prev unit prev text prev text offset character high surrogate prev unit length 2 buffer remove offset length length delete delete forward buffer editable u i get look feel provide feedback get selection count 0 selection selection get selection selection s selection s selection rect selection rect r selection rect s start column r get start column buffer start column r get end column buffer forward start column 0 u i get look feel provide feedback tall caret delete r forward set select text s set select text s forward caret buffer get length u i get look feel provide feedback delete next character caret caret 0 u i get look feel provide feedback delete prev point caret tall caret delete tall caret delete selection rect s forward buffer begin compound edit width 1 start col s get start column buffer start line s start line end line s end line i start line i end line i++ offset buffer get offset virtual column i start col width offset 1 width 0 start col offset get line length i i start line forward shift tall caret left s offset + buffer get line start offset i forward offset buffer get line end offset i 1 delete next character offset delete prev point offset buffer end compound edit shift tall caret left shift tall caret left selection rect s remove from selection s add selection selection rect buffer s get start line s get start column buffer 1 s get end line s get end column buffer 1 set max line length set max line length max line len max line len max line len max line len 0 soft wrap wrap width wrap margin painter get width width 3 wrap width wrap margin 0 estimate math ceil width max line len soft wrap painter get width estimate wrap width wrap margin painter get width width 3 wrap width wrap margin estimate add fold add an fold call inside compound edit buffer must also check buffer fold mode before calling caret start starting offset caret end end offset line start start line line end end line since j edit 4 3pre3 add fold caret start caret end line start line end need fix caret position so we get right rule taking start offset one ahead end offset one beh make sure we get right rule text being wrap tricky around mode boundary e g php embed h t m l start caret caret start buffer get length ? caret start + 1 caret start end caret caret end 0 ? caret end 1 caret end start line comment buffer get context sensitive property start caret line comment start comment start buffer get context sensitive property start caret comment start start comment end buffer get context sensitive property start caret comment end end line comment buffer get context sensitive property end caret line comment end comment start buffer get context sensitive property end caret comment start end comment end buffer get context sensitive property end caret comment end start caret back 1 start line comment start start line comment + start comment start start comment end start start comment start + + start comment end caret back 2 + start comment end length start start line comment add line there s text after comment we re insert buffer get line length line start caret start start + alway insert line there s no comment character start + end end line comment end end line comment + end comment start end comment end end end comment start + + end comment end end line buffer get line text line start whitespace line substring 0 standard utility get leading white space line caret back + whitespace length caret start caret end caret back + end length + 1 line start offset buffer get line start offset line start line start offset + whitespace length caret start caret back++ end line comment we re insert line comment into non empty line we ll need add line so we t comment out buffer get line length line end caret end end + alway insert line there s no comment character end + caret end buffer get line start offset line end buffer insert caret end end sequence line text buffer get segment caret end 1 1 character whitespace line text at 0 buffer insert caret end end buffer insert caret end + end buffer insert caret start start + whitespace caret back range line comment surround each select line range comment use when calling line comment edit mode doesn t line comment property since j edit 4 3pre10 range line comment comment start buffer get context sensitive property caret comment start comment end buffer get context sensitive property caret comment end buffer editable || comment start || comment end || comment start length 0 || comment end length 0 u i get look feel provide feedback comment start + comment end + comment end buffer begin compound edit line get select line line line text get line text line text trim length 0 buffer insert get line end offset line 1 comment end buffer insert get line start offset line + standard utility get leading white space text comment start buffer end compound edit join line join line next line use lock buffer compound edit mode line line number join next line join line at line line buffer get line count 1 end get line end offset line sequence next line text buffer get line segment line + 1 buffer remove end 1 standard utility get leading white space next line text + 1 next line text length 0 buffer insert end 1 right click popup enable right click popup menu enable gesture plugin us p i since j edit 4 2pre13 right click popup enable popup enable set right click popup enable set right click popup menu enable gesture plugin us p i since j edit 4 2pre13 set right click popup enable popup enable popup enable popup enable get right click popup right click popup menu j popup menu get right click popup popup set right click popup set right click popup menu popup popup set right click popup j popup menu popup popup popup handle popup trigger same thing right click on text area gesture plugin us p i since j edit 4 2pre13 handle popup trigger mouse event evt rebuild popup menu every time menu request create popup menu evt x evt get x y evt get y drag start xy offset x y painter block caret enable || overwrite enable get selection count 0 || multi move caret position drag start generic g u i utility show popup menu popup x y create popup menu create popup menu want popup menu t forget your call link set right click popup enable enable popup menu since 4 3pre15 create popup menu mouse event evt show popup menu show popup menu below current caret position since 4 3pre10 show popup menu popup visible ha focus point caret po offset x y get caret position caret po open context menu below caret height get painter get line height generic g u i utility show popup menu popup painter caret po x caret po y + height show popup menu copy from g u i utility show specify popup menu ensure display within bound screen popup popup menu comp component show x x co ordinate y y co ordinate point then popup originate from single point otherwise originate from component itself affect positioning where popup doe fit onscreen f i x m e move part g u i utility compatible standalone text area separate prevent such copy since j edit 4 1pre1 deprecate use link generic g u i utility show popup menu j popup menu component show popup menu j popup menu popup component comp x y point generic g u i utility show popup menu popup comp x y point character boundary staff line character breaker share context among some operation which are aware character above b m p combining character sequence line character breaker iterator breaker index0 offset line character breaker text area text area offset line text area get line offset offset breaker iterator get character instance breaker set text iterator text area buffer get line segment line index0 offset text area get line start offset line offset boundary offset breaker boundary offset index0 offset next offset following breaker following offset index0 offset following iterator d o n e mean end line then safe assume 1 unit character may an offset beyond length buffer caller responsibility offset + 1 following + index0 offset previou offset precede breaker precede offset index0 offset precede iterator d o n e mean start line then safe assume 1 unit character may 1 caller responsibility offset 1 precede + index0 offset iterator adapt sequence which use avoid text character iterator which use pas text iterator iterator character iterator sequence sequence index iterator sequence sequence sequence sequence index 0 override first index 0 current override last length sequence length index length 0 ? length 1 length current override current index sequence length ? sequence at index d o n e override next length sequence length index length index index + 1 current d o n e override previou index 0 index index 1 current d o n e override set index position 0 position position sequence length index position current there bug caller stacktrace enough illegal argument override get begin index 0 override get end index sequence length override get index index override clone iterator one iterator sequence one index index one get prev character offset offset line character breaker offset previou offset get next character offset offset line character breaker offset next offset get character boundary at offset line character breaker breaker line character breaker offset breaker offset boundary offset ? offset breaker previou offset inner caret blinker caret blinker action listener action perform override action perform action event evt focus component focus component ha focus focus component blink caret mutable caret event mutable caret event caret event mutable caret event constructor mutable caret event text area get dot override get dot get caret position get mark override get mark get mark position adjust handler adjust handler adjustment listener adjustment value change override adjustment value change adjustment event evt scroll bar initialize evt get adjustable vertical set first line vertical get value set horizontal offset horizontal get value focus handler focus handler focus listener focus gain override focus gain focus event evt buffer change match caret line match start line invalidate line range caret line match end line invalidate line range match start line caret line invalidate line caret line focus component text area focus lost override focus lost focus event evt showing match caret line match start line invalidate line range caret line match end line invalidate line range match start line caret line invalidate line caret line mouse wheel handler mouse wheel handler mouse wheel listener override mouse wheel move mouse wheel event e move caret depend on press control key alt move cursor select alt+ shift control move cursor select shift scroll horizontally control scroll single line scroll 3 line e alt down select e shift down || e control down e get wheel rotation 0 go prev line select go next line select e get scroll type mouse wheel event w h e e l b l o k s r o l l e shift down wheel orientation reverse so we negate charwidth set horizontal offset get horizontal offset + e get wheel rotation 0 ? 1 1 painter get width e get wheel rotation 0 scroll down page scroll up page e control down e shift down e get wheel rotation 0 scroll down page scroll up page e control down set first line get first line + e get wheel rotation e get scroll type mouse wheel event w h e e l u n i t s r o l l e shift down set horizontal offset get horizontal offset + width e get unit scroll set first line get first line + e get unit scroll e shift down set horizontal offset get horizontal offset + width e get wheel rotation set first line get first line + 3 e get wheel rotation request focus layer u i request focus layer u i layer u i j component process mouse event override process mouse event mouse event e j layer ? j component l e get mouse event m o u s e p r e s s e d request focus install u i override install u i j component install u i j layer set layer event mask w t event m o u s e e v e n t m s k uninstall u i override uninstall u i j component uninstall u i j layer set layer event mask 0 initializ caret timer timer 500 caret blinker caret timer set initial delay 500 caret timer start structure timer timer 100 action listener override action perform action event evt focus component focus component update structure highlight structure timer set initial delay 100 structure timer set repeat tab expand get tab expand buffer get property elastic tabstop elastic tabstop expand painter 