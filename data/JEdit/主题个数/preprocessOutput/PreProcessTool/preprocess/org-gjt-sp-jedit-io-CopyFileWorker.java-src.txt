worker worker tab size 4 indent size 4 no tab collapse fold 1 2008 2012 matthieu casanova g n u 2 w i t h o u t n y w r r n t y m e r h n t b i l i t y f i t n e s s f o r p r t i u l r p u r p o s e g n u g n u 59 330 m 02111 1307 u s io importsimport component io i o list concurrent count down latch annotation nullable misc utility log task thread utility worker careful override target already matthieu casanova since j edit 4 3pre13 worker task behavior target already since j edit 5 0 behavior s k i p overwrite o v e r w r i t e rename r e n m e source component comp list source behavior target already behavior behavior target latch tell when finish count down latch latch worker constructor careful b overwrite b target comp component use parent source source path target target path path parent directory worker component comp source target comp source target careful b overwrite b target comp component use parent source source path target target path path parent directory latch latch so caller know when worker component comp source target nullable count down latch latch source || target pointer source target cannot source equal target illegal argument source target must same comp comp source source target target behavior behavior o v e r w r i t e latch latch set label + source + + target all from list target directory some already target directory skip comp component use parent source source path target target path must directory otherwise nothing copy since j edit 5 0 worker component comp list source target comp source target behavior s k i p all from list target directory some already target directory behavior decide what comp component use parent source source path target target path must directory otherwise nothing copy behavior behavior target already since j edit 5 0 worker component comp list source target behavior behavior source || target pointer source target cannot comp comp source source target target behavior behavior run override run log log log d e b u g + run source single v f s source target comp i o e log log log e r r o r e e latch latch count down list list list list v f s vf v f s get v f s path target target session target session vf create v f s session target comp target session log log log e r r o r target v f s path cannot reach v f s target vf get target session target comp target log log log e r r o r target unreachable target get type v f s d i r e t o r y log log log e r r o r target directory source set maximum source size i 0 i source size i++ set value i source path source get i source name misc utility get name source path set label source name target session vf source path source name target i o e log log log e r r o r e interrupt e log log log w r n i n g wa interrupt v f s send v f s update vf target target session vf end v f s session target session comp i o e vf session v f s vf source path source name target path i o interrupt name get target name vf session vf target path source name name target name misc utility construct path target path name count down latch latch count down latch 1 thread utility run background worker comp source path target name latch latch await get target name nullable get target name session v f s vf path base name i o behavior behavior o v e r w r i t e we want overwrite no need check anyth base name s misc utility construct path target base name v f s vf get session s comp target perfect base name behavior behavior s k i p extension misc utility get extension base name name no extension misc utility get base name base name i 1 i 1000 i++ name name no extension + + i extension name + extension s misc utility construct path path name vf get session s comp name override worker + source + + target + 