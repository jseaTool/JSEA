runnable queue queue task run event dispatch thread tab size 4 indent size 4 no tab collapse fold 1 2012 thomas mey g n u 2 w i t h o u t n y w r r n t y m e r h n t b i l i t y f i t n e s s f o r p r t i u l r p u r p o s e g n u g n u 59 330 m 02111 1307 u s event queue link list annotation concurrent guard annotation concurrent thread safe queue runnable run e d t after all pend i o task are finish thomas mey since j edit 5 1pre1 thread safepublic runnable queue i n s t n e guard queue start guard runner queue guard link list runnable queue constructor runnable queue queue link list runnable start queue w t runner first time start queue start queue w t runner run after io task add runnable w t queue run e d t after all pend i o task are finish run runnable queue execution e d t after all i o task run after io task runnable run run directly there are no request execute w t request immediately queue start task instance count io task 0 queue empty run directly run directly log log log d e b u g w t immediate + run thread utility run dispatch thread run queue offer run queue w t request queue w t runner queue w t runner queue w t runner wait wait thread utility run dispatch thread wait run request w t thread queue empty queue start || runner queue runner queue event queue run request w t thread log log log d e b u g w t runner queue run request w t thread run request w t thread runnable run runnable next runnable enable queue w t runner again runnable queue runner queue next runnable queue peek task instance count io task 0 next runnable w t request next runnable runnable queue consume current entry queue poll next runnable queue peek w t request actually run runnable request request run w t request runnable request log log log d e b u g running w t thread + request request run throwable t log log log e r r o r + w t thread log log log e r r o r t 