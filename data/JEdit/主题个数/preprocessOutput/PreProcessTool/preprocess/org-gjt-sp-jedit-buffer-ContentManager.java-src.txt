content manage text content tab size 4 indent size 4 no tab collapse fold 1 2001 2002 g n u 2 w i t h o u t n y w r r n t y m e r h n t b i l i t y f i t n e s s f o r p r t i u l r p u r p o s e g n u g n u 59 330 m 02111 1307 u s buffer text segment internal j edit s document model use directly improve performance none check out bound access nor are they thread safe buffer through which these must call through such protection content 21885 2012 06 27 14 06 58 k satoda since j edit 4 0pre1 content get length get length length get text get text start len start gap start text start + gap length len start + len gap start text start len text start gap start start concat text gap end start + len gap start specify text range segment p using classname segment classname generally efficient than using classname classname because result les memory allocation copying p start start offset len number character get seg segment text j edit buffer get text segment get text start len segment seg start gap start seg text seg offset start + gap length seg count len start + len gap start seg text seg offset start seg count len seg len text before gap arraycopy text start seg 0 gap start start text after gap arraycopy text gap end seg gap start start len + start gap start seg offset 0 seg count len get segment read only segment buffer doesn t text start start offset len number character get sequence contain text want text since j edit 4 3pre15 sequence get segment start len start gap start buffer segment text start + gap length len start + len gap start buffer segment text start len buffer segment text start gap start start buffer segment text gap end start + len gap start insert insert start str len str length prepare gap insertion start len str get 0 len text start gap start + len length + len insert given data into buffer since j edit 4 3pre15 insert start sequence str len str length prepare gap insertion start len i 0 i len i++ text start+i str at i gap start + len length + len insert start segment seg prepare gap insertion start seg count arraycopy seg seg offset text start seg count gap start + seg count length + seg count set content set content text length text text length length text text gap start length length length remove remove start len move gap start start length len member e m p t y t e x t 0 text e m p t y t e x t gap start length gap end gap end gap start + gap length gap length gap length text length length move gap start move gap start start gap end gap end end gap end + start gap start start gap start nothing start gap start arraycopy text gap end text gap start start gap start start gap start arraycopy text start text end gap start start gap start start ensure capacity ensure capacity capacity capacity text length gap end old gap end text n capacity 2 arraycopy text 0 text n 0 text length text text n gap end gap end arraycopy text gap end old text gap end text length gap end prepare gap insertion prepare gap insertion start len move gap start start gap length len ensure capacity length + len 