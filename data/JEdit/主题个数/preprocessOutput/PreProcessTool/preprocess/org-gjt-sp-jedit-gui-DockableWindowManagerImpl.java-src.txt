dockable window impl manage dockable window tab size 4 indent size 4 no tab collapse fold 1 2000 2005 g n u 2 w i t h o u t n y w r r n t y m e r h n t b i l i t y f i t n e s s f o r p r t i u l r p u r p o s e g n u g n u 59 330 m 02111 1307 u s gui importsimport color component graphic rectangle event action event event action listener io buffer writer io closeable io input stream io found io writer io i o list hash map iterator link list list map stack tree map button j component j menu item j panel j popup menu utility u i edit bus plugin j r view j edit edit bus e b handler view view config msg dockable window update msg plugin update msg property change log xml utility i o utility xml sax attribute xml sax helper handler manage dockable window single view concrete dockable window aka classic docking framework since j edit 4 3pre16 shlomy reinstein id$ dockable window impl dockable window dockable window config dockable window config docking layout perspective handler perspective handler handler start element uri local name q name attribute attr i 0 i attr get length i++ attribute attr get q name i attr get value i attribute aname value aname equal t o p top value aname equal l e f t left value aname equal b o t t o m bottom value aname equal r i g h t right value aname equal t o p p o s top po parse value aname equal l e f t p o s left po parse value aname equal b o t t o m p o s bottom po parse value aname equal r i g h t p o s right po parse value dockable top left bottom right top po left po bottom po right po handler get perspective handler perspective handler save layout base name view index line sep get property line separator filename get layout filename base name view index buffer writer out out buffer writer writer filename out d o k i n g l e f t \ out left ? left out \ t o p \ out top ? top out \ r i g h t \ out right ? right out \ b o t t o m \ out bottom ? bottom out \ l e f t p o s \ out value left po out \ t o p p o s \ out value top po out \ r i g h t p o s \ out value right po out \ b o t t o m p o s \ out value bottom po out \ out line sep i o e log log log e r r o r e e i o utility close quietly closeable out override load layout base name view index filename get layout filename base name view index handler handler get perspective handler no need close stream close xml utility parse xml xml utility parse xml input stream filename handler found e i o e override get name dockable window data member mapping from entry map entry window panel window container left panel window container right panel window container top panel window container bottom list entry clone entry last entry stack show stack stack set docking layout set docking layout docking layout docking dockable window config config dockable window config docking config config top config top length 0 show dockable window config top config left config left length 0 show dockable window config left config bottom config bottom length 0 show dockable window config bottom config right config right length 0 show dockable window config right get docking layout override docking layout get docking layout view config config dockable window config docking dockable window config docking top get top docking area get current docking left get left docking area get current docking bottom get bottom docking area get current docking right get right docking area get current docking top po get top docking area get dimension docking left po get left docking area get dimension docking bottom po get bottom docking area get dimension docking right po get right docking area get dimension docking dockable window impl constructor create dockable window view view factory link dockable window factory usually dockable window factory get instance config docking configuration since j edit 2 6pre3 dockable window impl view view dockable window factory factory view view config config view factory config set layout dockable layout window hash map entry clone list entry dockable window config docking dockable window config config docking docking docking dockable window config top panel window container t o p docking top po left panel window container l e f t docking left po bottom panel window container b o t t o m docking bottom po right panel window container r i g h t docking right po add dockable layout t o p b u t t o n s top button panel add dockable layout l e f t b u t t o n s left button panel add dockable layout b o t t o m b u t t o n s bottom button panel add dockable layout r i g h t b u t t o n s right button panel add t o p top dockable panel add l e f t left dockable panel add b o t t o m bottom dockable panel add r i g h t right dockable panel set panel set panel j panel panel add panel 0 init initialis dockable window call directly init init iterator dockable window factory window entry factory get dockable window iterator entry ha next add entry entry next property change dockable window open instance specify dockable window floating container name dockable window name dockable window instance since j edit 4 1pre2 j component dockable window name entry entry window get name entry log log log e r r o r unknown dockable window + name create dockable window entry entry entry entry factory f l o t i n g entry win entry factory create dockable window view f l o t i n g entry win floating window container fwc floating window container entry container fwc entry container register entry entry container show entry clone add entry entry win show dockable window open specify dockable window name dockable window name since j edit 2 6pre3 show dockable window name last entry window get name last entry log log log e r r o r unknown dockable window + name last entry win last entry win last entry factory create dockable window view last entry position last entry win last entry position equal f l o t i n g last entry container floating window container fwc floating window container view plain view last entry container fwc last entry container register last entry show stack push name last entry container show last entry reason dockable window update t i v t e d edit bus send dockable window update reason name an occur hide dockable window hide specify dockable window name dockable window name since j edit 2 6pre3 hide dockable window name entry entry window get name entry log log log e r r o r unknown dockable window + name entry win entry container show get dockable specify dockable window note dockable ha be add yet make sure call link add dockable window first historical reason doe same thing link get dockable window name name dockable window since j edit 4 0pre1 j component get dockable name entry entry window get name entry || entry win entry win dockable window visible specify dockable window visible name dockable window name dockable window visible name entry entry window get name entry || entry win entry container visible entry dockable window dock specify dockable window dock into view name dockable s name since j edit 4 0pre2 dockable window dock name entry entry window get name entry entry position equal f l o t i n g close current area close most recently focus dockable since j edit 4 1pre3 close current area i t know other way fix since command from menu result focus owner being menu until menu go away utility runnable run hide last entry wa show dockable name show stack pop hide dockable window dockable name e component comp view get focus owner comp err comp get comp dockable panel dockable panel panel dockable panel comp panel window container container panel get window container container show dockable window impl entry comp comp get parent u i get look feel provide feedback close call when view being close since j edit 2 6pre3 close close entry entry window value entry win entry container unregist entry entry clone clone clone win clone container unregist clone get top docking area panel window container get top docking area top get left docking area panel window container get left docking area left get bottom docking area panel window container get bottom docking area bottom get right docking area panel window container get right docking area right create popup menu j popup menu create popup menu dockable window container container dockable clone j popup menu popup j popup menu dockable container panel window container action listener listener action listener action perform action event evt show dockable window evt get action command dockable panel window container container get dockable map dockable map tree map action dockable dockable map put get dockable title action action map entry entry dockable map entry set j menu item item j menu item entry get key item set action command entry get value item add action listener listener popup add item j menu item caption j menu item get dockable title dockable caption set enable popup add caption popup add separator current po j edit get property dockable + dock position f l o t i n g clone position f l o t i n g t o p l e f t b o t t o m r i g h t po position po equal current po j menu item move menu item j menu item j edit get property view docking menu + po move menu item add action listener action listener action perform action event evt j edit set property dockable + dock position po edit bus send dockable window update dockable window impl dockable window update p r o p e r t i e s h n g e d dockable show dockable window dockable popup add move menu item popup add separator j menu item clone menu item j menu item j edit get property view docking menu clone clone menu item add action listener action listener action perform action event evt dockable window dockable popup add clone menu item popup add separator j menu item close menu item j menu item j edit get property view docking menu close close menu item add action listener action listener action perform action event evt clone floating window container container dispose remove dockable window dockable popup add close menu item clone || current po equal f l o t i n g j menu item undock menu item j menu item j edit get property view docking menu undock undock menu item add action listener action listener action perform action event evt j edit set property dockable + dock position f l o t i n g edit bus send dockable window update dockable window impl dockable window update p r o p e r t i e s h n g e d dockable reset window property change doesn t reset m o v b l e window entry entry window get dockable entry log log log e r r o r unknown dockable window + dockable entry win popup add undock menu item popup paint child paint child graphic g paint child g resize rect g set color color dark gray g fill rect resize rect x resize rect y resize rect width resize rect height handle dockable window update e b handler handle dockable window update dockable window update msg msg get what dockable window update p r o p e r t i e s h n g e d property change handle property change e b handler handle property change property change msg property change handle plugin update e b handler handle plugin update plugin update pmsg pmsg get what plugin update l o d e d iterator dockable window factory window it factory get dockable window iterator it ha next dockable window factory window w it next w plugin pmsg get plugin j r add entry w property change pmsg exit we t care pmsg get what plugin update d e t i v t e d iterator entry it get all plugin entry pmsg get plugin j r it ha next entry entry it next entry container entry container remove entry pmsg get what plugin update u n l o d e d iterator entry it get all plugin entry pmsg get plugin j r it ha next entry entry it next entry container entry container unregist entry entry win entry container member resize po rectangle drag resize split use non continuou layout rectangle resize rect set resize po set resize po resize po panel window container resize resize po resize po resize po 0 resize po 0 continuou layout rectangle resize rect rectangle 0 0 panel window container s p l i t t e r w t h 2 panel window container s p l i t t e r w t h 2 resize top resize po math min resize po get height top button panel get height bottom dockable panel get height bottom button panel get height panel window container s p l i t t e r w t h resize rect x top dockable panel get x + 1 resize rect y resize po + top button panel get height + 1 resize rect width top dockable panel get width 2 resize left resize po math min resize po get width left button panel get width right dockable panel get width right button panel get width panel window container s p l i t t e r w t h resize rect x resize po + left button panel get width + 1 resize rect y left dockable panel get y + 1 resize rect height left dockable panel get height 2 resize bottom resize po math min resize po get height bottom button panel get height top dockable panel get height top button panel get height panel window container s p l i t t e r w t h resize rect x bottom dockable panel get x + 1 resize rect y get height bottom button panel get height resize po panel window container s p l i t t e r w t h + 2 resize rect width bottom dockable panel get width 2 resize right resize po math min resize po get width right button panel get width left dockable panel get width left button panel get width panel window container s p l i t t e r w t h resize rect x get width right button panel get width resize po panel window container s p l i t t e r w t h + 1 resize rect y right dockable panel get y + 1 resize rect height right dockable panel get height 2 rectangle repaint resize rect repaint resize rect repaint resize rect union resize rect resize rect resize rect repaint repaint finish resize finish resize resize rect repaint property change property change view plain view dockable layout get layout set alternate layout j edit get property view docking alternate layout window list factory get register dockable window dockable window list entry entry window get dockable entry happen dur plugin loading when dockable ha be register window yet create plugin ha some jar position j edit get property dockable + dock position f l o t i n g position equal entry position entry position position entry container entry container unregist entry entry container entry factory movable position equal f l o t i n g entry win dockable window dockable window entry win move position entry win position equal f l o t i n g position equal t o p entry container top position equal l e f t entry container left position equal b o t t o m entry container bottom position equal r i g h t entry container right log log log w r n i n g unknown position + position entry container register entry top sort dockable left sort dockable bottom sort dockable right sort dockable continuou layout u i get split pane continuou layout revalidate repaint add entry add entry dockable window factory window factory entry e view plain view t show menu item dock into plain view e entry factory f l o t i n g e entry factory e position equal f l o t i n g nothing e position equal t o p e container top e position equal l e f t e container left e position equal b o t t o m e container bottom e position equal r i g h t e container right log log log w r n i n g unknown position + e position e container e container register e window put factory name e get all plugin entry remove only remove from clone list otherwise remove from both entry clone iterator entry get all plugin entry plugin j r plugin remove list entry value link list entry iterator entry it window value iterator it ha next entry entry it next entry factory plugin plugin value add entry remove it remove it clone iterator it ha next entry entry it next entry factory plugin plugin value add entry it remove value iterator continuou layout entry entry dockable window factory window factory title position dockable window container container only set open j component win only dock button btn entry constructor entry dockable window factory window factory factory j edit get property factory name + dock position f l o t i n g title dockable floating window title title j edit get property factory name + longtitle title title title title dockable button text title title j edit get property factory name + title title n o t i t l e p r o p e r t y + factory name title label appropriate title on dock button label retval j edit get property factory name + label retval retval replace all \\$ retval entry constructor entry dockable window factory window factory position factory factory position position get title here factory constructor since factory might create before plugin s prop are load override dispose dockable window name nothing here call response plugin unloading handle differently 