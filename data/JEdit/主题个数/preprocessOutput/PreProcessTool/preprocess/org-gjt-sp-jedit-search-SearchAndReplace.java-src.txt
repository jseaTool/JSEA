search replace search replace tab size 4 indent size 4 no tab collapse fold 1 1999 2004 2001 tom locke g n u 2 w i t h o u t n y w r r n t y m e r h n t b i l i t y f i t n e s s f o r p r t i u l r p u r p o s e g n u g n u 59 330 m 02111 1307 u s search importsimport bsh regex pattern j option pane buffer j edit buffer gui text area dialog msg position change msg search setting change textarea textarea text area regular expression literal search within j edit buffer p there are two group property accessor change search replace setting action performing search replace hyp search keep dialog feature reflect checkbox option search dialog are handle from within wish these option set before search dialog appear make prior call both following pre j edit set property search hypersearch toggle j edit set property search keep dialog toggle pre are using dialog undertake search replace may call search replace include link hyp search view concern value these property john gellene p i documentation search replace 24211 2015 12 10 03 33 28 search replace getter setter set search set current search search search set search search search equal search replace search search replace search search matcher edit bus send search setting change get search current search get search search set replace set current replacement replace replacement set replace replace replace equal search replace replace search replace replace replace edit bus send search setting change get replace current replacement get replace replace set whole word set whole word flag whole word only whole word search otherwise since 4 5pre1 set whole word whole word whole word search replace whole word search replace whole word whole word matcher edit bus send search setting change set ignore set ignore flag ignore search insensitive otherwise set ignore ignore ignore search replace ignore search replace ignore ignore matcher edit bus send search setting change get whole word state whole word flag only whole word search otherwise since 4 5pre1 get whole word whole word get ignore state ignore flag search insensitive otherwise get ignore ignore set regexp set state regular expression flag regexp regular expression search perform set regexp regexp regexp search replace regexp search replace regexp regexp regexp reverse reverse matcher edit bus send search setting change get regexp state regular expression flag regular expression search perform get regexp regexp set reverse search determine wheth reverse search conduct from current position beginning buffer note reverse search regular expression search mutually exclusive enable one disable other reverse search go backward otherwise set reverse search reverse reverse search replace reverse search replace reverse reverse edit bus send search setting change get reverse search state reverse search flag search go backward otherwise get reverse search reverse set bean shell replace set state bean shell replace flag beanshell replace bean shell expression since j edit 3 2pre2 set bean shell replace beanshell beanshell search replace beanshell search replace beanshell beanshell edit bus send search setting change get bean shell replace state bean shell replace flag replace bean shell expression since j edit 3 2pre2 get bean shell replace beanshell set auto wrap set state auto wrap around flag wrap search from start dialog display since j edit 3 2pre2 set auto wrap around wrap wrap search replace wrap search replace wrap wrap edit bus send search setting change get auto wrap state auto wrap around flag since j edit 3 2pre2 get auto wrap around wrap set search matcher set custom search matcher note calling link set search link set whole word link set ignore link set regexp reset matcher set search matcher search matcher matcher search replace matcher matcher edit bus send search setting change get search matcher current search matcher search matcher there no search matcher match empty illegal argument regular expression search enable search replacement invalid since j edit 4 1pre7 search matcher get search matcher matcher matcher search || equal search regexp pattern re pattern compile search pattern search matcher get flag ignore matcher pattern search matcher re ignore whole word matcher boy moore search matcher search ignore whole word matcher set search set set current search set fileset set perform search all buffer set current buffer set directory list set set search set search set fileset search replace fileset fileset edit bus send search setting change get search set current search set search set get search set fileset get smart replace replacement assume same each specific occurrence search since j edit 4 2pre10 get smart replace replace text utility get replace text utility l o w e r s e action hyp search perform hyp search view view since j edit 2 7pre3 hyp search view view hyp search view hyp search perform hyp search view view selection only search current selection note set must current buffer set work since j edit 4 0pre1 hyp search view view selection component parent dialog box component comp search dialog get search dialog view comp comp view record view hyp search view + selection + selection view get dockable window add dockable window hyp search result n m e hyp search result result hyp search result view get dockable window get dockable hyp search result n m e result search start search matcher matcher get search matcher matcher u i get look feel provide feedback result search fail selection s selection s view get text area get selection s result search fail s thread utility run background hyp search request view matcher result s e result search fail handle comp e find find next occurrence search view view operation wa succesful otherwise find view view component parent dialog box component comp search dialog get search dialog view comp || comp showing comp view path fileset get next view path g u i utility comp empty fileset view show wait cursor search matcher matcher get search matcher matcher u i get look feel provide feedback record view find view repeat loop path buffer buffer j edit open temporary view path stupid mislead path use anywhere except above line after then we hang force duplicate inside buffer add clause decide which one s worse reverse path fileset get prev view path path fileset get next view path buffer loop wait buffer load buffer load task instance wait io task start view get buffer buffer repeat j edit text area text area view get text area selection s text area get selection at offset text area get caret position s start text area get caret position reverse start s get start start s get end reverse start buffer get length start 0 find view buffer start repeat reverse repeat bean shell script running view get status set message clear j edit get property view status search found u i get look feel provide feedback restart auto wrap on alway restart search auto wrap off we re call from stop search we re call interactively ask user what wrap bean shell script running view get status set message clear j edit get property view status auto wrap beep beep property set j edit get property search beep on search auto wrap u i get look feel provide feedback restart bean shell script running restart value reverse ? 1 0 result g u i utility confirm comp keepsearch j option pane y e s n o o p t i o n j option pane q u e s t i o n m e s s g e restart result j option pane y e s o p t i o n restart start search from beginning path fileset get first view repeat loop e handle comp e view hide wait cursor find find next instance search specify buffer view view buffer buffer start location where start search find view view buffer buffer start find view buffer start find find next instance search specify buffer view view buffer buffer start location where start search first time link search matcher next match sequence since j edit 4 1pre7 find view view buffer buffer start first time reverse edit bus send position change view get edit pane search matcher matcher get search matcher matcher u i get look feel provide feedback sequence text start line end line reverse text reverse sequence buffer get segment 0 start start line end line buffer get line end offset buffer get line offset start 1 start text buffer get segment start buffer get length start start line buffer get line start offset buffer get line offset start start end line matcher whole word no word sep buffer get property no word sep matcher set no word sep no word sep search matcher match match matcher next match text start line end line first time reverse match j edit commit temporary buffer view set buffer buffer j edit text area text area view get text area reverse text area set selection selection range start match end start match start make sure end match visible text area scroll start match start text area move caret position start match end text area set selection selection range start + match start start + match end text area move caret position start + match end make sure start match visible text area scroll start + match start replace replace current selection replacement view view operation wa succesful otherwise replace view view component parent dialog box component comp search dialog get search dialog view comp comp view j edit text area text area view get text area buffer buffer view get buffer buffer editable smart replace get smart replace selection selection text area get selection selection length 0 u i get look feel provide feedback record view replace view little hack reverse replace find caret text area get caret position selection s text area get selection at offset caret s caret s get start buffer begin compound edit search matcher matcher get search matcher matcher init replace ret val 0 selection selection selection s selection ret val + replace selection view text area buffer matcher smart replace s reverse so replace find from right location text area move caret position caret s text area get selection at offset text area get caret position s text area move caret position s get end bean shell script running value ret val value 1 view get status set message clear j edit get property view status replace all ret val 0 u i get look feel provide feedback e handle comp e buffer end compound edit replace replace text specify range replacement view view buffer buffer start start offset end end offset operation wa succesful otherwise replace view view buffer buffer start end buffer editable component parent dialog box component comp search dialog get search dialog view comp comp view smart replace get smart replace buffer begin compound edit search matcher matcher get search matcher matcher init replace ret val 0 ret val + replace view buffer matcher start end smart replace ret val 0 e handle comp e buffer end compound edit replace all replace all occurrence search replacement view view number modify replace all view view replace all view replace all replace all occurrence search replacement view view dont open change wheth open change autosave them quietly number modify replace all view view dont open change component parent dialog box component comp search dialog get search dialog view comp comp view fileset get count view 0 g u i utility comp empty fileset record view replace all view view show wait cursor smart replace get smart replace count 0 occur count 0 search matcher matcher get search matcher matcher init replace path fileset get first view loop path buffer buffer j edit open temporary view path stupid mislead path use anywhere except above line after then we hang force duplicate inside buffer add clause decide which one s worse path fileset get next view path buffer loop wait buffer finish loading buffer performing i o task instance wait io task buffer editable loop leave buffer consistent state an occur ret val 0 buffer begin compound edit ret val replace view buffer matcher 0 buffer get length smart replace buffer end compound edit ret val 0 count++ occur count + ret val dont open change buffer save j edit commit temporary buffer j edit get buffer set add buffer view buffer e handle comp e view hide wait cursor t when playing co s annoying bean shell script running value occur count value count view get status set message clear j edit get property view status replace all occur count 0 u i get look feel provide feedback count 0 escape regexp escape character special meaning regexp str escape multiline escaped? escape character since j edit 4 3pre1 escape regexp str multiline standard utility escape str \r \\ $^ +?| + multiline ? load load search replace state from property load search j edit get property search find value replace j edit get property search replace value whole word j edit get property search whole word toggle ignore j edit get property search ignore toggle regexp j edit get property search regexp toggle beanshell j edit get property search beanshell toggle wrap j edit get property search wrap toggle fileset current buffer set tag plugin like call at time other than startup so we need fire search setting change notify search bar so on matcher edit bus send search setting change save save search replace state property save j edit set property search find value search j edit set property search replace value replace j edit set property search whole word toggle whole word j edit set property search ignore toggle ignore j edit set property search regexp toggle regexp j edit set property search beanshell toggle beanshell j edit set property search wrap toggle wrap handle handle component comp e log log log e r r o r search replace e comp dialog text area dialog dialog comp beanshell ? searcherror bsh searcherror e text area dialog frame comp beanshell ? searcherror bsh searcherror e member instance variable search replace bsh replace name space replace n s name space bean shell get name space bean shell get name space get search replace regexp whole word ignore reverse beanshell wrap search matcher matcher search set fileset init replace set up bean shell replace necessary init replace beanshell replace length 0 text replace trim start text replace text + replace + replace bean shell cache block replace text replace record record view view action replace action record set macro recorder recorder view get recorder recorder recorder record search replace set search \ + standard utility escape search + \ replace action recorder record search replace set replace \ + standard utility escape replace + \ recorder record search replace set bean shell replace + beanshell + only record find next recorder record search replace set auto wrap around + wrap + recorder record search replace set reverse search + reverse + recorder record search replace set whole word + whole word + recorder record search replace set ignore + ignore + recorder record search replace set regexp + regexp + record set recorder record search replace set search set + fileset get + recorder record search replace + action + replace selection replace selection view view text area text area buffer buffer search matcher matcher smart replace selection s an occurence occur at beginning selection selection start get move suck so we hack avoid start s get start value s selection range value replace view buffer matcher s get start s get end smart replace text area remove from selection s text area add selection selection range start s get end s selection rect selection rect rect selection rect s start col rect get start column buffer end col rect get end column buffer value 0 j s get start line j s get end line j++ value + replace view buffer matcher get column on other line buffer j start col get column on other line buffer j end col smart replace text area add selection selection rect start s get end runtime unsupport + s value replace replace all occurrence search replacement view view buffer buffer start start offset end end offset matcher search matcher use smart replace user s guide number occurrence replace replace view view j edit buffer buffer search matcher matcher start end smart replace matcher whole word no word sep buffer get property no word sep matcher set no word sep no word sep occur count 0 end line buffer get line end offset buffer get line offset end 1 end offset start loop counter 0 counter++ start line buffer get line start offset buffer get line offset offset offset sequence text buffer get segment offset end offset search matcher match occur matcher next match text start line end line counter 0 occur loop sequence found text sub sequence occur start occur end length replace one view buffer occur offset found smart replace length 1 offset + occur end offset + occur start + length end + length found length occur count++ occur count replace one replace one occurrence search replacement replace one view view j edit buffer buffer search matcher match occur offset sequence found smart replace subst replace one view buffer occur found smart replace ignore str text utility get found str text utility l o w e r s e subst subst lower str text utility u p p e r s e subst subst upper str text utility t i t l e s e subst text utility title subst subst start offset + occur start end offset + occur end end start 0 buffer remove start end start buffer insert start subst subst length 1 replace one replace one view view j edit buffer buffer search matcher match occur sequence found regexp replace regexp bean shell replace view buffer occur regexp replace occur found replace literal bean shell replace view buffer found replace regexp bean shell replace regexp bean shell replace view view j edit buffer buffer search matcher match occur replace n s set variable buffer buffer i 0 i occur substitution length i++ replace n s set variable + i occur substitution i obj bean shell run cache block replace view replace n s i 0 i occur substitution length i++ replace n s set variable + i really necessary because already clear end bean shell run cache block replace n s set variable buffer obj obj regexp replace regexp replace search matcher match occur sequence found builder buf builder i 0 i replace length i++ ch replace at i ch i replace length 1 last character replace capture group buf append ch ch replace at ++i ch wa $$ so an escape buf append ch 0 $0 meaning first capture group found value buf append found character digit ch n ch 0 i replace length 1 ch replace at ++i character digit ch n n 10 + ch 0 character digit going back end loop i n occur substitution length sub occur substitution n sub buf append sub \\ i replace length 1 buf append \\ ch replace at ++i ch n buf append t buf append buf append ch buf append ch buf literal bean shell replace literal bean shell replace view view j edit buffer buffer sequence found replace n s set variable buffer buffer replace n s set variable 0 found obj bean shell run cache block replace view replace n s replace n s set variable 0 really necessary because already clear end bean shell run cache block replace n s set variable buffer obj obj get column on other line somewhere get column on other line buffer buffer line col value buffer get offset virtual column line col value 1 buffer get line end offset line 1 buffer get line start offset line + value 