extend grid layout grid layout variable cell size support colspan rowspan tab size 4 indent size 4 no tab collapse fold 1 originally write bj??rn kautl j edit project work ha be place into domain may use work way wish t h i s s o f t w r e i s p r o v e d s i s w i t h o u t w r r n t y o f n y k i n d n o t e v e n t h e i m p l i e d w r r n t y o f m e r h n t b i l i t y t h e u t h o r o f t h i s s o f t w r e s s u m e s n o r e s p o n s i b i l i t y f o r n y o n s e q u e n e r e s u l t i n g f r o m t h e u s e m o d i f i t i o n o r r e d i s t r i b u t i o n o f t h i s s o f t w r e gui component container dimension inset layout manager2 list hash set hashtable iterator list list iterator set component e n t e r l i g n m e n t gui extend grid layout constraint r e m i n d e r p layout place component rectangular grid variable cell size support colspan rowspan p p container divide into rectangle each component place rectangular space define it colspan rowspan each row large large component row each column wide wide component column p p behavior similar href http download oracle com javase 6 doc api grid layout html grid layout support different row height column width each row column p p example following dialog lay out ten button exactly same example doc href http download oracle com javase 6 doc api grid bag layout html grid bag layout difference vertical horizontal gap configure hr blockquote pre font color 000000 font color 000000 1 font font color 009966 strong strong font button font color 000000 2 font font color 009966 strong strong font dimension font color 000000 3 font font color 000000 4 font font color 009966 strong strong font j dialog font color 990066 5 font font color 000000 6 font font color 009966 strong strong font gui extend grid layout font color 000000 7 font font color 009966 strong strong font gui extend grid layout constraint font color 000000 8 font font color 000000 9 font font color 009966 strong strong font font color 006699 strong strong font gui extend grid layout constraint r e m i n d e r font color 990066 10 font font color 000000 11 font font color 006699 strong strong font font color 0099ff strong strong font example dialog font color 006699 strong strong font j dialog font color 000000 strong strong font font color 000000 12 font font color 006699 strong strong font font color 9966ff example dialog font font color 000000 strong strong font font color 000000 13 font font color cc00cc font font color cc00cc font font color ff00cc font font color ff00cc example font font color ff00cc font font color ff00cc dialog font font color ff00cc font font color cc00cc font font color 000000 14 font font color 9966ff set layout font font color 006699 strong strong font font color 9966ff extend grid layout font font color ff0000 5 font font color ff0000 5 font font color 006699 strong strong font font color 9966ff inset font font color ff0000 5 font font color ff0000 5 font font color ff0000 5 font font color ff0000 5 font font color 990066 15 font font color 000000 16 font font color 9966ff add font font color 9966ff make button font font color ff00cc font font color ff00cc button1 font font color ff00cc font font color 000000 17 font font color 9966ff add font font color 9966ff make button font font color ff00cc font font color ff00cc button2 font font color ff00cc font font color 000000 18 font font color 9966ff add font font color 9966ff make button font font color ff00cc font font color ff00cc button3 font font color ff00cc font font color 000000 19 font font color 9966ff add font font color 9966ff make button font font color ff00cc font font color ff00cc button4 font font color ff00cc font font color 990066 20 font button button font color 000000 strong strong font font color 9966ff make button font font color ff00cc font font color ff00cc button5 font font color ff00cc font font color 000000 21 font font color 9966ff add font button font color 006699 strong strong font font color 9966ff extend grid layout constraint font font color ff0000 1 font r e m i n d e r font color ff0000 1 font button font color 000000 22 font button font color 000000 strong strong font font color 9966ff make button font font color ff00cc font font color ff00cc button6 font font color ff00cc font font color 000000 23 font font color 9966ff add font button font color 006699 strong strong font font color 9966ff extend grid layout constraint font font color ff0000 2 font font color ff0000 3 font font color ff0000 1 font button font color 000000 24 font button font color 000000 strong strong font font color 9966ff make button font font color ff00cc font font color ff00cc button7 font font color ff00cc font font color 990066 25 font font color 9966ff add font button font color 006699 strong strong font font color 9966ff extend grid layout constraint font font color ff0000 2 font button font color 000000 26 font button font color 000000 strong strong font font color 9966ff make button font font color ff00cc font font color ff00cc button8 font font color ff00cc font font color 000000 27 font font color 9966ff add font button font color 006699 strong strong font font color 9966ff extend grid layout constraint font font color ff0000 3 font font color ff0000 1 font font color ff0000 2 font button font color 000000 28 font button font color 000000 strong strong font font color 9966ff make button font font color ff00cc font font color ff00cc button9 font font color ff00cc font font color 000000 29 font font color 9966ff add font button font color 006699 strong strong font font color 9966ff extend grid layout constraint font font color ff0000 3 font font color ff0000 3 font font color ff0000 1 font button font color 990066 30 font button font color 000000 strong strong font font color 9966ff make button font font color ff00cc font font color ff00cc button10 font font color ff00cc font font color 000000 31 font font color 9966ff add font button font color 006699 strong strong font font color 9966ff extend grid layout constraint font font color ff0000 4 font r e m i n d e r font color ff0000 1 font button font color 000000 32 font font color 000000 33 font font color 9966ff pack font font color 000000 34 font font color 9966ff set location relative font font color cc00cc font font color 990066 35 font font color 9966ff set visible font font color cc00cc font font color 000000 36 font font color 000000 strong strong font font color 000000 37 font font color 000000 38 font font color 006699 strong strong font button font color 9966ff make button font name font color 000000 strong strong font font color 000000 39 font button button font color 000000 strong strong font font color 006699 strong strong font font color 9966ff button font name font color 990066 40 font button font color 9966ff set maximum size font font color 006699 strong strong font font color 9966ff dimension font m x v l u e m x v l u e font color 000000 41 font font color 006699 strong strong font button font color 000000 42 font font color 000000 strong strong font font color 000000 43 font font color 000000 strong strong font font pre blockquote hr use r e m i n d e r colspan rowspan then component take up remain space column row additional component row are ignore display additional component column are move rightside rowspan hit colspan colspan end rowspan take precedence p component which visible are ignore because component replace add two component next each other different visible value toggle set visible value both when we wish swap currently visible component one hide p p want reserve space row inbetween component add href http download oracle com javase 6 doc api box filler html box filler layout space middle row just t add component space at end row p p row tall column wide than maximum size component component resize it maximum size align accord it alignment x alignment y value p p one instance use layout multiple container at same time p bj??rn vampire kautl 1 0 extend grid layout constraint href http download oracle com javase 6 doc api component html component href http download oracle com javase 6 doc api box filler html box filler extend grid layout layout manager2 hashtable maintain association between component it extend grid layout constraint key comptable are component value are instance extend grid layout constraint extend grid layout constraint hashtable component extend grid layout constraint comptable specifie horizontal space between two column value 0 distance border vgap hgap specifie vertical space between two row value 0 distance border hgap vgap specifie gap between grid border parent container value 0 all four border hgap vgap inset distance border an tell get size which size request get size layout size m i n i m u m p r e f e r r e d m x i m u m create an extend grid layout specify horizontal vertical gap specify distance border parent container hgap horizontal space between two column literal 0 vgap vertical space between two row literal 0 distance border distance border parent container illegal argument hgap literal 0 illegal argument vgap literal 0 extend grid layout hgap vgap inset distance border hgap 0 illegal argument hgap must non negative + hgap + vgap 0 illegal argument vgap must non negative + vgap + hgap hgap vgap vgap distance border inset distance border clone comptable hashtable component extend grid layout constraint create an extend grid layout zero horizontal vertical gap zero distance border parent container extend grid layout 0 0 inset 0 0 0 0 layout us p component add component component layout associate specify name name associate component ha so constraint are use component component add illegal argument name add layout component component add layout component name component component add layout component component name add specify component layout using specify constraint component component add constraint where how component add layout illegal argument constraint an extend grid layout constraint illegal argument constraint placeholder illegal argument constraint right one component extend grid layout constraint add layout component component component constraint constraint constraint extend grid layout constraint component constraint extend grid layout constraint extend grid layout constraint egl constraint extend grid layout constraint constraint egl constraint placeholder illegal argument constraint must placeholder component egl constraint get component illegal argument constraint right one component comptable put component egl constraint illegal argument constraint must an extend grid layout constraint retrieve constraint specify component component extend grid layout set extend grid layout constraint are component component query contraint specify component pointer component extend grid layout constraint extend grid layout constraint lookup constraint component component component pointer component must extend grid layout constraint constraint comptable get component constraint constraint extend grid layout constraint component comptable put component constraint constraint remove specify component from layout component component remove remove layout component component component comptable remove component alignment x axis specifie how component would like align relative other component value number between 0 1 where 0 represent alignment origin 1 align furthest away from origin 0 5 center etc container container which alignment component e n t e r l i g n m e n t get layout alignment x container container e n t e r l i g n m e n t alignment y axis specifie how component would like align relative other component value number between 0 1 where 0 represent alignment origin 1 align furthest away from origin 0 5 center etc container container which alignment component e n t e r l i g n m e n t get layout alignment y container container e n t e r l i g n m e n t calculate minimum size dimension specify container given component contain parent component lay out minimum size container maximum layout size prefer layout size dimension minimum layout size container parent parent get tree lock list list extend grid layout constraint grid row list list extend grid layout constraint set extend grid layout constraint colspan hash set extend grid layout constraint set extend grid layout constraint rowspan hash set extend grid layout constraint dimension grid size build grid parent grid row colspan rowspan get size parent layout size m i n i m u m grid size grid row colspan rowspan 0 0 calculate prefer size dimension specify container given component contain parent container lay out prefer size container maximum layout size minimum layout size dimension prefer layout size container parent parent get tree lock list list extend grid layout constraint grid row list list extend grid layout constraint set extend grid layout constraint colspan hash set extend grid layout constraint set extend grid layout constraint rowspan hash set extend grid layout constraint dimension grid size build grid parent grid row colspan rowspan get size parent layout size p r e f e r r e d grid size grid row colspan rowspan 0 0 calculate maximum size dimension specify container given component contain parent container lay out maximum size container minimum layout size prefer layout size dimension maximum layout size container parent parent get tree lock list list extend grid layout constraint grid row list list extend grid layout constraint set extend grid layout constraint colspan hash set extend grid layout constraint set extend grid layout constraint rowspan hash set extend grid layout constraint dimension grid size build grid parent grid row colspan rowspan get size parent layout size m x i m u m grid size grid row colspan rowspan 0 0 invalidate layout indicate layout ha cache information discard container container which cache information discard invalidate layout container container lay out specify container parent container lay out layout container container parent parent get tree lock pas 1 build grid list list extend grid layout constraint grid row list list extend grid layout constraint set extend grid layout constraint colspan hash set extend grid layout constraint set extend grid layout constraint rowspan hash set extend grid layout constraint dimension grid size build grid parent grid row colspan rowspan pas 2 compute minimum prefer maximum column width row height layout size 6 dimension prefer size get size parent layout size p r e f e r r e d grid size grid row colspan rowspan layout size minimum col width layout size 0 minimum row height layout size 1 prefer col width layout size 2 prefer row height layout size 3 maximum col width layout size 4 maximum row height layout size 5 pas 3 space dimension parent size parent get size inset inset parent get inset width parent size width inset left inset right grid size width 1 hgap distance border left distance border right height parent size height inset top inset bottom grid size height 1 vgap distance border top distance border bottom space prefer size width width 0 grid size width prefer col width minimum col width maximum col width space prefer size height height 0 grid size height prefer row height minimum row height maximum row height pas 4 layout component row 0 y inset top+distance border top row grid size height y+ prefer row height row +vgap row++ list extend grid layout constraint grid row grid row get row col 0 x inset left+distance border left col grid size width x+ prefer col width col +hgap col++ extend grid layout constraint cell grid row get col cell cell get component cell placeholder component component cell get component dimension max size component get maximum size from col cell get col colspan cell get effective colspan col from col + colspan width 0 col2 from col col2 col col2++ width + prefer col width col2 width + colspan 1 hgap from row cell get row rowspan cell get effective rowspan row from row + rowspan height 0 row2 from row row2 row row2++ height + prefer row height row2 height + rowspan 1 vgap x correction 0 y correction 0 width max size width x correction width max size width component get alignment x width max size width height max size height y correction height max size height component get alignment y height max size height component set bound x + x correction y + y correction width height redistribut space positive negative all available column row taking element maximum minimum size into account possible total size cumulate prefer size component size available space display component gap between component between grid border parent container start start row column inclusive stop stop row column exclusive prefer element size prefer size row column after invocation hold size use minimum element size minimum size row column maximum element size maximum size row column space total size size start stop prefer element size minimum element size maximum element size total size size grow total size size calculate size available redistribution size size total size grow ? 1 1 size 0 calculate amount element resize violate minimum maximum size their current cumulate size modifyable amount 0 size 0 i start i stop i++ grow prefer element size i maximum element size i || grow prefer element size i minimum element size i modifyable amount++ size + prefer element size i check bound all element are at their minimum maximum size resize all element 0 modifyable amount i start i stop i++ size + prefer element size i check bound modifyable amount stop start prevent an endles loop container get resize very small amount size 0 resize element size modifyable amount i start i stop i++ size 0 check bound || check bound grow prefer element size i maximum element size i || grow prefer element size i minimum element size i prefer element size i + grow ? 1 1 0 prefer element size i prefer element size i 0 size size addition 0 factor size + size size i start i stop i++ modifyable size check bound ? grow ? maximum element size i prefer element size i prefer element size i minimum element size i m x v l u e prefer element size i element size math ab math round factor prefer element size i prefer element size i element size modifyable size prefer element size i + grow ? element size element size size addition + grow ? element size element size size element size prefer element size i + grow ? modifyable size modifyable size size addition + grow ? modifyable size modifyable size size modifyable size 0 prefer element size i prefer element size i 0 size + size addition calculate minimum prefer maximum size dimension specify container given component contain parent container lay out layout size layout size m i n i m u m compute minimum layout size layout size p r e f e r r e d compute prefer layout size layout size m x i m u m compute maximum layout size fill raw size layout size compute apply gap between component between grid border parent container fill raw size wheth fill result raw row height column width wheth apply gap between component between grid border parent container when computing layout size grid size amount row column grid grid row grid holding constraint component colspan set constraint which are part colspan are store rowspan set constraint which are part rowspan are store result fill raw size first six get fill raw row height column width result 0 result minimum col width result 1 result minimum row height result 2 result prefer col width result 3 result prefer row height result 4 result maximum col width result 5 result maximum row height minimum prefer maximum size dimension specify container illegal argument fill raw size result length 6 dimension get size container parent layout size layout size fill raw size dimension grid size list list extend grid layout constraint grid row set extend grid layout constraint colspan set extend grid layout constraint rowspan result fill raw size result length 6 illegal argument fill raw size result length must 6 + result length + minimum col width grid size width minimum row height grid size height prefer col width grid size width prefer row height grid size height maximum col width grid size width maximum row height grid size height fill minimum col width 0 fill minimum row height 0 fill prefer col width 0 fill prefer row height 0 fill maximum col width 0 fill maximum row height 0 get maximum minimum size maximum prefer size minimum maximum size all row column taking rowspan colspan into account row 0 row grid size height row++ list extend grid layout constraint grid row grid row get row col 0 col grid size width col++ extend grid layout constraint cell grid row get col cell cell get component component component cell get component dimension minimum size component get minimum size dimension prefer size component get prefer size dimension maximum size component get maximum size colspan contain cell minimum col width col math max minimum col width col minimum size width prefer col width col math max prefer col width col prefer size width maximum col width col math max maximum col width col maximum size width rowspan contain cell minimum row height row math max minimum row height row minimum size height prefer row height row math max prefer row height row prefer size height maximum row height row math max maximum row height row maximum size height correct where minimum col width col prefer col width col maximum col width col clipping minimum col width maximum col width col 0 col grid size width col++ minimum col width col maximum col width col maximum col width col minimum col width col prefer col width col minimum col width col prefer col width col minimum col width col prefer col width col minimum col width col prefer col width col maximum col width col prefer col width col maximum col width col plug colspan correct minimum prefer maximum column width colspan are part extend grid layout constraint cell colspan from col cell get col colspan cell get effective colspan col from col + colspan current minimum col width 0 current prefer col width 0 current maximum col width 0 col from col col col col++ minimum col width minimum col width col m x v l u e minimum col width current minimum col width current minimum col width m x v l u e current minimum col width + minimum col width prefer col width prefer col width col m x v l u e prefer col width current prefer col width current prefer col width m x v l u e current prefer col width + prefer col width maximum col width maximum col width col m x v l u e maximum col width current maximum col width current maximum col width m x v l u e current maximum col width + maximum col width component component cell get component want maximum col width component get maximum size width colspan 1 hgap current maximum col width want maximum col width space current maximum col width want maximum col width from col col maximum col width maximum col width maximum col width want minimum col width component get minimum size width colspan 1 hgap current minimum col width want minimum col width space current minimum col width want minimum col width from col col minimum col width minimum col width maximum col width want prefer col width component get prefer size width colspan 1 hgap current prefer col width want prefer col width space current prefer col width want prefer col width from col col prefer col width minimum col width maximum col width correct where minimum col width col prefer col width col maximum col width col clipping minimum col width maximum col width col 0 col grid size width col++ minimum col width col maximum col width col maximum col width col minimum col width col prefer col width col minimum col width col prefer col width col minimum col width col prefer col width col minimum col width col prefer col width col maximum col width col prefer col width col maximum col width col correct where minimum row height row prefer row height row maximum row height row clipping minimum row height maximum row height row 0 row grid size height row++ minimum row height row maximum row height row maximum row height row minimum row height row prefer row height row minimum row height row prefer row height row minimum row height row prefer row height row minimum row height row prefer row height row maximum row height row prefer row height row maximum row height row plug rowspan correct minimum prefer maximum row height rowspan are part extend grid layout constraint cell rowspan from row cell get row rowspan cell get effective rowspan row from row + rowspan current minimum row height 0 current prefer row height 0 current maximum row height 0 row from row row row row++ minimum row height minimum row height row m x v l u e minimum row height current minimum row height current minimum row height m x v l u e current minimum row height + minimum row height prefer row height prefer row height row m x v l u e prefer row height current prefer row height current prefer row height m x v l u e current prefer row height + prefer row height maximum row height maximum row height row m x v l u e maximum row height current maximum row height current maximum row height m x v l u e current maximum row height + maximum row height component component cell get component want maximum row height component get maximum size height rowspan 1 vgap current maximum row height want maximum row height space current maximum row height want maximum row height from row row maximum row height maximum row height maximum row height want minimum row height component get minimum size height rowspan 1 vgap current minimum row height want minimum row height space current minimum row height want minimum row height from row row minimum row height minimum row height maximum row height want prefer row height component get prefer size height rowspan 1 vgap current prefer row height want prefer row height space current prefer row height want prefer row height from row row prefer row height minimum row height maximum row height correct where minimum row height row prefer row height row maximum row height row clipping minimum row height maximum row height row 0 row grid size height row++ minimum row height row maximum row height row maximum row height row minimum row height row prefer row height row minimum row height row prefer row height row minimum row height row prefer row height row minimum row height row prefer row height row maximum row height row prefer row height row maximum row height row copy compute size result fill raw size result 0 minimum col width result 1 minimum row height result 2 prefer col width result 3 prefer row height result 4 maximum col width result 5 maximum row height sum up size value col width row height layout size m i n i m u m col width minimum col width row height minimum row height p r e f e r r e d col width prefer col width row height prefer row height m x i m u m col width maximum col width row height maximum row height internal miss branch layout size + layout size total width 0 total height 0 width col width total width + width height row height total height + height add space between component between componetn border parent container fill raw size inset inset parent get inset total width + inset left + inset right + grid size width 1 hgap + distance border left + distance border right total height + inset top + inset bottom + grid size height 1 vgap + distance border top + distance border bottom clip size m x v l u e too big total width m x v l u e total width m x v l u e total height m x v l u e total height m x v l u e dimension total width total height build up grid specify container given component contain parent container lay out grid row list list grid get store colspan set constraint which are part colspan get store rowspan set constraint which are part rowspan get store amount row column grid dimension build grid container parent list list extend grid layout constraint grid row set extend grid layout constraint colspan set extend grid layout constraint rowspan put parent s component source row list list extend grid layout constraint row list list extend grid layout constraint component component parent get component component component component component visible extend grid layout constraint constraint lookup constraint component get work row number constraint get row i row number row size i i row add list extend grid layout constraint list extend grid layout constraint row row get row number row add constraint initialize row iterator grid row iterator grid row list iterator extend grid layout constraint row iterator list iterator extend grid layout constraint list list iterator extend grid layout constraint grid row iterator list list iterator extend grid layout constraint next list extend grid layout constraint row row iterator extend grid layout constraint row iterator row iterator row iterator add row iterator row iterator ha next next list extend grid layout constraint grid row list extend grid layout constraint grid row add grid row grid row iterator add grid row list iterator build grid col 1 next col++ next row 0 grid row size row row++ iterator extend grid layout constraint row iterator row iterator get row list iterator extend grid layout constraint grid row iterator grid row iterator get row look rowspan previou row row 0 extend grid layout constraint rowspan source grid row get row 1 get col rowspan source extend grid layout constraint rowspan placeholder rowspan source get rowspan placeholder rowspan placeholder rowspan add rowspan source grid row iterator add rowspan placeholder rowspan placeholder get colspan placeholder rowspan placeholder get colspan r e m i n d e r next row iterator ha next next look colspan previou column grid row iterator ha previou extend grid layout constraint colspan source grid row iterator previou grid row iterator next colspan source extend grid layout constraint colspan placeholder colspan source get colspan placeholder colspan placeholder colspan add colspan source grid row iterator add colspan placeholder colspan placeholder get colspan placeholder colspan placeholder get colspan r e m i n d e r next row iterator ha next next add element row iterator ha next extend grid layout constraint constraint row iterator next constraint set col col grid row iterator add constraint constraint get colspan placeholder constraint get colspan r e m i n d e r next row iterator ha next next grid row iterator add check last grid row rowspan probably add row these next grid row size grid row size grid row size 0 extend grid layout constraint cell grid row get grid row size 1 cell r e m i n d e r cell get rowspan cell get rowspan placeholder next next next list iterator extend grid layout constraint grid row iterator grid row get grid row size 1 list iterator list extend grid layout constraint grid row list extend grid layout constraint grid row add grid row list iterator extend grid layout constraint grid row iterator grid row list iterator grid row iterator ha next extend grid layout constraint cell grid row iterator next cell cell get rowspan placeholder rowspan add cell extend grid layout constraint rowspan placeholder cell get rowspan placeholder grid row iterator add rowspan placeholder grid row iterator add grid row iterator grid row list iterator grid row iterator ha next extend grid layout constraint cell grid row iterator next cell r e m i n d e r cell get rowspan cell get rowspan placeholder next dimension col+1 grid row size representation textually represent result concise informative representation easy person read representation get get name + hgap + hgap + vgap + vgap + distance border + distance border + comptable + comptable + 