part bean shell script distribution documentation update may found at http www beanshell sun notice content are subject sun 1 0 may use except compliance available at http www sun com original bean shell initial developer original pat niemey create pat niemey are 2000 all right reserve g n u notice alternatively content may use g n u less l g p l which provision l g p l are applicable instead those above wish allow use your only l g p l allow other use your s p l indicate your decision delete provision above replace them notice other provision require l g p l delete provision above recipient may use your s p l l g p l patrick niemey pat pat net learning o reilly associate http www pat net pat bsh suppres warning uncheck split s delim vector v vector tokeniz st tokeniz s delim st ha token v add element st next token sa v size v into sa sa bubble sort vector v vector element v add element element n v size swap swap swap i 0 i n 1 i++ v element at i compare v element at i+1 0 tmp v element at i+1 v remove element at i+1 v insert element at tmp i swap out n v into out out max common prefix one two i 0 one region match 0 two 0 i i++ one substring 0 i 1 name type builder sb builder name + type length 0 sb append i 0 i type length i++ type i sb append ? get name + i type length 1 ? sb append sb split filename into dir name base name dir name base name split name name dir name base name i name last index separator i 1 dir name name substring 0 i base name name substring i+1 base name name dir name base name hack real reflect which normalize name type reflect normalize name type 