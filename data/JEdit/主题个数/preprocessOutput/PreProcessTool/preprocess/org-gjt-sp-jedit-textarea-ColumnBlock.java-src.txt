column block tab size 4 indent size 4 no tab collapse fold 1 2010 anshal shukla g n u 2 w i t h o u t n y w r r n t y m e r h n t b i l i t y f i t n e s s f o r p r t i u l r p u r p o s e g n u g n u 59 330 m 02111 1307 u s textarea vector buffer j edit buffer textarea selection rect column block rect node node parent vector node child vector node vector column block line line vector column block line column block width tab size dirty j edit buffer buffer dirty override add child add child node node must add child sort order column block block column block node column block block below search child block start line block below block below line within block block end line 0 illegal argument overlapping column block + block + + block below index child index block below child add index node child add node override get child vector node get child child override get parent node get parent parent set width set width width column block width width set parent set parent node parent parent parent set line set line vector column block line line line line get line vector column block line get line line column block column block column block column block j edit buffer buffer start line start column end line end column buffer start line start column end line end column buffer buffer column block column block j edit buffer buffer start line end line start line start line end line end line buffer buffer get start line override get start line start line get end line override get end line end line get column width get column width column block width line within block line within block line line start line line start line line end line line end line 0 get contain block column block get contain block line offset column block ret block line start line line end line relative offset offset buffer get line start offset line line line empty column block line block line line get line start line block line get column end index relative offset block line get column start index relative offset ret block ret block child child empty column block block search child line block block line within block line 0 ret block block get contain block line offset ret block get contain block column block get column block line offset dirty tab size 5 buffer column block lock column block col block line start line line end line line line empty column block line block line line get line start line block line get column end index + buffer get line start offset line offset tab size block line get tab size col block col block child child empty column block block search child line 0 child size 1 block || block line within block line 0 offset line tab size block get column block line offset col block block get column block line offset tab size 0 col block offset line tab size col block search child column block search child line child child empty search child line 0 child size 1 search child binary search on sort list search child one contain line no line an exact match close column block just below line use line within block on column block determine wheth there wa an exact match column block search child line start index stop index child start index stop index no exact match found near column block just below line column block child get start index current search index start index + stop index 2 found column block child get current search index line within block line found 0 column block child get current search index found 0 child size 1 current search index search child line current search index + 1 stop index found 0 current search index 0 search child line start index current search index 1 no exact match found near column block just below line column block child get 0 builder buf builder buf append column block start line append start line append end line append end line append column block width append column block width append l i n e s i 0 i line size i++ buf append buf append l i n e append i append append line element at i i 0 i child size i++ buf append buf append h i l d append i append append child element at i buf offset line illegal argument e l s t i t b s t o p o r r u p t d t + current time milli + thread + thread current thread get name + cannot find size tab at offset + offset buffer get line start offset line + line + line + search + set dirty status set dirty status status buffer column block lock dirty status update line no update line no line thing update line no column block update column block line column block call on all child start line + line end line + line i 0 i line size i++ line element at i update line no line i 0 i child size i++ column block child element at i update line no line update column block line offset update column block line offset line offset add increase start offset line start line line end line line line empty column block line block line line get line start line increase start offset block line col start index + offset add block line col end index + offset add child child empty column block block search child line block block line within block line 0 block update column block line offset line offset add set tab size dirty status tab size become dirty on font change when add delete inside column block they become clean once they get calculate again inside tab expand set tab size dirty status dirty recursive tab size dirty dirty recursive child child empty i 0 i child size i++ column block child element at i set tab size dirty status are tab size dirty are tab size dirty tab size dirty 