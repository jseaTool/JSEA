part bean shell script distribution documentation update may found at http www beanshell sun notice content are subject sun 1 0 may use except compliance available at http www sun com original bean shell initial developer original pat niemey create pat niemey are 2000 all right reserve g n u notice alternatively content may use g n u less l g p l which provision l g p l are applicable instead those above wish allow use your only l g p l allow other use your s p l indicate your decision delete provision above replace them notice other provision require l g p l delete provision above recipient may use your s p l l g p l patrick niemey pat pat net learning o reilly associate http www pat net pat bsh io net remote executor post script from command line bsh servlet embed interpreter using respectively h t t p bsh telnet service output print stdout numeric value scrap from result suppres warning uncheck remote length 2 out usage remote u r l http|bsh exit 1 url 0 text get 1 ret eval url text exit ret evaluate text interpreter at url possible value eval url text i o value url start http value http url text url start bsh value bsh url text i o unrecogniz u r l type + scheme must http bsh parse value e convention may change 0 bsh url text output stream out input stream host port value 1 u r l url need some format check here url url substring 6 remove bsh get index between host port locate index url index host url substring 0 index port url substring index+1 url length ex err bad u r l +org u r l+ +ex value out connect host + host + at port + port socket s socket host parse port + 1 out s get output stream s get input stream send line text out buffer reader bin buffer reader input stream reader line line bin read line out line need scrape value from last line? value 1 value ex err communicating server +ex value send line line output stream out pipe i o out pipe line get out pipe flush t o d o unicode friendly nor get output urlencod 8859 1 text probably urlencod u t f 8 how doe servlet determine encode charset? i guess we re suppose add charset clause content type? suppres warning deprecation http post u r l text value builder sb builder sb append bsh client remote sb append bsh script sb append u r l encod encode text require 1 3 sb append u r l encod encode text 8859 1 unsupport encoding e e print stack trace form data sb u r l url u r l post u r l http u r l connection urlcon http u r l connection url open connection urlcon set request p o s t urlcon set request property content type application x www form urlencod urlcon set output urlcon set input print writer pout print writer output stream writer urlcon get output stream 8859 1 pout print form data pout flush read result rc urlcon get response rc http u r l connection h t t p o k out h t t p response +rc value urlcon get header field bsh buffer reader bin buffer reader input stream reader urlcon get input stream line line bin read line out line out value +return value malform u r l e out e bad post u r l i o e2 out e2 i o value note assume character encoding get name found i o builder sb builder buffer reader bin buffer reader reader name line line bin read line sb append line append sb 