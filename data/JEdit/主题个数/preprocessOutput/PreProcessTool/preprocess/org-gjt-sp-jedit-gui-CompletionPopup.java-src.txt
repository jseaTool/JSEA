tab size 4 indent size 4 no tab collapse fold 1 2007 kazutoshi satoda g n u 2 w i t h o u t n y w r r n t y m e r h n t b i l i t y f i t n e s s f o r p r t i u l r p u r p o s e g n u g n u 59 330 m 02111 1307 u s gui importsimport border layout component event queue point rectangle window event input event event key adapter event key event event mouse adapter event mouse event event window event event window focus listener list model j list j panel j scroll pane j window list selection model list cell render scroll pane constant generic g u i utility view popup window word completion text area provide basic u i completion popup since j edit 4 3pre11 suppres warning uncheck candidate list model need work completion popup j window candidate candidate completion candidate number candidate get size wheth completion still valid valid completion complete index component render cell index popup component get cell render j list list index select cell ha focus description text show when index select popup no description available get description index completion popup constructor create completion popup show until reset call valid candidate all key event view are intercept popup untill end completion since j edit 4 3pre13 completion popup view view view view view key handler key handler candidate list j list list set selection mode list selection model s i n g l e s e l e t i o n list set cell render cell render list add key listener key handler list add mouse listener mouse handler list set focus traversal key enable j panel content j panel border layout content set focus traversal key enable stupid scrollbar policy an attempt work around bug people be seeing i b m s j d k 7 sep 2000 j scroll pane scroll j scroll pane list scroll pane constant v e r t i l s r o l l b r l w y s scroll pane constant h o r i o n t l s r o l l b r n e v e r content add scroll border layout e n t e r set content pane content add window focus listener window focus handler completion popup view view point location view location set location location dispose quit completion override dispose displayable view get key event interceptor key handler view set key event interceptor dispose workaround ensure setting focus back text area focus get lost after closing popup some environment seem bug j2 s e 1 4 5 0 probably relate following one frame doe receive focus after closing own window http bug sun com bugdatabase view bug do?bug 4810575 event queue runnable override run view get text area request focus reset start completion candidate candidate completion active set focus popup reset candidate candidate active candidate || candidate valid || candidate get size 0 dispose candidate candidate list set model candidate list model list set visible row count math min candidate get size 8 pack set location fit screen get location view get text area get painter get line height active set select index 0 generic g u i utility request focus list set visible view set key event interceptor key handler get candidate current candidate completion candidate get candidate candidate get select index index current selection 1 nothing select get select index list get select index set select index set selection set select index index candidate 0 index index candidate get size list set select index index list ensure index visible index description candidate get description index description view get status set message clear description select completion completion current selection quit select completion select list get select index candidate 0 select select candidate get size candidate complete select dispose key press medhod handle key press event override make additional key hand key press key event e key type medhod handle key type event override make additional key hand key type key event e member instance variable view view key handler key handler candidate candidate j list list fit screen point fit screen point p window w line height rectangle screen size w get graphic configuration get bound p y + w get height screen size height p y p y w get height line height p move relative move relative n select list get select index select select + n select 0 select 0 num item list get model get size num item 1 select num item select num item 1 select select set select index select move relative page move relative page n page size list get visible row count 1 move relative page size n pas key event view pas key event view key event e remove intercept avoid infinite recursion view get key event interceptor key handler view set key event interceptor here depend on an detail use t i o n b r force processing k e y t y p e d event gui input handler process key event view get input handler process key event e view t i o n b r restore key handler only popup still alive key event might trigger dispose popup displayable view set key event interceptor key handler candidate list model candidate list model list model override get size candidate get size override get element at index value use list only render component get cell render candidate cell render cell render list cell render override component get list cell render component j list list value index select cell ha focus candidate get cell render list index select cell ha focus key handler key handler key adapter key press override key press key event e completion popup key press e candidate || candidate valid dispose e consume e get key key event v k t b key event v k e n t e r select completion e consume dispose key event v k e s p e dispose e consume key event v k u p move relative 1 e consume key event v k d o w n move relative 1 e consume key event v k p e get modifier ex input event t r l d o w n m s k move relative 1 e consume key event v k n e get modifier ex input event t r l d o w n m s k move relative 1 e consume key event v k p g e u p move relative page 1 e consume key event v k p g e d o w n move relative page 1 e consume e action key || e alt down || e meta down || e control down dispose e consume pas key event view e key type override key type key event e e control down e consume completion popup key type e candidate || candidate valid dispose e consume pas key event view e mouse handler mouse handler mouse adapter override mouse click mouse event e select completion e consume dispose window focus handler window focus handler window focus listener override window gain focus window event e override window lost focus window event e dispose 