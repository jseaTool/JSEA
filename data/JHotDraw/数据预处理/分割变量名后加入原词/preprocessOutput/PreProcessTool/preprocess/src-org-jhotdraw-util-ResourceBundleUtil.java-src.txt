ResourceBundleUtil resource bundle util java 1 1 7 7 2006 2006 05 05 06 06 Copyright copyright c c 1996 1996 2006 2006 by by the the original original authors author of of JHotDraw jhotdraw and and all all its it contributors contributor JHotDraw jhotdraw org org All all rights right reserved reserve This software software is is the the confidential confidential and and proprietary proprietary information information of of JHotDraw jhotdraw org org Confidential confidential Information information You you shall shall not not disclose disclose such such Confidential confidential Information information and and shall shall use use it it only only in in accordance accordance with with the the terms term of of the the license license agreement agreement you you entered enter into into with with JHotDraw jhotdraw org org package org org jhotdraw jhotdraw util util import java util util import javax javax swing swing import java text text import java net net import java io io This is is a a convenience convenience wrapper wrapper for accessing access resources resource stored store in in a a ResourceBundle resource bundle author author Werner wern Randelshofer randelshof Staldenmattweg staldenmattweg 2 2 CH c h 6405 6405 Immensee immensee Switzerland switzerland version 1 1 7 7 2006 2006 05 05 06 06 Suffixes suffix changed change Redirection redirection via via LocaleUtil locale util added add br 1 1 6 6 1 1 2006 2006 04 04 12 12 Method getBundle get bundle added add br 1 1 6 6 2006 2006 03 03 15 15 Method setBaseClass set base getBaseClass get base added add br 1 1 5 5 2006 2006 02 02 15 15 Methods getInteger get getLAFBundle get l a f bundle configureButton configure button and and getTip get tip added add br 1 1 4 4 2005 2005 01 01 04 04 Methods configureAction configure action and and configureMenu configure menu added add br 1 1 3 3 2001 2001 10 10 10 10 The the default resource resource name name changed change from from name name Metal metal to to name name br 1 1 2 2 2001 2001 07 07 23 23 Adaptation adaptation to to JDK j d k 1 1 3 3 in in progress progress br 1 1 0 0 2000 2000 06 06 10 10 Created create public class ResourceBundleUtil resource bundle util The the wrapped wrap resource resource bundle bundle private ResourceBundle resource bundle resource resource private Class baseClass base getClass get Creates create a a new ResouceBundleUtil resouce bundle util which which wraps wrap the the provided provide resource resource bundle bundle public ResourceBundleUtil resource bundle util ResourceBundle resource bundle r r resource resource r r public ResourceBundle resource bundle getBundle get bundle return resource resource Get get a a String from from the the ResourceBundle resource bundle br Convenience convenience method to to save save casting casting param key key The the key key of of the the property property return The the value value of of the the property property Returns the the key key if the the property property is is missing miss public String getString get String key key try return resource resource getString get key key catch MissingResourceException miss resource e e return key key Get get an an Integer from from the the ResourceBundle resource bundle br Convenience convenience method to to save save casting casting param key key The the key key of of the the property property return The the value value of of the the property property Returns 1 1 if the the property property is is missing miss public Integer getInteger get String key key try return Integer valueOf value of resource resource getString get key key catch MissingResourceException miss resource e e return new Integer 1 1 Get get an an image image icon icon from from the the ResourceBundle resource bundle br Convenience convenience method param key key The the key key of of the the property property This method appends append icon icon to to the the key key return The the value value of of the the property property Returns null if the the property property is is missing miss public ImageIcon image icon getImageIcon get image icon String key key Class baseClass base try String rsrcName rsrc name resource resource getString get key+ key+ icon icon if rsrcName rsrc name equals equal return null if rsrcName rsrc name startsWith start with String imageDir image dir try imageDir image dir resource resource getString get $imageDir $image dir if imageDir image dir endsWith end with imageDir image dir imageDir+ image dir+ catch MissingResourceException miss resource e e imageDir image dir rsrcName rsrc name imageDir+rsrcName image dir+rsrc name URL u r l url url baseClass base getResource get resource rsrcName rsrc name try File f f new File url url toURI to u r i if f f exists System out out println f+ f+ does doe not not exist catch Throwable throwable t t t t printStackTrace print stack trace return url url null ? ? null new ImageIcon image icon url url catch MissingResourceException miss resource e e return null Get get a a Mnemonic mnemonic from from the the ResourceBundle resource bundle br Convenience convenience method param key key The the key key of of the the property property return The the first first char of of the the value value of of the the property property Returns \0 \0 if the the property property is is missing miss public char getMnemonic get mnemonic String key key String s s resource resource getString get key key return s s null || || s s length length 0 0 ? ? \0 \0 s s charAt at 0 0 Get get a a Mnemonic mnemonic from from the the ResourceBundle resource bundle br Convenience convenience method param key key The the key key of of the the property property This method appends append mnem mnem to to the the key key return The the first first char of of the the value value of of the the property property Returns \0 \0 if the the property property is is missing miss public char getMnem get mnem String key key String s s try s s resource resource getString get key+ key+ mnem mnem catch MissingResourceException miss resource e e s s null return s s null || || s s length length 0 0 ? ? \0 \0 s s charAt at 0 0 Get get a a Mnemonic mnemonic from from the the ResourceBundle resource bundle br Convenience convenience method param key key The the key key of of the the property property This method appends append tip tip to to the the key key return The the ToolTip tool tip Returns null if no no tooltip tooltip is is defined define public String getTip get tip String key key try return resource resource getString get key+ key+ tip tip catch MissingResourceException miss resource e e return null Get get a a KeyStroke key stroke from from the the ResourceBundle resource bundle BR b r Convenience convenience method param key key The the key key of of the the property property return code javax javax swing swing KeyStroke key stroke getKeyStroke get key stroke value value code Returns null if the the property property is is missing miss public KeyStroke key stroke getKeyStroke get key stroke String key key KeyStroke key stroke ks k null try String s s resource resource getString get key key ks k s s null ? ? KeyStroke key stroke null KeyStroke key stroke getKeyStroke get key stroke s s catch NoSuchElementException no such element e e return ks k Get get a a KeyStroke key stroke from from the the ResourceBundle resource bundle BR b r Convenience convenience method param key key The the key key of of the the property property This method adds add acc acc to to the the key key return code javax javax swing swing KeyStroke key stroke getKeyStroke get key stroke value value code Returns null if the the property property is is missing miss public KeyStroke key stroke getAcc get acc String key key KeyStroke key stroke ks k null try String s s resource resource getString get key+ key+ acc acc ks k s s null ? ? KeyStroke key stroke null KeyStroke key stroke getKeyStroke get key stroke s s catch MissingResourceException miss resource e e catch NoSuchElementException no such element e e return ks k public String getFormatted get format String key key String argument argument return MessageFormat message format format format resource resource getString get key key new Object argument argument public String getFormatted get format String key key Object arguments argument return MessageFormat message format format format resource resource getString get key key arguments argument Get get the the appropriate appropriate ResourceBundle resource bundle subclass subclass The the baseName base name is is extended extend by by the the Swing swing Look look and and Feel feel ID and and by by the the Locale locale code The the default Look look and and Feel feel ID is is Metal metal see see java util util ResourceBundle resource bundle public static ResourceBundleUtil resource bundle util getLAFBundle get l a f bundle String baseName base name throws MissingResourceException miss resource return getLAFBundle get l a f bundle baseName base name LocaleUtil locale util getDefault get ResourceBundleUtil resource bundle util r r try r r new ResourceBundleUtil resource bundle util ResourceBundle resource bundle getBundle get bundle baseName base name + + + + UIManager u i manager getLookAndFeel get look and feel getID get catch MissingResourceException miss resource e e r r new ResourceBundleUtil resource bundle util ResourceBundle resource bundle getBundle get bundle baseName base name return r r public void setBaseClass set base Class baseClass base this baseClass base baseClass base public Class getBaseClass get base return baseClass base public void configureAction configure action Action action action action String argument argument configureAction configure action action action argument argument getBaseClass get base public void configureAction configure action Action action action action String argument argument Class baseClass base action action putValue put value Action action NAME n a m e getString get argument argument action action putValue put value Action action ACCELERATOR a c c e l e r a t o r KEY k e y getAcc get acc argument argument action action putValue put value Action action MNEMONIC m n e m o n i c KEY k e y new Integer getMnem get mnem argument argument action action putValue put value Action action SMALL s m a l l ICON i c o n getImageIcon get image icon argument argument baseClass base public void configureButton configure button AbstractButton button button button String argument argument configureButton configure button button button argument argument getBaseClass get base public void configureButton configure button AbstractButton button button button String argument argument Class baseClass base button button setText set text getString get argument argument button button setACCELERATOR set a c c e l e r a t o r KEY k e y getAcc get acc argument argument action action putValue put value Action action MNEMONIC m n e m o n i c KEY k e y new Integer getMnem get mnem argument argument button button setIcon set icon getImageIcon get image icon argument argument baseClass base button button setToolTipText set tool tip text getTip get tip argument argument public void configureToolBarButton configure tool bar button AbstractButton button button button String argument argument configureToolBarButton configure tool bar button button button argument argument getBaseClass get base public void configureToolBarButton configure tool bar button AbstractButton button button button String argument argument Class baseClass base button button setText set text null button button setACCELERATOR set a c c e l e r a t o r KEY k e y getAcc get acc argument argument action action putValue put value Action action MNEMONIC m n e m o n i c KEY k e y new Integer getMnem get mnem argument argument button button setIcon set icon getImageIcon get image icon argument argument baseClass base button button setToolTipText set tool tip text getTip get tip argument argument public void configureMenu configure menu JMenuItem j menu item menu menu String argument argument menu menu setText set text getString get argument argument if menu menu instanceof JMenu j menu menu menu setAccelerator set accelerator getAcc get acc argument argument menu menu setMnemonic set mnemonic getMnem get mnem argument argument Get get the the appropriate appropriate ResourceBundle resource bundle subclass subclass The the ID of of the the current current Look look and and Feel feel is is prepended prepend to to the the locale locale attributes attribute see see java util util ResourceBundle resource bundle public static ResourceBundleUtil resource bundle util getLAFBundle get l a f bundle String baseName base name Locale locale locale locale throws MissingResourceException miss resource ResourceBundleUtil resource bundle util r r Locale locale lafLocale laf locale new Locale locale locale locale getLanguage get language locale locale getCountry get country UIManager u i manager getLookAndFeel get look and feel getID get r r new ResourceBundleUtil resource bundle util ResourceBundle resource bundle getBundle get bundle baseName base name lafLocale laf locale try r r new ResourceBundleUtil resource bundle util ResourceBundle resource bundle getBundle get bundle baseName+ base name+ +UIManager + u i manager getLookAndFeel get look and feel getID get locale locale catch MissingResourceException miss resource e e r r new ResourceBundleUtil resource bundle util ResourceBundle resource bundle getBundle get bundle baseName base name locale locale return r r 