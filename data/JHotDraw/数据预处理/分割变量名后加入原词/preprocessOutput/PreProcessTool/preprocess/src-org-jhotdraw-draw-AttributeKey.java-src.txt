AttributeKey attribute key java 1 1 0 0 1 1 2006 2006 07 07 14 14 Copyright copyright c c 1996 1996 2006 2006 by by the the original original authors author of of JHotDraw jhotdraw and and all all its it contributors contributor JHotDraw jhotdraw org org All all rights right reserved reserve This software software is is the the confidential confidential and and proprietary proprietary information information of of JHotDraw jhotdraw org org Confidential confidential Information information You you shall shall not not disclose disclose such such Confidential confidential Information information and and shall shall use use it it only only in in accordance accordance with with the the terms term of of the the license license agreement agreement you you entered enter into into with with JHotDraw jhotdraw org org package org org jhotdraw jhotdraw draw draw import java lang lang reflect reflect Provides provide typesafe typesafe getter gett and and setter setter for a a Figure figure attribute attribute An an AttributeKey attribute key has ha a a name name a a type type and and a a default value value The the default value value is is returned by by Figure figure getAttribute get attribute if a a Figure figure does doe not not have have an an attribute attribute of of the the specified specify key key author author Werner wern Randelshofer randelshof version 1 1 0 0 1 1 2006 2006 07 07 14 14 Null values value are are not not returned anymore anymore when when null values value are are not not allowed allow br 1 1 0 0 7 7 Juni juni 2006 2006 Created create public class AttributeKey attribute key T t private String key key private T t defaultValue value private boolean isNullValueAllowed is value allow Creates create a a new instance instance public AttributeKey attribute key String key key this key key null true public AttributeKey attribute key String key key T t defaultValue value this key key defaultValue value true public AttributeKey attribute key String key key T t defaultValue value boolean isNullValueAllowed is value allow this key key key key this defaultValue value defaultValue value this isNullValueAllowed is value allow isNullValueAllowed is value allow public String getKey get key return key key public T t getDefaultValue get value return defaultValue value public T t get get Figure figure f f T t value value T t f f getAttribute get attribute this return value value null isNullValueAllowed is value allow ? ? defaultValue value value value public void set set Figure figure f f T t value value if value value null isNullValueAllowed is value allow throw new NullPointerException pointer Null value value not not allowed allow for AttributeKey attribute key +key +key f f setAttribute set attribute this value value public void basicSet basic set Figure figure f f T t value value if value value null isNullValueAllowed is value allow throw new NullPointerException pointer Null value value not not allowed allow for AttributeKey attribute key +key +key f f basicSetAttribute basic set attribute this value value public boolean equals equal Object o o if o o instanceof AttributeKey attribute key AttributeKey attribute key that that AttributeKey attribute key o o return that that key key equals equal this key key return false public int hashCode hash return key key hashCode hash public String toString to return key key public boolean isNullValueAllowed is value allow return isNullValueAllowed is value allow public static void main String args TypeVariable type variable v v new AttributeKey attribute key Double hey hey getClass get getTypeParameters get type 0 0 public boolean isAssignable is assignable Object value value if value value null return isNullValueAllowed is value allow XXX x x x This works work but but maybe maybe there there is is an an easier easy way way to to do this? this? try T t a a T t value value return true catch ClassCastException cast e e return false 