AttributeToggler attribute toggl java 4 4 0 0 2006 2006 06 06 07 07 Copyright copyright c c 1996 1996 2006 2006 by by the the original original authors author of of JHotDraw jhotdraw and and all all its it contributors contributor JHotDraw jhotdraw org org All all rights right reserved reserve This software software is is the the confidential confidential and and proprietary proprietary information information of of JHotDraw jhotdraw org org Confidential confidential Information information You you shall shall not not disclose disclose such such Confidential confidential Information information and and shall shall use use it it only only in in accordance accordance with with the the terms term of of the the license license agreement agreement you you entered enter into into with with JHotDraw jhotdraw org org package org org jhotdraw jhotdraw draw draw action action import java awt awt import java awt awt event event import javax javax swing swing import javax javax swing swing text text import javax javax swing swing event event import java util util import org org jhotdraw jhotdraw draw draw AttributeToggler attribute toggl toggles toggle an an attribute attribute of of the the selected select figures figure between between two two different different values value If the the name name of of a a compatible compatible JTextComponent j text component action action is is specified specify the the toggler toggl checks check if the the current current permant permant focus focus owner owner is is a a JTextComponent j text component and and if it it is is it it will will apply apply the the text text action action to to the the JTextComponent j text component author author Werner wern Randelshofer randelshof version 4 4 0 0 2006 2006 06 06 07 07 Reworked rework br 3 3 0 0 2006 2006 02 02 27 27 Support support for compatible compatible text text action action added add br 2 2 0 0 2006 2006 02 02 27 27 Toggle toggle attributes attribute regardles regardle from from action action state state br 1 1 0 0 27 27 November november 2003 2003 Created create public class AttributeToggler attribute toggl implements ActionListener action listener private DrawingEditor drawing editor editor editor private AttributeKey attribute key key key private Object value1 value1 private Object value2 value2 private Action action compatibleTextAction compatible text action Creates create a a new instance instance public AttributeToggler attribute toggl DrawingEditor drawing editor editor editor AttributeKey attribute key key key Object value1 value1 Object value2 value2 this editor editor key key value1 value1 value2 value2 null public AttributeToggler attribute toggl DrawingEditor drawing editor editor editor AttributeKey attribute key key key Object value1 value1 Object value2 value2 Action action compatibleTextAction compatible text action this editor editor editor editor this key key key key this value1 value1 value1 value1 this value2 value2 value2 value2 this compatibleTextAction compatible text action compatibleTextAction compatible text action public DrawingView drawing view getView get view return editor editor getView get view public DrawingEditor drawing editor getEditor get editor return editor editor public void actionPerformed action perform ActionEvent action event evt evt if compatibleTextAction compatible text action null Component component focusOwner focus owner KeyboardFocusManager keyboard focus manager getCurrentKeyboardFocusManager get current keyboard focus manager getPermanentFocusOwner get permanent focus owner if focusOwner focus owner null focusOwner focus owner instanceof JTextComponent j text component compatibleTextAction compatible text action actionPerformed action perform evt evt return Iterator iterator i i getView get view getSelectedFigures get select figure iterator iterator Object newValue value null if i i hasNext ha next Figure figure f f Figure figure i i next next Object attr attr f f getAttribute get attribute key key if value1 value1 null attr attr null || || value1 value1 null attr attr null attr attr equals equal value1 value1 newValue value value2 value2 else newValue value value1 value1 getEditor get editor setDefaultAttribute set attribute key key newValue value f f setAttribute set attribute key key newValue value while i i hasNext ha next Figure figure f f Figure figure i i next next f f setAttribute set attribute key key newValue value 