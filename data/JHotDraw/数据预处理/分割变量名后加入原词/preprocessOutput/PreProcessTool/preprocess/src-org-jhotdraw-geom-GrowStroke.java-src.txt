GrowStroke grow stroke java 1 1 0 0 June june 9 9 2006 2006 Copyright copyright c c 1996 1996 2006 2006 by by the the original original authors author of of JHotDraw jhotdraw and and all all its it contributors contributor JHotDraw jhotdraw org org All all rights right reserved reserve This software software is is the the confidential confidential and and proprietary proprietary information information of of JHotDraw jhotdraw org org Confidential confidential Information information You you shall shall not not disclose disclose such such Confidential confidential Information information and and shall shall use use it it only only in in accordance accordance with with the the terms term of of the the license license agreement agreement you you entered enter into into with with JHotDraw jhotdraw org org package org org jhotdraw jhotdraw geom geom import java awt awt import java awt awt geom geom import java awt awt font font GrowStroke grow stroke can can be be used use to to grow grow shrink shrink a a figure figure by by a a specified specify line line width width This only only works work with with closed close convex convex paths path having have edges edge in in clockwise clockwise direction direction p p Note note Although although this is is a a Stroke stroke object it it does doe not not actually actually create create a a stroked stroke shape shape but but one one that that can can be be used use for filling filling author author Werner wern Randelshofer randelshof version 1 1 0 0 June june 9 9 2006 2006 Created create public class GrowStroke grow stroke extends DoubleStroke stroke private float grow grow public GrowStroke grow stroke float grow grow float miterLimit miter limit super grow grow 2 2 1f 1f BasicStroke basic stroke CAP c a p SQUARE s q u a r e BasicStroke basic stroke JOIN j o i n BEVEL b e v e l miterLimit miter limit null 0f 0f this grow grow grow grow public Shape shape createStrokedShape create stroke shape Shape shape s s BezierPath bezi path bp bp new BezierPath bezi path GeneralPath general path left left new GeneralPath general path GeneralPath general path right right new GeneralPath general path double coords coord new double 6 6 FIXME f i x m e We we only only do a a flattened flatten path path for PathIterator path iterator i i s s getPathIterator get path iterator null 0 0 1d 1d i i isDone is i i next next int type type i i currentSegment current segment coords coord switch type type case PathIterator path iterator SEG s e g MOVETO m o v e t o if bp bp size size 0 0 traceStroke trace stroke bp bp left left right right bp bp clear clear bp bp moveTo move to coords coord 0 0 coords coord 1 1 break case PathIterator path iterator SEG s e g LINETO l i n e t o if coords coord 0 0 bp bp get get bp bp size size 1 1 x x 0 0 || || coords coord 1 1 bp bp get get bp bp size size 1 1 y y 0 0 bp bp lineTo line to coords coord 0 0 coords coord 1 1 break case PathIterator path iterator SEG s e g QUADTO q u a d t o bp bp quadTo quad to coords coord 0 0 coords coord 1 1 coords coord 2 2 coords coord 3 3 break case PathIterator path iterator SEG s e g CUBICTO c u b i c t o bp bp curveTo curve to coords coord 0 0 coords coord 1 1 coords coord 2 2 coords coord 3 3 coords coord 4 4 coords coord 5 5 break case PathIterator path iterator SEG s e g CLOSE c l o s e bp bp setClosed set close true break if bp bp size size 1 1 traceStroke trace stroke bp bp left left right right if left left getBounds2D get bounds2 d contains contain right right getBounds2D get bounds2 d return grow grow 0 0 ? ? left left right right else return grow grow 0 0 ? ? right right left left 