Worker worker java 2 2 1 1 2005 2005 10 10 16 16 Copyright copyright c c 1998 1998 2005 2005 Werner wern Randelshofer randelshof Staldenmattweg staldenmattweg 2 2 Immensee immensee CH c h 6405 6405 Switzerland switzerland All all rights right reserved reserve This software software is is the the confidential confidential and and proprietary proprietary information information of of Werner wern Randelshofer randelshof Confidential confidential Information information You you shall shall not not disclose disclose such such Confidential confidential Information information and and shall shall use use it it only only in in accordance accordance with with the the terms term of of the the license license agreement agreement you you entered enter into into with with Werner wern Randelshofer randelshof package org org jhotdraw jhotdraw util util import java awt awt ActiveEvent active event import javax javax swing swing SwingUtilities swing utility This is is an an abstract class that that you you subclass subclass to to perform perform GUI g u i related relate work work in in a a dedicated dedicate event event dispatcher dispatcher p p This class is is similar similar to to SwingWorker swing worker but but less les complex complex Like like a a SwingWorker swing worker it it can can run run using using an an an an internal internal worker worker thread thread but but it it can can also also be be like like a a Runnable runnable object author author Werner wern Randelshofer randelshof version 2 2 1 1 2005 2005 10 10 16 16 Method start start added add br 2 2 0 0 2005 2005 09 09 27 27 Revised revise br 1 1 1 1 1 1 2001 2001 08 08 24 24 Call call finished finish within within finally block block br 1 1 1 1 2001 2001 08 08 24 24 Reworked rework for JDK j d k 1 1 3 3 br 1 1 0 0 1998 1998 10 10 07 07 Created create public abstract class Worker worker implements Runnable runnable private Object value value see see getValue get value setValue set value Calls call construct construct on on the the current current thread thread and and invokes finished finish on on the the AWT a w t event event dispatcher dispatcher thread thread public final void run run final Runnable runnable doFinished finish new Runnable runnable public void run run finished finish getValue get value try setValue set value construct construct catch Throwable throwable e e e e printStackTrace print stack trace finally SwingUtilities swing utility invokeLater late doFinished finish Compute compute the the value value to to be be returned by by the the code get get code method public abstract Object construct construct Called call on on the the event event dispatching dispatch thread thread not not on on the the worker worker thread thread after after the the code construct construct code method has ha returned param value value The the return value value of of the the construct construct method public abstract void finished finish Object value value Get get the the value value produced produce by by the the worker worker thread thread or or null if it it hasn hasn t t been be constructed construct yet yet protected synchronized Object getValue get value return value value Set set the the value value produced produce by by worker worker thread thread private synchronized void setValue set value Object x x value value x x Starts start the the Worker worker on on an an internal internal worker worker thread thread public void start start new Thread thread this start start 