ArrowTip arrow tip java 1 1 0 0 19 19 November november 2003 2003 Copyright copyright c c 1996 1996 2006 2006 by by the the original original authors author of of JHotDraw jhotdraw and and all all its it contributors contributor JHotDraw jhotdraw org org All all rights right reserved reserve This software software is is the the confidential confidential and and proprietary proprietary information information of of JHotDraw jhotdraw org org Confidential confidential Information information You you shall shall not not disclose disclose such such Confidential confidential Information information and and shall shall use use it it only only in in accordance accordance with with the the terms term of of the the license license agreement agreement you you entered enter into into with with JHotDraw jhotdraw org org ??? ??? package org org jhotdraw jhotdraw draw draw import java io io import java awt awt import java awt awt geom geom import org org jhotdraw jhotdraw util util import org org jhotdraw jhotdraw xml xml DOMInput dom input import org org jhotdraw jhotdraw xml xml DOMOutput dom output import org org jhotdraw jhotdraw xml xml DOMStorable dom storable An an arrow arrow tip tip line line decoration decoration author author Werner wern Randelshofer randelshof version 2 2 0 0 2006 2006 01 01 14 14 Changed change to to support support double precison coordinates coordinate br 1 1 0 0 2003 2003 12 12 01 01 Derived derive from from JHotDraw jhotdraw 5 5 4b1 4b1 public class ArrowTip arrow tip extends AbstractLineDecorationimplements line decorationimplement DOMStorable dom storable Pointiness pointines of of arrow arrow private double angle angle private double outerRadius out radius private double innerRadius inner radius public ArrowTip arrow tip this 0 0 35 35 12 12 11 11 3 3 Constructs construct an an arrow arrow tip tip with with the the specified specify angle angle and and outer out and and inner inner radius radius public ArrowTip arrow tip double angle angle double outerRadius out radius double innerRadius inner radius this angle angle outerRadius out radius innerRadius inner radius true false true Constructs construct an an arrow arrow tip tip with with the the specified specify parameters public ArrowTip arrow tip double angle angle double outerRadius out radius double innerRadius inner radius boolean isFilled is fill boolean isStroked is stroke boolean isSolid is solid super isFilled is fill isStroked is stroke isSolid is solid this angle angle angle angle this outerRadius out radius outerRadius out radius this innerRadius inner radius innerRadius inner radius protected GeneralPath general path getDecoratorPath get decorator path Figure figure f f FIXME f i x m e This should should take take the the stroke stroke join join an an the the outer out radius radius into into account account to to compute compute the the offset offset properly properly double offset offset isStroked is stroke ? ? 1 1 0 0 GeneralPath general path path path new GeneralPath general path path path moveTo move to float outerRadius out radius Math math sin sin angle angle float offset offset + + outerRadius out radius Math math cos co angle angle path path lineTo line to 0 0 float offset offset path path lineTo line to float outerRadius out radius Math math sin sin angle angle float offset offset + + outerRadius out radius Math math cos co angle angle if innerRadius inner radius 0 0 path path lineTo line to 0 0 float innerRadius inner radius + + offset offset path path closePath close path return path path protected double getDecoratorPathRadius get decorator path radius Figure figure f f double offset offset isStroked is stroke ? ? 0 0 5 5 0 0 1 1 return innerRadius inner radius + + offset offset public void read read DOMInput dom input in in angle angle in in getAttribute get attribute angle angle 0 0 35f 35f innerRadius inner radius in in getAttribute get attribute innerRadius inner radius 12f 12f outerRadius out radius in in getAttribute get attribute outerRadius out radius 12f 12f setFilled set fill in in getAttribute get attribute isFilled is fill false setStroked set stroke in in getAttribute get attribute isStroked is stroke false setSolid set solid in in getAttribute get attribute isSolid is solid false public void write write DOMOutput dom output out out out out addAttribute add attribute angle angle angle angle out out addAttribute add attribute innerRadius inner radius innerRadius inner radius out out addAttribute add attribute outerRadius out radius outerRadius out radius out out addAttribute add attribute isFilled is fill isFilled is fill out out addAttribute add attribute isStroked is stroke isStroked is stroke out out addAttribute add attribute isSolid is solid isSolid is solid 