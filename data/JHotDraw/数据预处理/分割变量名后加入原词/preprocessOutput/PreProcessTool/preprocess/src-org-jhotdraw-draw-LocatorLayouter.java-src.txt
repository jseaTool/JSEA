LocatorLayouter locator layout java 2 2 0 0 2006 2006 01 01 14 14 Copyright copyright c c 1996 1996 2006 2006 by by the the original original authors author of of JHotDraw jhotdraw and and all all its it contributors contributor JHotDraw jhotdraw org org All all rights right reserved reserve This software software is is the the confidential confidential and and proprietary proprietary information information of of JHotDraw jhotdraw org org Confidential confidential Information information You you shall shall not not disclose disclose such such Confidential confidential Information information and and shall shall use use it it only only in in accordance accordance with with the the terms term of of the the license license agreement agreement you you entered enter into into with with JHotDraw jhotdraw org org package org org jhotdraw jhotdraw draw draw import org org jhotdraw jhotdraw geom geom Dimension2DDouble dimension2 d import org org jhotdraw jhotdraw util util import java awt awt import java awt awt geom geom import java util util A a layouter layout which which lays lay out out all all children child of of a a CompositeFigure composite figure according accord to to their their LayoutLocator layout locator property property author author Werner wern Randelshofer randelshof version 2 2 0 0 2006 2006 01 01 14 14 Changed change to to support support double precision precision coordinates coordinate br 1 1 0 0 3 3 Februar februar 2004 2004 Created create public class LocatorLayouter locator layout implements Layouter layout LayoutLocator layout locator property property used use by by the the children child to to specify specify their their location location relative relative to to the the compositeFigure composite figure public final static AttributeKey attribute key Locator locator LAYOUT l a y o u t LOCATOR l o c a t o r new AttributeKey attribute key Locator locator layoutLocator layout locator null Creates create a a new instance instance public LocatorLayouter locator layout public Rectangle2D rectangle2 d Double calculateLayout calculate layout CompositeFigure composite figure compositeFigure composite figure Point2D point2 d Double anchor anchor Point2D point2 d Double lead Rectangle2D rectangle2 d Double bounds bound null for Figure figure child child compositeFigure composite figure getChildren get child Locator locator locator locator getLocator get locator child child Rectangle2D rectangle2 d Double r r if locator locator null r r child child getBounds get bound else Point2D point2 d Double p p locator locator locate locate compositeFigure composite figure Dimension2DDouble dimension2 d d d child child getPreferredSize get prefer size r r new Rectangle2D rectangle2 d Double p p x x p p y y d d width width d d height height if r r isEmpty is empty if bounds bound null bounds bound r r else bounds bound add add r r return bounds bound null ? ? new Rectangle2D rectangle2 d Double bounds bound public Rectangle2D rectangle2 d Double layout layout CompositeFigure composite figure compositeFigure composite figure Point2D point2 d Double anchor anchor Point2D point2 d Double lead Rectangle2D rectangle2 d Double bounds bound null for Figure figure child child compositeFigure composite figure getChildren get child Locator locator locator locator getLocator get locator child child Rectangle2D rectangle2 d Double r r if locator locator null r r child child getBounds get bound else Point2D point2 d Double p p locator locator locate locate compositeFigure composite figure child child Dimension2DDouble dimension2 d d d child child getPreferredSize get prefer size r r new Rectangle2D rectangle2 d Double p p x x p p y y d d width width d d height height child child willChange will change child child basicSetBounds basic set bound new Point2D point2 d Double r r getMinX get min x r r getMinY get min y new Point2D point2 d Double r r getMaxX get max x r r getMaxY get max y child child changed change if r r isEmpty is empty if bounds bound null bounds bound r r else bounds bound add add r r return bounds bound null ? ? new Rectangle2D rectangle2 d Double bounds bound private Locator locator getLocator get locator Figure figure f f return Locator locator f f getAttribute get attribute LAYOUT l a y o u t LOCATOR l o c a t o r 