CombinePathsAction combine path action java 1 1 0 0 2006 2006 07 07 12 12 Copyright copyright c c 1996 1996 2006 2006 by by the the original original authors author of of JHotDraw jhotdraw and and all all its it contributors contributor JHotDraw jhotdraw org org All all rights right reserved reserve This software software is is the the confidential confidential and and proprietary proprietary information information of of JHotDraw jhotdraw org org Confidential confidential Information information You you shall shall not not disclose disclose such such Confidential confidential Information information and and shall shall use use it it only only in in accordance accordance with with the the terms term of of the the license license agreement agreement you you entered enter into into with with JHotDraw jhotdraw org org package org org jhotdraw jhotdraw samples sample svg svg action action import org org jhotdraw jhotdraw draw draw import org org jhotdraw jhotdraw draw draw action action import org org jhotdraw jhotdraw samples sample svg svg figures figure import org org jhotdraw jhotdraw undo undo import org org jhotdraw jhotdraw util util import java util util import javax javax swing swing import javax javax swing swing undo undo CombinePathsAction combine path action author author Werner wern Randelshofer randelshof version 1 1 0 0 2006 2006 07 07 12 12 Created create public class CombineAction combine action extends GroupAction group action public final static String ID selectionCombine selection combine Creates create a a new instance instance public CombineAction combine action DrawingEditor drawing editor editor editor super editor editor new SVGPath s v g path labels label ResourceBundleUtil resource bundle util getLAFBundle get l a f bundle org org jhotdraw jhotdraw samples sample svg svg Labels label Locale locale getDefault get labels label configureAction configure action this ID Override override protected boolean canGroup can group boolean canCombine can combine getView get view getSelectionCount get selection count 1 1 if canCombine can combine for Figure figure f f getView get view getSelectedFigures get select figure if f f instanceof SVGPath s v g path canCombine can combine false break return canCombine can combine public Collection collection Figure figure ungroupFigures ungroup figure DrawingView drawing view view view CompositeFigure composite figure group group LinkedList link list Figure figure figures figure new LinkedList link list Figure figure group group getChildren get child view view clearSelection clear selection group group basicRemoveAllChildren basic remove all child LinkedList link list Figure figure paths path new LinkedList link list Figure figure for Figure figure f f figures figure SVGPath s v g path path path new SVGPath s v g path path path removeAllChildren remove all child for Map map Entry entry AttributeKey attribute key Object entry entry group group getAttributes get attribute entrySet entry set path path basicSetAttribute basic set attribute entry entry getKey get key entry entry getValue get value path path add add f f view view getDrawing get drawing basicAdd basic add path path paths path add add path path view view getDrawing get drawing remove remove group group view view addToSelection add to selection paths path return figures figure public void groupFigures group figure DrawingView drawing view view view CompositeFigure composite figure group group Collection collection Figure figure figures figure Collection collection Figure figure sorted sort view view getDrawing get drawing sort sort figures figure view view getDrawing get drawing basicRemoveAll basic remove all figures figure view view clearSelection clear selection view view getDrawing get drawing add add group group group group willChange will change SVGPath s v g path group group removeAllChildren remove all child for Map map Entry entry AttributeKey attribute key Object entry entry figures figure iterator iterator next next getAttributes get attribute entrySet entry set group group basicSetAttribute basic set attribute entry entry getKey get key entry entry getValue get value for Figure figure f f sorted sort SVGPath s v g path path path SVGPath s v g path f f for Figure figure child child path path getChildren get child group group basicAdd basic add child child group group changed change view view addToSelection add to selection group group 