RectangleFigure rectangle figure java 2 2 2 2 2006 2006 03 03 23 23 Copyright copyright c c 1996 1996 2006 2006 by by the the original original authors author of of JHotDraw jhotdraw and and all all its it contributors contributor JHotDraw jhotdraw org org All all rights right reserved reserve This software software is is the the confidential confidential and and proprietary proprietary information information of of JHotDraw jhotdraw org org Confidential confidential Information information You you shall shall not not disclose disclose such such Confidential confidential Information information and and shall shall use use it it only only in in accordance accordance with with the the terms term of of the the license license agreement agreement you you entered enter into into with with JHotDraw jhotdraw org org ??? ??? package org org jhotdraw jhotdraw draw draw import java awt awt import java awt awt geom geom import java io io import java util util import static org org jhotdraw jhotdraw draw draw AttributeKeys attribute key import org org jhotdraw jhotdraw geom geom Geom geom RectangleFigure rectangle figure author author Werner wern Randelshofer randelshof version 2 2 2 2 2006 2006 03 03 23 23 Take take stroke stroke size size into into account account in in method contains contain br 2 2 1 1 2006 2006 03 03 22 22 Method getFigureDrawBounds get figure draw bound added add br 2 2 0 0 2006 2006 01 01 14 14 Changed change to to support support double precison coordinates coordinate br 1 1 0 0 2003 2003 12 12 01 01 Derived derive from from JHotDraw jhotdraw 5 5 4b1 4b1 public class RectangleFigure rectangle figure extends AttributedFigure attribute figure private Rectangle2D rectangle2 d Double rectangle rectangle Creates create a a new instance instance public RectangleFigure rectangle figure this 0 0 0 0 0 0 0 0 public RectangleFigure rectangle figure double x x double y y double width width double height height rectangle rectangle new Rectangle2D rectangle2 d Double x x y y width width height height FILL f i l l COLOR c o l o r set set this Color color white white STROKE s t r o k e COLOR c o l o r set set this Color color black black DRAWING d r a w i n g SHAPE s h a p e AND a n d BOUNDS b o u n d s ATTRIBUTES a t t r i b u t e s EDITING e d i t i n g CONNECTING c o n n e c t i n g COMPOSITE c o m p o s i t e FIGURES f i g u r e s CLONING c l o n i n g EVENT e v e n t HANDLING h a n d l i n g public Rectangle2D rectangle2 d Double getBounds get bound Rectangle2D rectangle2 d Double bounds bound Rectangle2D rectangle2 d Double rectangle rectangle clone clone return bounds bound protected void drawFill draw fill Graphics2D graphics2 d g g Rectangle2D rectangle2 d Double r r Rectangle2D rectangle2 d Double rectangle rectangle clone clone double grow grow AttributeKeys attribute key getPerpendicularFillGrowth get perpendicular fill growth this Geom geom grow grow r r grow grow grow grow g g fill fill r r protected void drawStroke draw stroke Graphics2D graphics2 d g g Rectangle2D rectangle2 d Double r r Rectangle2D rectangle2 d Double rectangle rectangle clone clone double grow grow AttributeKeys attribute key getPerpendicularDrawGrowth get perpendicular draw growth this Geom geom grow grow r r grow grow grow grow g g draw draw r r public Rectangle2D rectangle2 d Double getFigureDrawBounds get figure draw bound Rectangle2D rectangle2 d Double r r Rectangle2D rectangle2 d Double rectangle rectangle clone clone double grow grow AttributeKeys attribute key getPerpendicularHitGrowth get perpendicular hit growth this + + 1d 1d Geom geom grow grow r r grow grow grow grow return r r Checks check if a a Point2D point2 d Double is is inside inside the the figure figure public boolean contains contain Point2D point2 d Double p p Rectangle2D rectangle2 d Double r r Rectangle2D rectangle2 d Double rectangle rectangle clone clone double grow grow AttributeKeys attribute key getPerpendicularHitGrowth get perpendicular hit growth this + + 1d 1d Geom geom grow grow r r grow grow grow grow return r r contains contain p p public void basicSetBounds basic set bound Point2D point2 d Double anchor anchor Point2D point2 d Double lead rectangle rectangle x x Math math min min anchor anchor x x lead x x rectangle rectangle y y Math math min min anchor anchor y y lead y y rectangle rectangle width width Math math max max 0 0 1 1 Math math abs ab lead x x anchor anchor x x rectangle rectangle height height Math math max max 0 0 1 1 Math math abs ab lead y y anchor anchor y y Moves move the the Figure figure to to a a new location location param tx tx the the transformation transformation matrix matrix public void basicTransform basic transform AffineTransform affine transform tx tx Point2D point2 d Double anchor anchor getStartPoint get start point Point2D point2 d Double lead getEndPoint get end point basicSetBounds basic set bound Point2D point2 d Double tx tx transform transform anchor anchor anchor anchor Point2D point2 d Double tx tx transform transform lead lead public RectangleFigure rectangle figure clone clone RectangleFigure rectangle figure that that RectangleFigure rectangle figure super clone clone that that rectangle rectangle Rectangle2D rectangle2 d Double this rectangle rectangle clone clone return that that public void restoreTo restore to Object geometry geometry Rectangle2D rectangle2 d Double r r Rectangle2D rectangle2 d Double geometry geometry rectangle rectangle x x r r x x rectangle rectangle y y r r y y rectangle rectangle width width r r width width rectangle rectangle height height r r height height public Object getRestoreData get restore data return rectangle rectangle clone clone 