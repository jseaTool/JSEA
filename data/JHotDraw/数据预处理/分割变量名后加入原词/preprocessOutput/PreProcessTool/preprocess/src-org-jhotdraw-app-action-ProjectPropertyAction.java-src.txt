ProjectPropertyAction project property action java 1 1 0 0 June june 18 18 2006 2006 Copyright copyright c c 1996 1996 2006 2006 by by the the original original authors author of of JHotDraw jhotdraw and and all all its it contributors contributor JHotDraw jhotdraw org org All all rights right reserved reserve This software software is is the the confidential confidential and and proprietary proprietary information information of of JHotDraw jhotdraw org org Confidential confidential Information information You you shall shall not not disclose disclose such such Confidential confidential Information information and and shall shall use use it it only only in in accordance accordance with with the the terms term of of the the license license agreement agreement you you entered enter into into with with JHotDraw jhotdraw org org package org org jhotdraw jhotdraw app app action action import java awt awt event event import java beans bean import org org jhotdraw jhotdraw app app Application application import org org jhotdraw jhotdraw app app Project project ProjectPropertyAction project property action author author Werner wern Randelshofer randelshof version 1 1 0 0 June june 18 18 2006 2006 Created create public class ProjectPropertyAction project property action extends AbstractProjectAction project action private String propertyName property name private Class parameterClass parameter private Object propertyValue property value private String setterName setter name private String getterName gett name private PropertyChangeListener property change listener projectListener project listener new PropertyChangeListener property change listener public void propertyChange property change PropertyChangeEvent property change event evt evt if evt evt getPropertyName get property name propertyName property name Strings get get interned intern updateSelectedState update select state Creates create a a new instance instance public ProjectPropertyAction project property action Application application app app String propertyName property name Object propertyValue property value this app app propertyName property name propertyValue property value getClass get propertyValue property value public ProjectPropertyAction project property action Application application app app String propertyName property name Class propertyClass property Object propertyValue property value super app app this propertyName property name propertyName property name this parameterClass parameter new Class propertyClass property this propertyValue property value propertyValue property value setterName setter name set set +Character + character toUpperCase to upper propertyName property name charAt at 0 0 + + propertyName property name substring substring 1 1 getterName gett name propertyClass property Boolean TYPE t y p e || || propertyClass property Boolean class ? ? is is get get + + Character character toUpperCase to upper propertyName property name charAt at 0 0 + + propertyName property name substring substring 1 1 updateSelectedState update select state public void actionPerformed action perform ActionEvent action event evt evt Project project p p getCurrentProject get current project try p p getClass get getMethod get setterName setter name parameterClass parameter invoke p p new Object propertyValue property value catch Throwable throwable e e InternalError internal error new InternalError internal Method invocation invocation failed fail error initCause init cause e e throw error protected void installProjectListeners install project listener Project project p p super installProjectListeners install project listener p p p p addPropertyChangeListener add property change listener projectListener project listener updateSelectedState update select state Installs install listeners listener on on the the project project object protected void uninstallProjectListeners uninstall project listener Project project p p super uninstallProjectListeners uninstall project listener p p p p removePropertyChangeListener remove property change listener projectListener project listener private void updateSelectedState update select state boolean isSelected is select false Project project p p getCurrentProject get current project if p p null try Object value value p p getClass get getMethod get getterName gett name Class null invoke p p isSelected is select value value propertyValue property value || || value value null propertyValue property value null value value equals equal propertyValue property value catch Throwable throwable e e InternalError internal error new InternalError internal Method invocation invocation failed fail error initCause init cause e e throw error putValue put value Actions action SELECTED s e l e c t e d KEY k e y isSelected is select 