SVGGroup s v g group java 1 1 0 0 July july 8 8 2006 2006 Copyright copyright c c 1996 1996 2006 2006 by by the the original original authors author of of JHotDraw jhotdraw and and all all its it contributors contributor JHotDraw jhotdraw org org All all rights right reserved reserve This software software is is the the confidential confidential and and proprietary proprietary information information of of JHotDraw jhotdraw org org Confidential confidential Information information You you shall shall not not disclose disclose such such Confidential confidential Information information and and shall shall use use it it only only in in accordance accordance with with the the terms term of of the the license license agreement agreement you you entered enter into into with with JHotDraw jhotdraw org org package org org jhotdraw jhotdraw samples sample svg svg figures figure import java awt awt geom geom import java io io import java util util import org org jhotdraw jhotdraw draw draw import org org jhotdraw jhotdraw samples sample svg svg import org org jhotdraw jhotdraw xml xml SVGGroup s v g group author author Werner wern Randelshofer randelshof version 1 1 0 0 July july 8 8 2006 2006 Created create public class SVGGroup s v g group extends GroupFigure group figure implements SVGFigure s v g figure Creates create a a new instance instance public SVGGroup s v g group SVGUtil s v g util setDefaults set this Override override public LinkedList link list Handle handle createHandles create handle int detailLevel detail level LinkedList link list Handle handle handles handle if detailLevel detail level 0 0 handles handle LinkedList link list Handle handle super createHandles create handle detailLevel detail level handles handle add add new RotateHandle rotate handle this else handles handle new LinkedList link list Handle handle return handles handle Override override public void read read DOMInput dom input in in throws IOException i o readAttributes read attribute in in for int i i 0 0 n n in in getElementCount get element count i i n n i++ i++ in in openElement open element i i String name name in in getTagName get tag name if name name equals equal pattern pattern We we ignore ignore pattern pattern elements element for now now in in closeElement close element else if name name equals equal color color profile profile We we ignore ignore pattern pattern elements element for now now in in closeElement close element else if name name equals equal defs def We we ignore ignore defs def elements element for now now in in closeElement close element else if name name equals equal use use We we ignore ignore use use elements element for now now in in closeElement close element else if name name equals equal script script We we ignore ignore script script elements element for now now in in closeElement close element else if name name equals equal filter filter We we ignore ignore filter filter elements element for now now in in closeElement close element else if name name equals equal title title We we ignore ignore title title elements element for now now in in closeElement close element else if name name equals equal desc desc We we ignore ignore desc desc elements element for now now in in closeElement close element else if name name equals equal switch We we ignore ignore switch elements element for now now in in closeElement close element else if name name equals equal radialGradient radial gradient We we ignore ignore radialGradient radial gradient elements element for now now in in closeElement close element else if name name equals equal linearGradient linear gradient We we ignore ignore linearGradient linear gradient elements element for now now in in closeElement close element else in in closeElement close element Object f f Object in in readObject read i i if f f instanceof SVGDrawing s v g drawing SVGGroup s v g group g g new SVGGroup s v g group g g willChange will change for Figure figure child child SVGDrawing s v g drawing f f getFigures get figure g g basicAdd basic add child child g g changed change if g g isEmpty is empty add add g g else if f f instanceof SVGFigure s v g figure if SVGFigure s v g figure f f isEmpty is empty add add SVGFigure s v g figure f f else throw new IOException i o Unexpected unexpect child child +f +f AffineTransform affine transform tx tx SVGUtil s v g util getTransform get transform in in transform transform for Figure figure child child getChildren get child child child basicTransform basic transform tx tx invalidateBounds invalidate bound protected void readAttributes read attribute DOMInput dom input in in throws IOException i o SVGUtil s v g util readAttributes read attribute this in in Override override public void write write DOMOutput dom output out out throws IOException i o for Figure figure child child getChildren get child out out writeObject write child child writeAttributes write attribute out out protected void writeAttributes write attribute DOMOutput dom output out out throws IOException i o SVGUtil s v g util writeAttributes write attribute this out out public boolean isEmpty is empty return getChildCount get child count 0 0 public String toString to StringBuilder builder buf buf new StringBuilder builder buf buf append append getClass get getName get name substring substring getClass get getName get name lastIndexOf last index of +1 +1 buf buf append append buf buf append append hashCode hash if getChildCount get child count 0 0 buf buf append append for Iterator iterator Figure figure i i getChildren get child iterator iterator i i hasNext ha next Figure figure child child i i next next buf buf append append child child if i i hasNext ha next buf buf append append buf buf append append return buf buf toString to 