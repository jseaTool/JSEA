DrawingPanel drawing panel java 1 1 0 0 11 11 March march 2004 2004 Copyright copyright c c 1996 1996 2006 2006 by by the the original original authors author of of JHotDraw jhotdraw and and all all its it contributors contributor JHotDraw jhotdraw org org All all rights right reserved reserve This software software is is the the confidential confidential and and proprietary proprietary information information of of JHotDraw jhotdraw org org Confidential confidential Information information You you shall shall not not disclose disclose such such Confidential confidential Information information and and shall shall use use it it only only in in accordance accordance with with the the terms term of of the the license license agreement agreement you you entered enter into into with with JHotDraw jhotdraw org org package org org jhotdraw jhotdraw samples sample draw draw import static org org jhotdraw jhotdraw draw draw AttributeKeys attribute key import org org jhotdraw jhotdraw undo undo import org org jhotdraw jhotdraw util util import java awt awt import java awt awt event event import java util util import javax javax swing swing import javax javax swing swing event event import org org jhotdraw jhotdraw app app action action CopyAction copy action import org org jhotdraw jhotdraw app app action action CutAction cut action import org org jhotdraw jhotdraw app app action action DuplicateAction duplicate action import org org jhotdraw jhotdraw app app action action PasteAction paste action import org org jhotdraw jhotdraw app app action action SelectAllAction select all action import org org jhotdraw jhotdraw draw draw import org org jhotdraw jhotdraw draw draw action action DrawingPanel drawing panel author author Werner wern Randelshofer randelshof version 1 1 0 0 11 11 M???rz m???rz 2004 2004 Created create public class DrawingPanel drawing panel extends JPanel j panel private UndoRedoManager undo redo manager undoManager undo manager private Drawing drawing drawing drawing private DrawingEditor drawing editor editor editor Creates create new instance instance public DrawingPanel drawing panel ResourceBundleUtil resource bundle util labels label ResourceBundleUtil resource bundle util getLAFBundle get l a f bundle org org jhotdraw jhotdraw draw draw Labels label initComponents init component undoManager undo manager new UndoRedoManager undo redo manager editor editor new DefaultDrawingEditor drawing editor editor editor add add view view addCreationButtonsTo add creation button to creationToolbar creation toolbar editor editor ToolBarButtonFactory tool bar button factory addAttributesButtonsTo add attribute button to attributesToolbar attribute toolbar editor editor JPopupButton j popup button pb pb new JPopupButton j popup button pb pb setItemFont set item font UIManager u i manager getFont get font MenuItem menu item font font labels label configureToolBarButton configure tool bar button pb pb actions action pb pb add add new DuplicateAction duplicate action pb pb addSeparator add separator pb pb add add new GroupAction group action editor editor pb pb add add new UngroupAction ungroup action editor editor pb pb addSeparator add separator pb pb add add new MoveToFrontAction move to front action editor editor pb pb add add new MoveToBackAction move to back action editor editor pb pb addSeparator add separator pb pb add add new CutAction cut action pb pb add add new CopyAction copy action pb pb add add new PasteAction paste action pb pb add add new SelectAllAction select all action pb pb add add new SelectSameAction select same action editor editor pb pb addSeparator add separator pb pb add add undoManager undo manager getUndoAction get undo action pb pb add add undoManager undo manager getRedoAction get redo action pb pb addSeparator add separator pb pb add add new ToggleGridAction toggle grid action editor editor JMenu j menu m m new JMenu j menu labels label getString get zoom zoom JRadioButtonMenuItem j radio button menu item rbmi rbmi ButtonGroup button group group group new ButtonGroup button group m m add add rbmi rbmi new JRadioButtonMenuItem j radio button menu item new ZoomAction zoom action editor editor 0 0 1 1 null group group add add rbmi rbmi m m add add rbmi rbmi new JRadioButtonMenuItem j radio button menu item new ZoomAction zoom action editor editor 0 0 25 25 null group group add add rbmi rbmi m m add add rbmi rbmi new JRadioButtonMenuItem j radio button menu item new ZoomAction zoom action editor editor 0 0 5 5 null group group add add rbmi rbmi m m add add rbmi rbmi new JRadioButtonMenuItem j radio button menu item new ZoomAction zoom action editor editor 0 0 75 75 null group group add add rbmi rbmi m m add add rbmi rbmi new JRadioButtonMenuItem j radio button menu item new ZoomAction zoom action editor editor 1 1 0 0 null rbmi rbmi setSelected set select true group group add add rbmi rbmi m m add add rbmi rbmi new JRadioButtonMenuItem j radio button menu item new ZoomAction zoom action editor editor 1 1 25 25 null group group add add rbmi rbmi m m add add rbmi rbmi new JRadioButtonMenuItem j radio button menu item new ZoomAction zoom action editor editor 1 1 5 5 null group group add add rbmi rbmi m m add add rbmi rbmi new JRadioButtonMenuItem j radio button menu item new ZoomAction zoom action editor editor 2 2 null group group add add rbmi rbmi m m add add rbmi rbmi new JRadioButtonMenuItem j radio button menu item new ZoomAction zoom action editor editor 3 3 null group group add add rbmi rbmi m m add add rbmi rbmi new JRadioButtonMenuItem j radio button menu item new ZoomAction zoom action editor editor 4 4 null group group add add rbmi rbmi pb pb add add m m pb pb setFocusable set focusable false creationToolbar creation toolbar addSeparator add separator creationToolbar creation toolbar add add pb pb DefaultDrawing drawing drawing drawing new DefaultDrawing drawing view view setDrawing set drawing drawing drawing drawing drawing addUndoableEditListener add undoable edit listener undoManager undo manager public void setDrawing set drawing Drawing drawing d d undoManager undo manager discardAllEdits discard all edit view view getDrawing get drawing removeUndoableEditListener remove undoable edit listener undoManager undo manager view view setDrawing set drawing d d d d addUndoableEditListener add undoable edit listener undoManager undo manager public Drawing drawing getDrawing get drawing return view view getDrawing get drawing public DrawingView drawing view getView get view return view view public DrawingEditor drawing editor getEditor get editor return editor editor This method is is called call from from within within the the constructor constructor to to initialize initialize the the form form WARNING w a r n i n g Do NOT n o t modify modify this code The the content content of of this method is is always alway regenerated regenerate by by the the Form form Editor editor editor editor fold fold defaultstate defaultstate collapsed collapse desc desc Generated generate Code GEN g e n BEGIN b e g i n initComponents init component private void initComponents init component java awt awt GridBagConstraints grid bag constraint gridBagConstraints grid bag constraint toolButtonGroup tool button group new javax javax swing swing ButtonGroup button group scrollPane scroll pane new javax javax swing swing JScrollPane j scroll pane view view new org org jhotdraw jhotdraw draw draw DefaultDrawingView drawing view jPanel1 j panel1 new javax javax swing swing JPanel j panel creationToolbar creation toolbar new javax javax swing swing JToolBar j tool bar attributesToolbar attribute toolbar new javax javax swing swing JToolBar j tool bar setLayout set layout new java awt awt BorderLayout border layout scrollPane scroll pane setViewportView set viewport view view view add add scrollPane scroll pane java awt awt BorderLayout border layout CENTER c e n t e r jPanel1 j panel1 setLayout set layout new java awt awt GridBagLayout grid bag layout creationToolbar creation toolbar setFloatable set floatable false gridBagConstraints grid bag constraint new java awt awt GridBagConstraints grid bag constraint gridBagConstraints grid bag constraint gridx gridx 0 0 gridBagConstraints grid bag constraint gridy gridy 0 0 gridBagConstraints grid bag constraint anchor anchor java awt awt GridBagConstraints grid bag constraint WEST w e s t jPanel1 j panel1 add add creationToolbar creation toolbar gridBagConstraints grid bag constraint attributesToolbar attribute toolbar setFloatable set floatable false gridBagConstraints grid bag constraint new java awt awt GridBagConstraints grid bag constraint gridBagConstraints grid bag constraint gridx gridx 0 0 gridBagConstraints grid bag constraint gridy gridy 1 1 gridBagConstraints grid bag constraint anchor anchor java awt awt GridBagConstraints grid bag constraint WEST w e s t jPanel1 j panel1 add add attributesToolbar attribute toolbar gridBagConstraints grid bag constraint add add jPanel1 j panel1 java awt awt BorderLayout border layout SOUTH s o u t h editor editor fold fold GEN g e n END e n d initComponents init component private void addCreationButtonsTo add creation button to JToolBar j tool bar tb tb DrawingEditor drawing editor editor editor addDefaultCreationButtonsTo add creation button to tb tb editor editor ToolBarButtonFactory tool bar button factory createDrawingActions create drawing action editor editor ToolBarButtonFactory tool bar button factory createSelectionActions create selection action editor editor public void addDefaultCreationButtonsTo add creation button to JToolBar j tool bar tb tb final DrawingEditor drawing editor editor editor Collection collection Action action drawingActions drawing action Collection collection Action action selectionActions selection action ResourceBundleUtil resource bundle util labels label ResourceBundleUtil resource bundle util getLAFBundle get l a f bundle org org jhotdraw jhotdraw draw draw Labels label ToolBarButtonFactory tool bar button factory addSelectionToolTo add selection tool to tb tb editor editor drawingActions drawing action selectionActions selection action tb tb addSeparator add separator AttributedFigure attribute figure af af CreationTool creation tool ct ct ConnectionTool connection tool cnt cnt ConnectionFigure connection figure lc lc ToolBarButtonFactory tool bar button factory addToolTo add tool to tb tb editor editor new CreationTool creation tool new RectangleFigure rectangle figure createRectangle create rectangle labels label ToolBarButtonFactory tool bar button factory addToolTo add tool to tb tb editor editor new CreationTool creation tool new RoundRectangleFigure round rectangle figure createRoundRectangle create round rectangle labels label ToolBarButtonFactory tool bar button factory addToolTo add tool to tb tb editor editor new CreationTool creation tool new EllipseFigure ellipse figure createEllipse create ellipse labels label ToolBarButtonFactory tool bar button factory addToolTo add tool to tb tb editor editor new CreationTool creation tool new DiamondFigure diamond figure createDiamond create diamond labels label ToolBarButtonFactory tool bar button factory addToolTo add tool to tb tb editor editor new CreationTool creation tool new TriangleFigure triangle figure createTriangle create triangle labels label ToolBarButtonFactory tool bar button factory addToolTo add tool to tb tb editor editor new CreationTool creation tool new LineFigure line figure createLine create line labels label ToolBarButtonFactory tool bar button factory addToolTo add tool to tb tb editor editor ct ct new CreationTool creation tool new LineFigure line figure createArrow create arrow labels label af af AttributedFigure attribute figure ct ct getPrototype get prototype af af setAttribute set attribute END e n d DECORATION d e c o r a t i o n new ArrowTip arrow tip 0 0 35 35 12 12 11 11 3 3 ToolBarButtonFactory tool bar button factory addToolTo add tool to tb tb editor editor new ConnectionTool connection tool new LineConnectionFigure line connection figure createLineConnection create line connection labels label ToolBarButtonFactory tool bar button factory addToolTo add tool to tb tb editor editor cnt cnt new ConnectionTool connection tool new LineConnectionFigure line connection figure createElbowConnection create elbow connection labels label lc lc cnt cnt getPrototype get prototype lc lc setLiner set liner new ElbowLiner elbow liner ToolBarButtonFactory tool bar button factory addToolTo add tool to tb tb editor editor new BezierTool bezi tool new BezierFigure bezi figure createScribble create scribble labels label ToolBarButtonFactory tool bar button factory addToolTo add tool to tb tb editor editor new BezierTool bezi tool new BezierFigure bezi figure true createPolygon create polygon labels label ToolBarButtonFactory tool bar button factory addToolTo add tool to tb tb editor editor new TextTool text tool new TextFigure text figure createText create text labels label ToolBarButtonFactory tool bar button factory addToolTo add tool to tb tb editor editor new TextAreaTool text area tool new TextAreaFigure text area figure createTextArea create text area labels label Variables variable declaration declaration do not not modify modify GEN g e n BEGIN b e g i n variables variable private javax javax swing swing JToolBar j tool bar attributesToolbar attribute toolbar private javax javax swing swing JToolBar j tool bar creationToolbar creation toolbar private javax javax swing swing JPanel j panel jPanel1 j panel1 private javax javax swing swing JScrollPane j scroll pane scrollPane scroll pane private javax javax swing swing ButtonGroup button group toolButtonGroup tool button group private org org jhotdraw jhotdraw draw draw DefaultDrawingView drawing view view view End end of of variables variable declaration declaration GEN g e n END e n d variables variable 