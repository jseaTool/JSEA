StickyChopConnector sticky chop connector java 2 2 0 0 2006 2006 01 01 14 14 Copyright copyright c c 1996 1996 2006 2006 by by the the original original authors author of of JHotDraw jhotdraw and and all all its it contributors contributor JHotDraw jhotdraw org org All all rights right reserved reserve This software software is is the the confidential confidential and and proprietary proprietary information information of of JHotDraw jhotdraw org org Confidential confidential Information information You you shall shall not not disclose disclose such such Confidential confidential Information information and and shall shall use use it it only only in in accordance accordance with with the the terms term of of the the license license agreement agreement you you entered enter into into with with JHotDraw jhotdraw org org package org org jhotdraw jhotdraw draw draw import java io io IOException i o import org org jhotdraw jhotdraw geom geom Geom geom import org org jhotdraw jhotdraw util util import java awt awt import java awt awt geom geom import org org jhotdraw jhotdraw xml xml DOMInput dom input import org org jhotdraw jhotdraw xml xml DOMOutput dom output A a StickyChopConnector sticky chop connector locates locate connection connection Points point by by choping chop the the connection connection between between the the centers center of of the the two two figures figure at at the the display display box box The the location location of of the the connection connection Point2D point2 d Double is is computed compute once once when when the the user user connects connect the the figure figure Moving move the the figure figure around around will will not not change change the the location location author author Werner wern Randelshofer randelshof version 2 2 0 0 2006 2006 01 01 14 14 Changed change to to support support double precison coordinates coordinate br 1 1 0 0 5 5 Februar februar 2004 2004 Created create public class StickyChopConnector sticky chop connector extends ChopBoxConnector chop box connector private float angle angle Creates create a a new instance instance Only only used use for storable storable public StickyChopConnector sticky chop connector public void draw draw Graphics2D graphics2 d g g g g setColor set color Color color blue blue g g setStroke set stroke new BasicStroke basic stroke g g draw draw getBounds get bound public void setAngle set angle float angle angle this angle angle angle angle public double getAngle get angle return angle angle public StickyChopConnector sticky chop connector Figure figure owner owner Point2D point2 d Double p p super owner owner this angle angle float Geom geom pointToAngle point to angle owner owner getBounds get bound p p public void updateAnchor update anchor Point2D point2 d Double p p this angle angle float Geom geom pointToAngle point to angle getOwner get owner getBounds get bound p p public Point2D point2 d Double getAnchor get anchor return Geom geom angleToPoint angle to point getOwner get owner getBounds get bound angle angle protected Point2D point2 d Double chop chop Figure figure target target Point2D point2 d Double from from return Geom geom angleToPoint angle to point target target getBounds get bound angle angle public String getParameters get return Float toString to float angle angle Math math PI p i 180 180 public void read read DOMInput dom input in in throws IOException i o super read read in in angle angle float in in getAttribute get attribute angle angle 0 0 0 0 public void write write DOMOutput dom output out out throws IOException i o super write write out out out out addAttribute add attribute angle angle angle angle 