SVGDrawing s v g drawing java 1 1 0 0 July july 8 8 2006 2006 Copyright copyright c c 1996 1996 2006 2006 by by the the original original authors author of of JHotDraw jhotdraw and and all all its it contributors contributor JHotDraw jhotdraw org org All all rights right reserved reserve This software software is is the the confidential confidential and and proprietary proprietary information information of of JHotDraw jhotdraw org org Confidential confidential Information information You you shall shall not not disclose disclose such such Confidential confidential Information information and and shall shall use use it it only only in in accordance accordance with with the the terms term of of the the license license agreement agreement you you entered enter into into with with JHotDraw jhotdraw org org package org org jhotdraw jhotdraw samples sample svg svg import java io io IOException i o import org org jhotdraw jhotdraw draw draw import org org jhotdraw jhotdraw samples sample svg svg figures figure import org org jhotdraw jhotdraw xml xml SVGDrawing s v g drawing author author Werner wern Randelshofer randelshof version 1 1 0 0 July july 8 8 2006 2006 Created create public class SVGDrawing s v g drawing extends DefaultDrawing drawing private String title title private String description description Creates create a a new instance instance public SVGDrawing s v g drawing public void setTitle set title String newValue value String oldValue old value title title title title newValue value firePropertyChange fire property change title title oldValue old value newValue value public String getTitle get title return title title public void setDescription set description String newValue value String oldValue old value description description description description newValue value firePropertyChange fire property change description description oldValue old value newValue value public String getDescription get description return description description public void read read DOMInput dom input in in throws IOException i o for int i i 0 0 n n in in getElementCount get element count i i n n i++ i++ in in openElement open element i i String name name in in getTagName get tag name if name name equals equal title title title title in in getText get text in in closeElement close element else if name name equals equal desc desc description description in in getText get text in in closeElement close element else if name name equals equal defs def We we ignore ignore defs def elements element for now now in in closeElement close element else if name name equals equal use use We we ignore ignore use use elements element for now now in in closeElement close element else if name name equals equal script script We we ignore ignore script script elements element for now now in in closeElement close element else if name name equals equal style style We we ignore ignore style style elements element for now now in in closeElement close element else if name name equals equal radialGradient radial gradient We we ignore ignore radialGradient radial gradient elements element for now now in in closeElement close element else in in closeElement close element Object f f Object in in readObject read i i if f f instanceof SVGDrawing s v g drawing SVGGroup s v g group g g new SVGGroup s v g group g g willChange will change for Figure figure child child SVGDrawing s v g drawing f f getFigures get figure g g basicAdd basic add child child g g changed change if g g isEmpty is empty add add g g else if f f instanceof SVGFigure s v g figure if SVGFigure s v g figure f f isEmpty is empty add add Figure figure f f else throw new IOException i o Unexpected unexpect child child +f +f readAttributes read attribute in in protected void readAttributes read attribute DOMInput dom input in in throws IOException i o SVGUtil s v g util readAttributes read attribute this in in Override override public void write write DOMOutput dom output out out throws IOException i o out out addAttribute add attribute xmlns xmln http http www www w3 w3 org org 2000 2000 svg svg out out addAttribute add attribute version 1 1 2 2 out out addAttribute add attribute baseProfile base profile tiny tiny for Figure figure f f getFigures get figure out out writeObject write f f 