RedoAction redo action java 2 2 0 0 2006 2006 06 06 15 15 Copyright copyright c c 2005 2005 2006 2006 Werner wern Randelshofer randelshof Staldenmattweg staldenmattweg 2 2 Immensee immensee CH c h 6405 6405 Switzerland switzerland All all rights right reserved reserve This software software is is the the confidential confidential and and proprietary proprietary information information of of Werner wern Randelshofer randelshof Confidential confidential Information information You you shall shall not not disclose disclose such such Confidential confidential Information information and and shall shall use use it it only only in in accordance accordance with with the the terms term of of the the license license agreement agreement you you entered enter into into with with Werner wern Randelshofer randelshof package org org jhotdraw jhotdraw app app action action import java awt awt import java awt awt event event import javax javax swing swing import javax javax swing swing text text import java beans bean import java util util import org org jhotdraw jhotdraw util util import org org jhotdraw jhotdraw app app Application application import org org jhotdraw jhotdraw app app Project project Redoes redoe the the last last user user action action In in order order to to work work this action action requires require that that the the Project project returns a a project project specific specific undo undo action action when when invoking getAction get action redo redo on on the the Project project author author Werner wern Randelshofer randelshof version 2 2 0 0 2006 2006 06 06 15 15 Reworked rework br 1 1 0 0 October october 9 9 2005 2005 Created create public class RedoAction redo action extends AbstractProjectAction project action public final static String ID redo redo private ResourceBundleUtil resource bundle util labels label ResourceBundleUtil resource bundle util getLAFBundle get l a f bundle org org jhotdraw jhotdraw app app Labels label private PropertyChangeListener property change listener redoActionPropertyListener redo action property listener new PropertyChangeListener property change listener public void propertyChange property change PropertyChangeEvent property change event evt evt String name name evt evt getPropertyName get property name if name name AbstractAction action NAME n a m e putValue put value AbstractAction action NAME n a m e evt evt getNewValue get value else if name name enabled enable updateEnabledState update enable state Creates create a a new instance instance public RedoAction redo action Application application app app super app app labels label configureAction configure action this ID protected void updateEnabledState update enable state boolean isEnabled is enable false Action action realRedoAction real redo action getRealRedoAction get real redo action if realRedoAction real redo action null isEnabled is enable realRedoAction real redo action isEnabled is enable setEnabled set enable isEnabled is enable Override override protected void updateProject update project Project project oldValue old value Project project newValue value super updateProject update project oldValue old value newValue value if newValue value null putValue put value AbstractAction action NAME n a m e newValue value getAction get action redo redo getValue get value AbstractAction action NAME n a m e updateEnabledState update enable state Installs install listeners listener on on the the project project object Override override protected void installProjectListeners install project listener Project project p p super installProjectListeners install project listener p p p p getAction get action redo redo addPropertyChangeListener add property change listener redoActionPropertyListener redo action property listener Installs install listeners listener on on the the project project object Override override protected void uninstallProjectListeners uninstall project listener Project project p p super uninstallProjectListeners uninstall project listener p p p p getAction get action redo redo removePropertyChangeListener remove property change listener redoActionPropertyListener redo action property listener public void actionPerformed action perform ActionEvent action event e e Action action realRedoAction real redo action getRealRedoAction get real redo action if realRedoAction real redo action null realRedoAction real redo action actionPerformed action perform e e private Action action getRealRedoAction get real redo action return getCurrentProject get current project null ? ? null getCurrentProject get current project getAction get action redo redo 