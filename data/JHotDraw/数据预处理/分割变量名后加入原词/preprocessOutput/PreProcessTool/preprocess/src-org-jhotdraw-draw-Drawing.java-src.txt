Drawing drawing java 2 2 0 0 2006 2006 01 01 14 14 Copyright copyright c c 1996 1996 2006 2006 by by the the original original authors author of of JHotDraw jhotdraw and and all all its it contributors contributor JHotDraw jhotdraw org org All all rights right reserved reserve This software software is is the the confidential confidential and and proprietary proprietary information information of of JHotDraw jhotdraw org org Confidential confidential Information information You you shall shall not not disclose disclose such such Confidential confidential Information information and and shall shall use use it it only only in in accordance accordance with with the the terms term of of the the license license agreement agreement you you entered enter into into with with JHotDraw jhotdraw org org package org org jhotdraw jhotdraw draw draw import org org jhotdraw jhotdraw xml xml DOMStorable dom storable import java awt awt Graphics2D graphics2 d import java awt awt font font import java awt awt geom geom import java util util import javax javax swing swing undo undo import javax javax swing swing event event import java io io Drawing drawing is is a a container container for figures figure p p Drawing drawing sends send out out DrawingChanged drawing change events event to to DrawingChangeListeners drawing change listener whenever whenev a a part part of of its it area area was wa invalidated invalidate author author Werner wern Randelshofer randelshof version 2 2 0 0 2006 2006 01 01 14 14 Changed change to to support support double precision precision coordinates coordinate br 1 1 0 0 2003 2003 12 12 01 01 Derived derive from from JHotDraw jhotdraw 5 5 4b1 4b1 public interface Drawing drawing extends Serializable serializable DOMStorable dom storable Removes remove all all figures figure from from the the drawing drawing public void clear clear Adds add a a figure figure to to the the drawing drawing The the drawing drawing sends send an an code addNotify add notify code message message to to the the figure figure after after it it has ha been be added add param figure figure to to be be added add to to the the drawing drawing public void add add Figure figure figure figure Adds add a a collection collection of of figures figure to to the the drawing drawing The the drawing drawing sends send an an code addNotify add notify code message message to to each each figure figure after after it it has ha been be added add param figures figure to to be be added add to to the the drawing drawing public void addAll add all Collection collection Figure figure figures figure Removes remove a a figure figure from from the the drawing drawing The the drawing drawing sends send a a code removeNotify remove notify code message message to to the the figure figure before before it it is is removed remove param figure figure that that is is part part of of the the drawing drawing and and should should be be removed remove public void remove remove Figure figure figure figure Removes remove the the specified specify figures figure from from the the drawing drawing The the drawing drawing sends send a a code removeNotify remove notify code message message to to each each figure figure before before it it is is removed remove param figures figure A a collection collection of of figures figure which which are are part part of of the the drawing drawing and and should should be be removed remove public void removeAll remove all Collection collection Figure figure figures figure Removes remove a a figure figure temporarily temporarily from from the the drawing drawing The the drawing drawing sends send no no code removeNotify remove notify code message message to to the the figure figure see see basicAdd basic add Figure figure param figure figure that that is is part part of of the the drawing drawing and and should should be be removed remove public void basicRemove basic remove Figure figure figure figure Removes remove the the specified specify figures figure temporarily temporarily from from the the drawing drawing The the drawing drawing sends send no no code removeNotify remove notify code message message to to the the figures figure see see basicAddAll basic add all Collection collection param figures figure A a collection collection of of figures figure which which are are part part of of the the drawing drawing and and should should be be removed remove public void basicRemoveAll basic remove all Collection collection Figure figure figures figure Reinserts reinsert a a figure figure which which was wa temporarily temporarily removed remove using using basicRemove basic remove The the drawing drawing sends send no no code addNotify add notify code message message to to the the figure figure see see basicRemove basic remove Figure figure param figure figure that that is is part part of of the the drawing drawing and and should should be be removed remove public void basicAdd basic add Figure figure figure figure Reinserts reinsert a a figure figure which which was wa temporarily temporarily removed remove using using basicRemove basic remove The the drawing drawing sends send no no code addNotify add notify code message message to to the the figure figure see see basicRemove basic remove Figure figure param figure figure that that is is part part of of the the drawing drawing and and should should be be removed remove public void basicAdd basic add int index index Figure figure figure figure Reinssets reinsset the the specified specify figures figure which which were be temporarily temporarily basicRemoveed basic remove from from the the drawing drawing The the drawing drawing sends send no no code addNotify add notify code message message to to the the figures figure see see basicRemoveAll basic remove all Collection collection param figures figure A a collection collection of of figures figure which which are are part part of of the the drawing drawing and and should should be be reinserted reinsert public void basicAddAll basic add all Collection collection Figure figure figures figure Draws draw all all the the figures figure from from back back to to front front void draw draw Graphics2D graphics2 d g g Draws draw only only the the figures figure in in the the supplied supply set set void draw draw Graphics2D graphics2 d g g ArrayList list figures figure Returns all all figures figure that that lie lie within within or or intersect intersect the the specified specify bounds bound The the figures figure are are returned in in Z z order order from from back back to to front front public Collection collection Figure figure findFigures find figure Rectangle2D rectangle2 d Double bounds bound Returns all all figures figure that that lie lie within within the the specified specify bounds bound The the figures figure are are returned in in Z z order order from from back back to to front front public Collection collection Figure figure findFiguresWithin find figure within Rectangle2D rectangle2 d Double bounds bound Returns the the figures figure of of the the drawing drawing return A a Collection collection of of Figure figure s s public Collection collection Figure figure getFigures get figure Returns the the number number of of figures figure in in this drawing drawing public int getFigureCount get figure count Finds find a a top top level level Figure figure Use use this call call for hit hit detection detection that that should should not not descend descend into into the the figure figure s s children child Figure figure findFigure find figure Point2D point2 d Double p p Finds find a a top top level level Figure figure Use use this call call for hit hit detection detection that that should should not not descend descend into into the the figure figure s s children child Figure figure findFigureExcept find figure except Point2D point2 d Double p p Figure figure ignore ignore Finds find a a top top level level Figure figure Use use this call call for hit hit detection detection that that should should not not descend descend into into the the figure figure s s children child Figure figure findFigureExcept find figure except Point2D point2 d Double p p Collection collection Figure figure ignore ignore Returns true if this drawing drawing contains contain the the specified specify figure figure boolean contains contain Figure figure f f Returns a a list list of of the the figures figure in in Z z Order order from from front front to to back back public List list Figure figure getFiguresFrontToBack get figure front to back Finds find a a figure figure but but descends descend into into a a figure figure s s children child Use use this method to to implement implement i i click click through through i i hit hit detection detection that that is is you you want want to to detect detect the the inner inner most most figure figure containing contain the the given given point point public Figure figure findFigureInside find figure inside Point2D point2 d Double p p Sends send a a figure figure to to the the back back of of the the drawing drawing param figure figure that that is is part part of of the the drawing drawing public void sendToBack send to back Figure figure figure figure Brings bring a a figure figure to to the the front front param figure figure that that is is part part of of the the drawing drawing public void bringToFront bring to front Figure figure figure figure Returns a a copy copy of of the the provided provide collection collection which which is is sorted sort in in z z order order from from back back to to front front public Collection collection Figure figure sort sort Collection collection Figure figure figures figure Adds add a a listener listener for this drawing drawing void addDrawingListener add drawing listener DrawingListener drawing listener listener listener Removes remove a a listener listener from from this drawing drawing void removeDrawingListener remove drawing listener DrawingListener drawing listener listener listener Adds add a a listener listener for undooable undooable edit edit events event public void addUndoableEditListener add undoable edit listener UndoableEditListener undoable edit listener l l Removes remove a a listener listener for undoable undoable edit edit events event public void removeUndoableEditListener remove undoable edit listener UndoableEditListener undoable edit listener l l Notify notify all all listenerList listener list that that have have registered register interest interest for notification notification on on this event event type type public void fireUndoableEditHappened fire undoable edit happen UndoableEdit undoable edit edit edit Returns the the font font render render context context used use to to do text text leyout leyout and and text text drawing drawing public FontRenderContext font render context getFontRenderContext get font render context Sets set the the font font render render context context used use to to do text text leyout leyout and and text text drawing drawing public void setFontRenderContext set font render context FontRenderContext font render context frc frc Returns the the lock lock object on on which which all all threads thread acting acting in in Figures figure in in this drawing drawing synchronize synchronize to to prevent prevent race race conditions condition public Object getLock get lock 