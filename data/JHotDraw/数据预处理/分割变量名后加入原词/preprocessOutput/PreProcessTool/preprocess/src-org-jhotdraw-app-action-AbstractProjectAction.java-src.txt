AbstractProjectAction project action java 1 1 0 0 October october 9 9 2005 2005 Copyright copyright c c 1996 1996 2006 2006 by by the the original original authors author of of JHotDraw jhotdraw and and all all its it contributors contributor JHotDraw jhotdraw org org All all rights right reserved reserve This software software is is the the confidential confidential and and proprietary proprietary information information of of JHotDraw jhotdraw org org Confidential confidential Information information You you shall shall not not disclose disclose such such Confidential confidential Information information and and shall shall use use it it only only in in accordance accordance with with the the terms term of of the the license license agreement agreement you you entered enter into into with with JHotDraw jhotdraw org org package org org jhotdraw jhotdraw app app action action import java awt awt import java awt awt event event import java beans bean import javax javax swing swing import javax javax swing swing event event import org org jhotdraw jhotdraw app app Application application import org org jhotdraw jhotdraw app app Project project An an Action action that that acts act on on on on the the current current code Project project code of of an an code Application application code If the the current current Project project object is is disabled disabled or or is is null the the AbstractProjectAction project action is is disabled disabled as a well well author author Werner wern Randelshofer randelshof version 1 1 0 0 October october 9 9 2005 2005 Created create see see org org jhotdraw jhotdraw app app Project project see see org org jhotdraw jhotdraw app app Application application public abstract class AbstractProjectAction project action extends AbstractAction action private Application application app app private PropertyChangeListener property change listener applicationListener application listener new PropertyChangeListener property change listener public void propertyChange property change PropertyChangeEvent property change event evt evt if evt evt getPropertyName get property name currentProject current project Strings get get interned intern updateProject update project Project project evt evt getOldValue get old value Project project evt evt getNewValue get value private PropertyChangeListener property change listener projectListener project listener new PropertyChangeListener property change listener public void propertyChange property change PropertyChangeEvent property change event evt evt if evt evt getPropertyName get property name enabled enable Strings get get interned intern updateEnabled update enable Boolean evt evt getOldValue get old value Boolean evt evt getNewValue get value Creates create a a new instance instance public AbstractProjectAction project action Application application app app this app app app app if app app null app app addPropertyChangeListener add property change listener applicationListener application listener updateProject update project null app app getCurrentProject get current project Updates update the the project project of of this action action depending depend on on the the current current project project of of the the application application protected void updateProject update project Project project oldValue old value Project project newValue value if oldValue old value null uninstallProjectListeners uninstall project listener oldValue old value if newValue value null installProjectListeners install project listener newValue value firePropertyChange fire property change project project oldValue old value newValue value updateEnabled update enable oldValue old value null oldValue old value isEnabled is enable newValue value null newValue value isEnabled is enable Installs install listeners listener on on the the project project object protected void installProjectListeners install project listener Project project p p p p addPropertyChangeListener add property change listener projectListener project listener Installs install listeners listener on on the the project project object protected void uninstallProjectListeners uninstall project listener Project project p p p p removePropertyChangeListener remove property change listener projectListener project listener Updates update the the enabled enable state state of of this action action depending depend on on the the new enabled enable state state of of the the project project protected void updateEnabled update enable boolean oldValue old value boolean newValue value setEnabled set enable super isEnabled is enable firePropertyChange fire property change projectEnabled project enable oldValue old value newValue value public Application application getApplication get application return app app public Project project getCurrentProject get current project return app app getCurrentProject get current project Returns true if the the action action is is enabled enable The the enabled enable state state of of the the action action depends depend on on the the state state that that has ha been be set set using using setEnabled set enable and and on on the the enabled enable state state of of the the application application return true if the the action action is is enabled enable false otherwise otherwise see see Action action isEnabled is enable Override override public boolean isEnabled is enable return getCurrentProject get current project null getCurrentProject get current project isEnabled is enable || || super isEnabled is enable Enables enable or or disables disable the the action action The the enabled enable state state of of the the action action depends depend on on the the value value that that is is set set here here and and on on the the enabled enable state state of of the the application application param newValue value true to to enable enable the the action action false to to disable disable it it see see Action action setEnabled set enable Override override public void setEnabled set enable boolean newValue value boolean oldValue old value this enabled enable this enabled enable newValue value boolean projIsEnabled proj is enable getCurrentProject get current project null getCurrentProject get current project isEnabled is enable firePropertyChange fire property change enabled enable Boolean valueOf value of oldValue old value projIsEnabled proj is enable Boolean valueOf value of newValue value projIsEnabled proj is enable 