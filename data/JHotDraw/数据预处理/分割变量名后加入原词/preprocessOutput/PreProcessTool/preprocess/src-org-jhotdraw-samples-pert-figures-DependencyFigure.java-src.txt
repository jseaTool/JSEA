DependencyFigure dependency figure java 1 1 0 0 18 18 Juni juni 2006 2006 Copyright copyright c c 1996 1996 2006 2006 by by the the original original authors author of of JHotDraw jhotdraw and and all all its it contributors contributor JHotDraw jhotdraw org org All all rights right reserved reserve This software software is is the the confidential confidential and and proprietary proprietary information information of of JHotDraw jhotdraw org org Confidential confidential Information information You you shall shall not not disclose disclose such such Confidential confidential Information information and and shall shall use use it it only only in in accordance accordance with with the the terms term of of the the license license agreement agreement you you entered enter into into with with JHotDraw jhotdraw org org package org org jhotdraw jhotdraw samples sample pert pert figures figure import java awt awt import org org jhotdraw jhotdraw samples sample import java beans bean import static org org jhotdraw jhotdraw draw draw AttributeKeys attribute key import org org jhotdraw jhotdraw draw draw import org org jhotdraw jhotdraw xml xml DependencyFigure dependency figure author author Werner wern Randelshofer randelshof version 1 1 0 0 18 18 Juni juni 2006 2006 Created create public class DependencyFigure dependency figure extends LineConnectionFigure line connection figure Creates create a a new instance instance public DependencyFigure dependency figure STROKE s t r o k e COLOR c o l o r set set this new Color color 0x000099 0x000099 STROKE s t r o k e WIDTH w t h set set this 1d 1d END e n d DECORATION d e c o r a t i o n set set this new ArrowTip arrow tip setAttributeEnabled set attribute enable END e n d DECORATION d e c o r a t i o n false setAttributeEnabled set attribute enable START s t a r t DECORATION d e c o r a t i o n false setAttributeEnabled set attribute enable STROKE s t r o k e DASHES d a s h e s false setAttributeEnabled set attribute enable FONT f o n t ITALIC i t a l i c false setAttributeEnabled set attribute enable FONT f o n t UNDERLINED u n d e r l i n e d false Checks check if two two figures figure can can be be connected connect Implement implement this method to to constrain constrain the the allowed allow connections connection between between figures figure public boolean canConnect can connect Figure figure start start Figure figure end end if start start instanceof TaskFigure task figure end end instanceof TaskFigure task figure TaskFigure task figure sf sf TaskFigure task figure start start TaskFigure task figure ef ef TaskFigure task figure end end Disallow disallow multiple multiple connections connection to to same same dependent dependent if ef ef getPredecessors get predecessor contains contain sf sf return false Disallow disallow cyclic cyclic connections connection return sf sf isDependentOf is dependent of ef ef return false public boolean canConnect can connect Figure figure start start return start start instanceof TaskFigure task figure Handles handle the the disconnection disconnection of of a a connection connection Override override this method to to handle handle this event event protected void handleDisconnect handle disconnect Figure figure start start Figure figure end end TaskFigure task figure sf sf TaskFigure task figure start start TaskFigure task figure ef ef TaskFigure task figure end end sf sf removeDependency remove dependency this ef ef removeDependency remove dependency this Handles handle the the connection connection of of a a connection connection Override override this method to to handle handle this event event protected void handleConnect handle connect Figure figure start start Figure figure end end TaskFigure task figure sf sf TaskFigure task figure start start TaskFigure task figure ef ef TaskFigure task figure end end sf sf addDependency add dependency this ef ef addDependency add dependency this public DependencyFigure dependency figure clone clone DependencyFigure dependency figure that that DependencyFigure dependency figure super clone clone return that that public int getLayer get layer return 1 1 Override override public void removeNotify remove notify Drawing drawing d d if getStartFigure get start figure null TaskFigure task figure getStartFigure get start figure removeDependency remove dependency this if getEndFigure get end figure null TaskFigure task figure getEndFigure get end figure removeDependency remove dependency this super removeNotify remove notify d d 