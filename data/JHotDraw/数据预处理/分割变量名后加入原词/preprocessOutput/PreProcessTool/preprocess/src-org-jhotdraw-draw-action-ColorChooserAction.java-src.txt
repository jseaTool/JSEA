ColorChooserAction color chooser action java 2 2 0 0 2006 2006 06 06 07 07 Copyright copyright c c 1996 1996 2006 2006 by by the the original original authors author of of JHotDraw jhotdraw and and all all its it contributors contributor JHotDraw jhotdraw org org All all rights right reserved reserve This software software is is the the confidential confidential and and proprietary proprietary information information of of JHotDraw jhotdraw org org Confidential confidential Information information You you shall shall not not disclose disclose such such Confidential confidential Information information and and shall shall use use it it only only in in accordance accordance with with the the terms term of of the the license license agreement agreement you you entered enter into into with with JHotDraw jhotdraw org org package org org jhotdraw jhotdraw draw draw action action import javax javax swing swing import java util util import java awt awt import java beans bean import javax javax swing swing import org org jhotdraw jhotdraw draw draw ColorChooserAction color chooser action author author Werner wern Randelshofer randelshof version 2 2 0 0 2006 2006 06 06 07 07 Reworked rework br 1 1 0 0 2004 2004 03 03 02 02 Created create public class ColorChooserAction color chooser action extends AbstractSelectedAction select action private AttributeKey attribute key key key private static JColorChooser j color chooser colorChooser color chooser Creates create a a new instance instance public ColorChooserAction color chooser action DrawingEditor drawing editor editor editor AttributeKey attribute key key key this editor editor key key null null Creates create a a new instance instance public ColorChooserAction color chooser action DrawingEditor drawing editor editor editor AttributeKey attribute key key key Icon icon icon icon this editor editor key key null icon icon Creates create a a new instance instance public ColorChooserAction color chooser action DrawingEditor drawing editor editor editor AttributeKey attribute key key key String name name this editor editor key key name name null public ColorChooserAction color chooser action DrawingEditor drawing editor editor editor final AttributeKey attribute key key key String name name Icon icon icon icon super editor editor this key key key key putValue put value AbstractAction action NAME n a m e name name putValue put value AbstractAction action MNEMONIC m n e m o n i c KEY k e y new Integer V v putValue put value AbstractAction action SMALL s m a l l ICON i c o n icon icon setEnabled set enable true public void actionPerformed action perform java awt awt event event ActionEvent action event e e if colorChooser color chooser null colorChooser color chooser new JColorChooser j color chooser Color color initialColor initial color Color color getEditor get editor getDefaultAttribute get attribute key key if initialColor initial color null initialColor initial color Color color red red Color color chosenColor chosen color colorChooser color chooser showDialog show dialog Component component e e getSource get source labels label getString get drawColor draw color initialColor initial color if chosenColor chosen color null changeAttribute change attribute chosenColor chosen color public void changeAttribute change attribute Color color value value Drawing drawing drawing drawing getDrawing get drawing Iterator iterator i i getView get view getSelectedFigures get select figure iterator iterator while i i hasNext ha next Figure figure figure figure Figure figure i i next next figure figure setAttribute set attribute key key value value getEditor get editor setDefaultAttribute set attribute key key value value public void selectionChanged selection change FigureSelectionEvent figure selection event evt evt setEnabled set enable getView get view getSelectionCount get selection count 0 0 