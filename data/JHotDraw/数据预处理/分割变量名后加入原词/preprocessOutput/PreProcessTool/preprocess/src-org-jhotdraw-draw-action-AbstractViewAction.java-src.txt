AbstractViewAction view action java 1 1 2 2 2006 2006 04 04 21 21 Copyright copyright c c 1996 1996 2006 2006 by by the the original original authors author of of JHotDraw jhotdraw and and all all its it contributors contributor JHotDraw jhotdraw org org All all rights right reserved reserve This software software is is the the confidential confidential and and proprietary proprietary information information of of JHotDraw jhotdraw org org Confidential confidential Information information You you shall shall not not disclose disclose such such Confidential confidential Information information and and shall shall use use it it only only in in accordance accordance with with the the terms term of of the the license license agreement agreement you you entered enter into into with with JHotDraw jhotdraw org org package org org jhotdraw jhotdraw draw draw action action import org org jhotdraw jhotdraw draw draw Drawing drawing import org org jhotdraw jhotdraw draw draw DrawingEditor drawing editor import org org jhotdraw jhotdraw draw draw DrawingView drawing view import org org jhotdraw jhotdraw util util import java beans bean import javax javax swing swing import javax javax swing swing undo undo import java util util Abstract super class for actions action which which act act on on a a DrawingView drawing view author author Werner wern Randelshofer randelshof version 1 1 2 2 2006 2006 04 04 21 21 Method setEditor set editor added add br 1 1 1 1 2006 2006 03 03 15 15 Support support for enabled enable state state of of view view added add br 1 1 0 0 2003 2003 12 12 01 01 Created create public abstract class AbstractViewAction view action extends AbstractAction action private DrawingEditor drawing editor editor editor private DrawingView drawing view view view protected final static ResourceBundleUtil resource bundle util labels label ResourceBundleUtil resource bundle util getLAFBundle get l a f bundle org org jhotdraw jhotdraw draw draw Labels label Locale locale getDefault get private PropertyChangeListener property change listener propertyChangeHandler property change handler new PropertyChangeListener property change listener public void propertyChange property change PropertyChangeEvent property change event evt evt if evt evt getPropertyName get property name equals equal enabled enable updateEnabledState update enable state Creates create a a view view action action which which acts act on on the the current current view view of of the the editor editor public AbstractViewAction view action DrawingEditor drawing editor editor editor this editor editor editor editor editor editor addPropertyChangeListener add property change listener new PropertyChangeListener property change listener public void propertyChange property change PropertyChangeEvent property change event evt evt if evt evt getPropertyName get property name equals equal view view if evt evt getOldValue get old value null DrawingView drawing view view view DrawingView drawing view evt evt getOldValue get old value view view removePropertyChangeListener remove property change listener propertyChangeHandler property change handler if evt evt getNewValue get value null DrawingView drawing view view view DrawingView drawing view evt evt getOldValue get old value view view addPropertyChangeListener add property change listener propertyChangeHandler property change handler updateEnabledState update enable state Creates create a a view view action action which which acts act on on the the specified specify view view public AbstractViewAction view action DrawingView drawing view view view this view view view view protected void setEditor set editor DrawingEditor drawing editor newValue value editor editor newValue value protected DrawingView drawing view getView get view return view view null ? ? view view editor editor getView get view protected Drawing drawing getDrawing get drawing return getView get view getDrawing get drawing protected void fireUndoableEditHappened fire undoable edit happen UndoableEdit undoable edit edit edit getDrawing get drawing fireUndoableEditHappened fire undoable edit happen edit edit protected void viewChanged view change public void updateEnabledState update enable state if getView get view null setEnabled set enable getView get view isEnabled is enable getView get view getSelectionCount get selection count 0 0 else setEnabled set enable false 