DrawingView drawing view java 3 3 1 1 2006 2006 03 03 15 15 Copyright copyright c c 1996 1996 2006 2006 by by the the original original authors author of of JHotDraw jhotdraw and and all all its it contributors contributor JHotDraw jhotdraw org org All all rights right reserved reserve This software software is is the the confidential confidential and and proprietary proprietary information information of of JHotDraw jhotdraw org org Confidential confidential Information information You you shall shall not not disclose disclose such such Confidential confidential Information information and and shall shall use use it it only only in in accordance accordance with with the the terms term of of the the license license agreement agreement you you entered enter into into with with JHotDraw jhotdraw org org ??? ??? package org org jhotdraw jhotdraw draw draw import java awt awt import java awt awt geom geom import java awt awt event event import java util util import java beans bean DrawingView drawing view renders render a a Drawing drawing and and listens listen to to its it changes change It it receives receive user user input input and and forwards forward it it to to registered register listeners listener author author Werner wern Randelshofer randelshof version 3 3 1 1 2006 2006 03 03 15 15 Support support for enabled enable state state added add br 3 3 0 0 2006 2006 02 02 20 20 Changed change to to share share a a single single DrawingEditor drawing editor by by multiple multiple views view br 2 2 0 0 2006 2006 01 01 14 14 Changed change to to support support double precision precision coordinates coordinate br 1 1 0 0 2003 2003 12 12 01 01 Derived derive from from JHotDraw jhotdraw 5 5 4b1 4b1 public interface DrawingView drawing view Gets get the the tools tool public Set set getTools get tool Gets get the the drawing drawing public Drawing drawing getDrawing get drawing Sets set and and installs install another another drawing drawing in in the the view view public void setDrawing set drawing Drawing drawing d d Sets set the the cursor cursor of of the the DrawingView drawing view public void setCursor set cursor Cursor cursor c c Test test whether wheth a a given given figure figure is is selected select public boolean isFigureSelected is figure select Figure figure checkFigure check figure Adds add a a figure figure to to the the current current selection selection public void addToSelection add to selection Figure figure figure figure Adds add a a collection collection of of figures figure to to the the current current selection selection public void addToSelection add to selection Collection collection Figure figure figures figure Removes remove a a figure figure from from the the selection selection public void removeFromSelection remove from selection Figure figure figure figure If a a figure figure isn isn t t selected select it it is is added add to to the the selection selection Otherwise otherwise it it is is removed remove from from the the selection selection public void toggleSelection toggle selection Figure figure figure figure Clears clear the the current current selection selection public void clearSelection clear selection Selects select all all figures figure public void selectAll select all Gets get the the current current selection selection as a a a FigureSelection figure selection A a FigureSelection figure selection can can be be cut cut copied copy pasted paste public Collection collection Figure figure getSelectedFigures get select figure Gets get the the number number of of selected select figures figure public int getSelectionCount get selection count Finds find a a handle handle at at the the given given coordinates coordinate return A a handle handle null if no no handle handle is is found found public Handle handle findHandle find handle Point point p p Gets get compatible compatible handles handle return A a collection collection containing contain the the handle handle and and all all compatible compatible handles handle public Collection collection Handle handle getCompatibleHandles get compatible handle Handle handle handle handle Finds find a a figure figure at at the the given given point point return A a figure figure null if no no figure figure is is found found public Figure figure findFigure find figure Point point p p Returns all all figures figure that that lie lie within within or or intersect intersect the the specified specify bounds bound The the figures figure are are returned in in Z z order order from from back back to to front front public Collection collection Figure figure findFigures find figure Rectangle rectangle r r Returns all all figures figure that that lie lie within within the the specified specify bounds bound The the figures figure are are returned in in Z z order order from from back back to to front front public Collection collection Figure figure findFiguresWithin find figure within Rectangle rectangle r r Informs inform the the view view that that it it has ha been be added add to to the the specified specify editor editor The the view view must must draw draw the the tool tool of of the the editor editor if getActiveView get active view of of the the editor editor returns the the view view public void addNotify add notify DrawingEditor drawing editor editor editor Informs inform the the view view that that it it has ha been be removed remove from from the the specified specify editor editor The the view view must must not not draw draw the the tool tool from from the the editor editor anymore anymore public void removeNotify remove notify DrawingEditor drawing editor editor editor void addMouseListener add mouse listener MouseListener mouse listener l l void removeMouseListener remove mouse listener MouseListener mouse listener l l void addKeyListener add key listener KeyListener key listener l l void removeKeyListener remove key listener KeyListener key listener l l void addMouseMotionListener add mouse motion listener MouseMotionListener mouse motion listener l l void removeMouseMotionListener remove mouse motion listener MouseMotionListener mouse motion listener l l Add add a a listener listener for selection selection changes change in in this DrawingView drawing view param fsl fsl jhotdraw jhotdraw framework framework FigureSelectionListener figure selection listener public void addFigureSelectionListener add figure selection listener FigureSelectionListener figure selection listener fsl fsl Remove remove a a listener listener for selection selection changes change in in this DrawingView drawing view param fsl fsl jhotdraw jhotdraw framework framework FigureSelectionListener figure selection listener public void removeFigureSelectionListener remove figure selection listener FigureSelectionListener figure selection listener fsl fsl public void requestFocus request focus Converts convert drawing drawing coordinates coordinate to to view view coordinates coordinate public Point point drawingToView drawing to view Point2D point2 d Double p p Converts convert view view coordinates coordinate to to drawing drawing coordinates coordinate public Point2D point2 d Double viewToDrawing view to drawing Point point p p Converts convert drawing drawing coordinates coordinate to to view view coordinates coordinate public Rectangle rectangle drawingToView drawing to view Rectangle2D rectangle2 d Double p p Converts convert view view coordinates coordinate to to drawing drawing coordinates coordinate public Rectangle2D rectangle2 d Double viewToDrawing view to drawing Rectangle rectangle p p Sets set the the editor editor s s constrainer constrain void setConstrainer set constrain Constrainer constrain constrainer constrain Gets get the the editor editor s s constrainer constrain public Constrainer constrain getConstrainer get constrain Returns the the container container of of the the drawing drawing view view public Container container getContainer get container Gets get an an transform transform which which can can be be used use to to convert convert drawing drawing coordinates coordinate to to view view coordinates coordinate public AffineTransform affine transform getDrawingToViewTransform get drawing to view transform Gets get the the scale scale factor factor of of the the drawing drawing view view public double getScaleFactor get scale factor Sets set the the scale scale factor factor of of the the drawing drawing view view This is is a a bound bound property property public void setScaleFactor set scale factor double newValue value The the detail detail level level of of the the handles handle public void setHandleDetailLevel set handle detail level int newValue value Returns the the detail detail level level of of the the handles handle public int getHandleDetailLevel get handle detail level Sets set the the enabled enable state state of of the the drawing drawing view view This is is a a bound bound property property public void setEnabled set enable boolean newValue value Gets get the the enabled enable state state of of the the drawing drawing view view public boolean isEnabled is enable public void addPropertyChangeListener add property change listener PropertyChangeListener property change listener listener listener public void removePropertyChangeListener remove property change listener PropertyChangeListener property change listener listener listener 