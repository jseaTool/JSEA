ChopEllipseConnector chop ellipse connector java 2 2 1 1 2006 2006 05 05 18 18 Copyright copyright c c 1996 1996 2006 2006 by by the the original original authors author of of JHotDraw jhotdraw and and all all its it contributors contributor JHotDraw jhotdraw org org All all rights right reserved reserve This software software is is the the confidential confidential and and proprietary proprietary information information of of JHotDraw jhotdraw org org Confidential confidential Information information You you shall shall not not disclose disclose such such Confidential confidential Information information and and shall shall use use it it only only in in accordance accordance with with the the terms term of of the the license license agreement agreement you you entered enter into into with with JHotDraw jhotdraw org org ??? ??? package org org jhotdraw jhotdraw draw draw import com com sun sun tools tool javac javac jvm jvm Gen gen import org org jhotdraw jhotdraw util util import java awt awt import java awt awt geom geom import static org org jhotdraw jhotdraw draw draw AttributeKeys attribute key import org org jhotdraw jhotdraw geom geom A a ChopEllipseConnector chop ellipse connector locates locate a a connection connection Point2D point2 d Double by by chopping chop the the connection connection at at the the ellipse ellipse defined define by by the the figure figure s s display display box box author author Werner wern Randelshofer randelshof version 2 2 1 1 2006 2006 05 05 18 18 Reworked rework br 2 2 0 0 2006 2006 01 01 14 14 Changed change to to support support double precison coordinates coordinate br 1 1 0 0 2003 2003 12 12 01 01 Derived derive from from JHotDraw jhotdraw 5 5 4b1 4b1 public class ChopEllipseConnector chop ellipse connector extends ChopBoxConnector chop box connector Only only used use for DOMStorable dom storable input input public ChopEllipseConnector chop ellipse connector public ChopEllipseConnector chop ellipse connector Figure figure owner owner super owner owner private Color color getStrokeColor get stroke color Figure figure f f return Color color f f getAttribute get attribute STROKE s t r o k e COLOR c o l o r private float getStrokeWidth get stroke width Figure figure f f Float w w Float f f getAttribute get attribute STROKE s t r o k e WIDTH w t h return w w null ? ? 1f 1f w w floatValue value protected Point2D point2 d Double chop chop Figure figure target target Point2D point2 d Double from from target target getConnectorTarget get connector target target target Rectangle2D rectangle2 d Double r r target target getBounds get bound if getStrokeColor get stroke color target target null double grow grow switch STROKE s t r o k e PLACEMENT p l a c e m e n t get get target target case CENTER c e n t e r default grow grow getStrokeTotalWidth get stroke total width target target 2d 2d break case OUTSIDE o u t s e grow grow getStrokeTotalWidth get stroke total width target target break case INSIDE i n s e grow grow 0f 0f break Geom geom grow grow r r grow grow grow grow double angle angle Geom geom pointToAngle point to angle r r from from return Geom geom ovalAngleToPoint oval angle to point r r angle angle 