LineFigure line figure java 2 2 0 0 2006 2006 02 02 27 27 Copyright copyright c c 1996 1996 2006 2006 by by the the original original authors author of of JHotDraw jhotdraw and and all all its it contributors contributor JHotDraw jhotdraw org org All all rights right reserved reserve This software software is is the the confidential confidential and and proprietary proprietary information information of of JHotDraw jhotdraw org org Confidential confidential Information information You you shall shall not not disclose disclose such such Confidential confidential Information information and and shall shall use use it it only only in in accordance accordance with with the the terms term of of the the license license agreement agreement you you entered enter into into with with JHotDraw jhotdraw org org ??? ??? package org org jhotdraw jhotdraw draw draw import javax javax swing swing undo undo import java awt awt import java awt awt event event import java awt awt geom geom import java util util import org org jhotdraw jhotdraw geom geom LineFigure line figure author author Werner wern Randelshofer randelshof version 2 2 0 0 2006 2006 02 02 27 27 Support support point point editing editing at at handle handle level level 0 0 br 2 2 0 0 2006 2006 01 01 14 14 Changed change to to support support double precison coordinates coordinate br 1 1 0 0 2003 2003 12 12 01 01 Derived derive from from JHotDraw jhotdraw 5 5 4b1 4b1 public class LineFigure line figure extends BezierFigure bezi figure Creates create a a new instance instance public LineFigure line figure basicAddNode basic add node new BezierPath bezi path Node node new Point2D point2 d Double 0 0 0 0 basicAddNode basic add node new BezierPath bezi path Node node new Point2D point2 d Double 0 0 0 0 DRAWING d r a w i n g SHAPE s h a p e AND a n d BOUNDS b o u n d s ATTRIBUTES a t t r i b u t e s EDITING e d i t i n g public Collection collection Handle handle createHandles create handle int detailLevel detail level LinkedList link list Handle handle handles handle new LinkedList link list Handle handle switch detailLevel detail level case 0 0 for int i i 0 0 n n path path size size i i n n i++ i++ handles handle add add new BezierNodeHandle bezi node handle this i i break return handles handle CONNECTING c o n n e c t i n g COMPOSITE c o m p o s i t e FIGURES f i g u r e s CLONING c l o n i n g EVENT e v e n t HANDLING h a n d l i n g public boolean canConnect can connect return false Handles handle a a mouse mouse click click public boolean handleMouseClick handle mouse click Point2D point2 d Double p p MouseEvent mouse event evt evt DrawingView drawing view view view if evt evt getClickCount get click count 2 2 view view getHandleDetailLevel get handle detail level 0 0 willChange will change final int index index basicSplitSegment basic split segment p p float 5f 5f view view getScaleFactor get scale factor if index index 1 1 final BezierPath bezi path Node node newNode node getNode get node index index fireUndoableEditHappened fire undoable edit happen new AbstractUndoableEdit undoable edit public void redo redo throws CannotRedoException cannot redo super redo redo willChange will change basicAddNode basic add node index index newNode node changed change public void undo undo throws CannotUndoException cannot undo super undo undo willChange will change basicRemoveNode basic remove node index index changed change changed change return true return false 