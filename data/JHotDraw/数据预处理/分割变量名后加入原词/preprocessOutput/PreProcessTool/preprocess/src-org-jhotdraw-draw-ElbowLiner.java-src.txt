ElbowLiner elbow liner java 1 1 0 0 2006 2006 03 03 28 28 Copyright copyright c c 1996 1996 2006 2006 by by the the original original authors author of of JHotDraw jhotdraw and and all all its it contributors contributor JHotDraw jhotdraw org org All all rights right reserved reserve This software software is is the the confidential confidential and and proprietary proprietary information information of of JHotDraw jhotdraw org org Confidential confidential Information information You you shall shall not not disclose disclose such such Confidential confidential Information information and and shall shall use use it it only only in in accordance accordance with with the the terms term of of the the license license agreement agreement you you entered enter into into with with JHotDraw jhotdraw org org package org org jhotdraw jhotdraw draw draw import java util util import java awt awt import java awt awt geom geom import org org jhotdraw jhotdraw geom geom import org org jhotdraw jhotdraw xml xml DOMInput dom input import org org jhotdraw jhotdraw xml xml DOMOutput dom output import org org jhotdraw jhotdraw xml xml DOMStorable dom storable A a Liner liner that that constrains constrain a a connection connection to to orthogonal orthogonal lines line author author Werner wern Randelshofer randelshof version 1 1 0 0 2006 2006 03 03 28 28 Created create public class ElbowLiner elbow liner implements Liner liner DOMStorable dom storable Creates create a a new instance instance public ElbowLiner elbow liner public Collection collection Handle handle createHandles create handle BezierPath bezi path path path return null public void lineout lineout ConnectionFigure connection figure figure figure BezierPath bezi path path path LineConnectionFigure line connection figure figure figure getBezierPath get bezi path Connector connector start start figure figure getStartConnector get start connector Connector connector end end figure figure getEndConnector get end connector if start start null || || end end null || || path path null return Point2D point2 d Double sp sp start start findStart find start figure figure Point2D point2 d Double ep ep end end findEnd find end figure figure path path clear clear path path add add new BezierPath bezi path Node node sp sp x x sp sp y y if sp sp x x ep ep x x || || sp sp y y ep ep y y path path add add new BezierPath bezi path Node node ep ep x x ep ep y y else Rectangle2D rectangle2 d Double sb sb start start getBounds get bound sb sb x x + + 5d 5d sb sb y y + + 5d 5d sb sb width width 10d 10d sb sb height height 10d 10d Rectangle2D rectangle2 d Double eb eb end end getBounds get bound eb eb x x + + 5d 5d eb eb y y + + 5d 5d eb eb width width 10d 10d eb eb height height 10d 10d int soutcode soutcode sb sb outcode outcode sp sp if soutcode soutcode 0 0 soutcode soutcode Geom geom outcode outcode sb sb eb eb int eoutcode eoutcode eb eb outcode outcode ep ep if eoutcode eoutcode 0 0 eoutcode eoutcode Geom geom outcode outcode eb eb sb sb if soutcode soutcode Geom geom OUT o u t TOP t o p | | Geom geom OUT o u t BOTTOM b o t t o m 0 0 eoutcode eoutcode Geom geom OUT o u t TOP t o p | | Geom geom OUT o u t BOTTOM b o t t o m 0 0 path path add add new BezierPath bezi path Node node sp sp x x sp sp y y + + ep ep y y 2 2 path path add add new BezierPath bezi path Node node ep ep x x sp sp y y + + ep ep y y 2 2 else if soutcode soutcode Geom geom OUT o u t LEFT l e f t | | Geom geom OUT o u t RIGHT r i g h t 0 0 eoutcode eoutcode Geom geom OUT o u t LEFT l e f t | | Geom geom OUT o u t RIGHT r i g h t 0 0 path path add add new BezierPath bezi path Node node sp sp x x + + ep ep x x 2 2 sp sp y y path path add add new BezierPath bezi path Node node sp sp x x + + ep ep x x 2 2 ep ep y y path path add add new BezierPath bezi path Node node ep ep x x ep ep y y path path invalidatePath invalidate path public void read read DOMInput dom input in in public void write write DOMOutput dom output out out public Liner liner clone clone try return Liner liner super clone clone catch CloneNotSupportedException clone not support ex ex InternalError internal error new InternalError internal ex ex getMessage get message error initCause init cause ex ex throw error 