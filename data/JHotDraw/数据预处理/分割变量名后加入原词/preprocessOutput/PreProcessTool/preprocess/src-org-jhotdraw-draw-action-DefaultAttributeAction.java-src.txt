DefaultAttributeAction attribute action java 2 2 0 0 2006 2006 06 06 07 07 Copyright copyright c c 1996 1996 2006 2006 by by the the original original authors author of of JHotDraw jhotdraw and and all all its it contributors contributor JHotDraw jhotdraw org org All all rights right reserved reserve This software software is is the the confidential confidential and and proprietary proprietary information information of of JHotDraw jhotdraw org org Confidential confidential Information information You you shall shall not not disclose disclose such such Confidential confidential Information information and and shall shall use use it it only only in in accordance accordance with with the the terms term of of the the license license agreement agreement you you entered enter into into with with JHotDraw jhotdraw org org package org org jhotdraw jhotdraw draw draw action action import org org jhotdraw jhotdraw undo undo import javax javax swing swing import java awt awt import java beans bean import java util util import org org jhotdraw jhotdraw draw draw DefaultAttributeAction attribute action p p XXX x x x should should listen listen to to changes change in in the the default attributes attribute of of its it DrawingEditor drawing editor author author Werner wern Randelshofer randelshof version 2 2 0 0 2006 2006 06 06 07 07 Reworked rework br 1 1 0 0 26 26 November november 2003 2003 Created create public class DefaultAttributeAction attribute action extends AbstractSelectedAction select action private AttributeKey attribute key keys key Creates create a a new instance instance public DefaultAttributeAction attribute action DrawingEditor drawing editor editor editor AttributeKey attribute key key key this editor editor key key null null public DefaultAttributeAction attribute action DrawingEditor drawing editor editor editor AttributeKey attribute key keys key this editor editor keys key null null Creates create a a new instance instance public DefaultAttributeAction attribute action DrawingEditor drawing editor editor editor AttributeKey attribute key key key Icon icon icon icon this editor editor key key null icon icon Creates create a a new instance instance public DefaultAttributeAction attribute action DrawingEditor drawing editor editor editor AttributeKey attribute key key key String name name this editor editor key key name name null public DefaultAttributeAction attribute action DrawingEditor drawing editor editor editor AttributeKey attribute key key key String name name Icon icon icon icon this editor editor new AttributeKey attribute key key key name name icon icon public DefaultAttributeAction attribute action DrawingEditor drawing editor editor editor AttributeKey attribute key keys key String name name Icon icon icon icon super editor editor this keys key keys key putValue put value AbstractAction action NAME n a m e name name putValue put value AbstractAction action SMALL s m a l l ICON i c o n icon icon setEnabled set enable true editor editor addPropertyChangeListener add property change listener new PropertyChangeListener property change listener public void propertyChange property change PropertyChangeEvent property change event evt evt if evt evt getPropertyName get property name equals equal DefaultAttributeAction attribute action this keys key 0 0 putValue put value attribute attribute +DefaultAttributeAction + attribute action this keys key 0 0 evt evt getNewValue get value public void actionPerformed action perform java awt awt event event ActionEvent action event evt evt if getView get view null getView get view getSelectionCount get selection count 0 0 CompositeEdit composite edit edit edit new CompositeEdit composite edit labels label getString get drawAttributeChange draw attribute change fireUndoableEditHappened fire undoable edit happen edit edit changeAttribute change attribute fireUndoableEditHappened fire undoable edit happen edit edit public void changeAttribute change attribute Drawing drawing drawing drawing getDrawing get drawing Iterator iterator i i getView get view getSelectedFigures get select figure iterator iterator while i i hasNext ha next Figure figure figure figure Figure figure i i next next for int j j 0 0 j j keys key length length j++ j++ figure figure setAttribute set attribute keys key j j getEditor get editor getDefaultAttribute get attribute keys key j j public void selectionChanged selection change FigureSelectionEvent figure selection event evt evt setEnabled set enable getView get view getSelectionCount get selection count 0 0 