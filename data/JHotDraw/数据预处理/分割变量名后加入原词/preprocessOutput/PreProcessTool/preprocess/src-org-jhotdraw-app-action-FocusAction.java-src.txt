FocusAction focus action java 2 2 0 0 2006 2006 05 05 05 05 Copyright copyright c c 1996 1996 2006 2006 by by the the original original authors author of of JHotDraw jhotdraw and and all all its it contributors contributor JHotDraw jhotdraw org org All all rights right reserved reserve This software software is is the the confidential confidential and and proprietary proprietary information information of of JHotDraw jhotdraw org org Confidential confidential Information information You you shall shall not not disclose disclose such such Confidential confidential Information information and and shall shall use use it it only only in in accordance accordance with with the the terms term of of the the license license agreement agreement you you entered enter into into with with JHotDraw jhotdraw org org package org org jhotdraw jhotdraw app app action action import org org jhotdraw jhotdraw util util import java beans bean import java awt awt import java awt awt event event import javax javax swing swing import java io io import org org jhotdraw jhotdraw app app Project project Requests request focus focus for a a Frame frame author author Werner wern Randelshofer randelshof version 2 2 0 0 2006 2006 05 05 05 05 Reworked rework br 1 1 0 0 2005 2005 06 06 10 10 Created create public class FocusAction focus action extends AbstractAction action public final static String ID focus focus private Project project project project Creates create a a new instance instance public FocusAction focus action Project project project project this project project project project ResourceBundleUtil resource bundle util labels label ResourceBundleUtil resource bundle util getLAFBundle get l a f bundle org org jhotdraw jhotdraw app app Labels label labels label configureAction configure action this ID setEnabled set enable false setEnabled set enable project project null project project addPropertyChangeListener add property change listener new PropertyChangeListener property change listener public void propertyChange property change PropertyChangeEvent property change event evt evt ResourceBundleUtil resource bundle util labels label ResourceBundleUtil resource bundle util getLAFBundle get l a f bundle org org jhotdraw jhotdraw app app Labels label String name name evt evt getPropertyName get property name if name name equals equal file putValue put value Action action NAME n a m e evt evt getNewValue get value null ? ? labels label getString get unnamedFile unnam File evt evt getNewValue get value getName get name public Object getValue get value String key key if key key Action action NAME n a m e project project null return getTitle get title else return super getValue get value key key private String getTitle get title ResourceBundleUtil resource bundle util labels label ResourceBundleUtil resource bundle util getLAFBundle get l a f bundle org org jhotdraw jhotdraw app app Labels label String title title labels label getString get unnamedFile unnam if project project null File file project project getFile get if file null title title labels label getString get unnamedFile unnam else title title file getName get name if project project hasUnsavedChanges ha unsav change title title + + title title labels label getFormatted get format internalFrameTitle internal frame title title title project project getApplication get application getName get name project project getMultipleOpenId get multiple open return title title private JFrame j frame getFrame get frame return JFrame j frame SwingUtilities swing utility getWindowAncestor get window ancestor project project getComponent get component private Component component getRootPaneContainer get root pane container return SwingUtilities swing utility getRootPane get root pane project project getComponent get component getParent get parent public void actionPerformed action perform ActionEvent action event evt evt JFrame j frame frame frame getFrame get frame if frame frame null frame frame setExtendedState set extend state frame frame getExtendedState get extend state Frame frame ICONIFIED i c o n i f i e d frame frame toFront to front frame frame requestFocus request focus JRootPane j root pane rp rp SwingUtilities swing utility getRootPane get root pane project project getComponent get component if rp rp null rp rp getParent get parent instanceof JInternalFrame j internal frame JInternalFrame j internal frame rp rp getParent get parent toFront to front project project getComponent get component requestFocus request focus else Toolkit toolkit getDefaultToolkit get toolkit beep beep Component component rpContainer rp container getRootPaneContainer get root pane container if rpContainer rp container instanceof Frame frame Frame frame frame frame Frame frame rpContainer rp container frame frame setExtendedState set extend state frame frame getExtendedState get extend state Frame frame ICONIFIED i c o n i f i e d frame frame toFront to front else if rpContainer rp container instanceof JInternalFrame j internal frame JInternalFrame j internal frame frame frame JInternalFrame j internal frame rpContainer rp container frame frame toFront to front try frame frame setSelected set select true catch PropertyVetoException property veto e e Don t t care care project project getComponent get component requestFocusInWindow request focus in window 