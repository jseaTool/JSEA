VerticalLayouter vertical layout java 2 2 1 1 2006 2006 07 07 08 08 Copyright copyright c c 1996 1996 2006 2006 by by the the original original authors author of of JHotDraw jhotdraw and and all all its it contributors contributor JHotDraw jhotdraw org org All all rights right reserved reserve This software software is is the the confidential confidential and and proprietary proprietary information information of of JHotDraw jhotdraw org org Confidential confidential Information information You you shall shall not not disclose disclose such such Confidential confidential Information information and and shall shall use use it it only only in in accordance accordance with with the the terms term of of the the license license agreement agreement you you entered enter into into with with JHotDraw jhotdraw org org package org org jhotdraw jhotdraw draw draw import org org jhotdraw jhotdraw util util import java awt awt import java awt awt geom geom import java util util import org org jhotdraw jhotdraw geom geom import static org org jhotdraw jhotdraw draw draw AttributeKeys attribute key A a layouter layout which which lays lay out out all all children child of of a a CompositeFigure composite figure in in vertical vertical direction direction The the preferredSize prefer size of of the the figures figure is is used use to to determine determine the the layout layout This may may cause cause some some figures figure to to resize resize p p The the VerticalLayouter vertical layout honors honor the the LAYOUT l a y o u t INSETS i n s e t s AttributeKey attribute key when when laying laying out out a a Figure figure author author Werner wern Randelshofer randelshof version 2 2 0 0 2006 2006 01 01 14 14 Changed change to to support support double precision precision coordinates coordinate br 1 1 0 0 1 1 Dezember dezemb 2003 2003 Created create public class VerticalLayouter vertical layout extends AbstractLayouter layout public Rectangle2D rectangle2 d Double calculateLayout calculate layout CompositeFigure composite figure layoutable layoutable Point2D point2 d Double anchor anchor Point2D point2 d Double lead Insets2DDouble insets2 d layoutInsets layout inset LAYOUT l a y o u t INSETS i n s e t s get get layoutable layoutable if layoutInsets layout inset null layoutInsets layout inset new Insets2DDouble insets2 d 0 0 0 0 0 0 0 0 Rectangle2D rectangle2 d Double layoutBounds layout bound new Rectangle2D rectangle2 d Double anchor anchor x x anchor anchor y y 0 0 0 0 for Figure figure child child layoutable layoutable getChildren get child if child child isVisible is visible Dimension2DDouble dimension2 d preferredSize prefer size child child getPreferredSize get prefer size Insets2DDouble insets2 d ins in getInsets get inset child child layoutBounds layout bound width width Math math max max layoutBounds layout bound width width preferredSize prefer size width width + + ins in left left + + ins in right right layoutBounds layout bound height height + + preferredSize prefer size height height + + ins in top top + + ins in bottom bottom layoutBounds layout bound width width + + layoutInsets layout inset left left + + layoutInsets layout inset right right layoutBounds layout bound height height + + layoutInsets layout inset top top + + layoutInsets layout inset bottom bottom return layoutBounds layout bound public Rectangle2D rectangle2 d Double layout layout CompositeFigure composite figure layoutable layoutable Point2D point2 d Double anchor anchor Point2D point2 d Double lead Insets2DDouble insets2 d layoutInsets layout inset LAYOUT l a y o u t INSETS i n s e t s get get layoutable layoutable if layoutInsets layout inset null layoutInsets layout inset new Insets2DDouble insets2 d 0 0 0 0 0 0 0 0 Rectangle2D rectangle2 d Double layoutBounds layout bound calculateLayout calculate layout layoutable layoutable anchor anchor lead double y y layoutBounds layout bound y y + + layoutInsets layout inset top top for Figure figure child child layoutable layoutable getChildren get child if child child isVisible is visible Insets2DDouble insets2 d insets inset getInsets get inset child child double height height child child getPreferredSize get prefer size height height child child basicSetBounds basic set bound new Point2D point2 d Double layoutBounds layout bound x x + + layoutInsets layout inset left left + + insets inset left left y y + + insets inset top top new Point2D point2 d Double layoutBounds layout bound x x + + layoutBounds layout bound width width layoutInsets layout inset right right insets inset right right y y + + insets inset top top + + height height y y + + height height + + insets inset top top + + insets inset bottom bottom return layoutBounds layout bound 