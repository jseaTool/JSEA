SelectAreaTracker select area tracker java 3 3 0 0 2006 2006 02 02 14 14 Copyright copyright c c 1996 1996 2006 2006 by by the the original original authors author of of JHotDraw jhotdraw and and all all its it contributors contributor JHotDraw jhotdraw org org All all rights right reserved reserve This software software is is the the confidential confidential and and proprietary proprietary information information of of JHotDraw jhotdraw org org Confidential confidential Information information You you shall shall not not disclose disclose such such Confidential confidential Information information and and shall shall use use it it only only in in accordance accordance with with the the terms term of of the the license license agreement agreement you you entered enter into into with with JHotDraw jhotdraw org org ??? ??? package org org jhotdraw jhotdraw draw draw import java awt awt event event import java awt awt import java util util SelectAreaTracker select area tracker author author Werner wern Randelshofer randelshof version 3 3 0 0 2006 2006 02 02 15 15 Updated update to to handle handle multiple multiple views view br 1 1 0 0 2003 2003 12 12 01 01 Derived derive from from JHotDraw jhotdraw 5 5 4b1 4b1 public class SelectAreaTracker select area tracker extends AbstractTool tool private Rectangle rectangle rubberBand rubber band new Rectangle rectangle Creates create a a new instance instance public SelectAreaTracker select area tracker public void mousePressed mouse press MouseEvent mouse event evt evt super mousePressed mouse press evt evt clearRubberBand clear rubber band public void mouseReleased mouse release MouseEvent mouse event evt evt selectGroup select group evt evt isShiftDown is shift down clearRubberBand clear rubber band public void mouseDragged mouse drag MouseEvent mouse event evt evt Rectangle rectangle invalidatedArea invalidate area Rectangle rectangle rubberBand rubber band clone clone rubberBand rubber band setBounds set bound Math math min min anchor anchor x x evt evt getX get x Math math min min anchor anchor y y evt evt getY get y Math math abs ab anchor anchor x x evt evt getX get x Math math abs ab anchor anchor y y evt evt getY get y if invalidatedArea invalidate area isEmpty is empty invalidatedArea invalidate area Rectangle rectangle rubberBand rubber band clone clone else invalidatedArea invalidate area invalidatedArea invalidate area union union rubberBand rubber band fireAreaInvalidated fire area invalidate invalidatedArea invalidate area public void mouseMoved mouse move MouseEvent mouse event evt evt System out out println SelectAreaTracker select area tracker mouseMoved mouse move +evt +evt getX get x + + +evt +evt getY get y clearRubberBand clear rubber band updateCursor update cursor editor editor findView find view Container container evt evt getSource get source new Point point evt evt getX get x evt evt getY get y private void clearRubberBand clear rubber band if rubberBand rubber band width width 0 0 fireAreaInvalidated fire area invalidate rubberBand rubber band rubberBand rubber band width width 0 0 public void draw draw Graphics2D graphics2 d g g g g setStroke set stroke new BasicStroke basic stroke g g setColor set color Color color black black g g drawRect draw rect rubberBand rubber band x x rubberBand rubber band y y rubberBand rubber band width width 1 1 rubberBand rubber band height height 1 1 private void selectGroup select group boolean toggle toggle getView get view addToSelection add to selection getView get view findFiguresWithin find figure within rubberBand rubber band 