LoadAction load action java 1 1 0 0 2005 2005 10 10 16 16 Copyright copyright c c 1996 1996 2006 2006 by by the the original original authors author of of JHotDraw jhotdraw and and all all its it contributors contributor JHotDraw jhotdraw org org All all rights right reserved reserve This software software is is the the confidential confidential and and proprietary proprietary information information of of JHotDraw jhotdraw org org Confidential confidential Information information You you shall shall not not disclose disclose such such Confidential confidential Information information and and shall shall use use it it only only in in accordance accordance with with the the terms term of of the the license license agreement agreement you you entered enter into into with with JHotDraw jhotdraw org org package org org jhotdraw jhotdraw app app action action import org org jhotdraw jhotdraw util util import org org jhotdraw jhotdraw gui gui import org org jhotdraw jhotdraw gui gui event event import java awt awt import java awt awt event event import javax javax swing swing import java io io import org org jhotdraw jhotdraw app app Application application import org org jhotdraw jhotdraw app app Project project Loads load a a file into into the the current current project project author author Werner wern Randelshofer randelshof version 1 1 0 0 2005 2005 10 10 16 16 Created create public class LoadAction load action extends SaveBeforeAction save before action public final static String ID load load Creates create a a new instance instance public LoadAction load action Application application app app super app app ResourceBundleUtil resource bundle util labels label ResourceBundleUtil resource bundle util getLAFBundle get l a f bundle org org jhotdraw jhotdraw app app Labels label labels label configureAction configure action this open open public void doIt it Project project project project JFileChooser j chooser fileChooser chooser project project getOpenChooser get open chooser if fileChooser chooser showOpenDialog show open dialog project project getComponent get component JFileChooser j chooser APPROVE a p p r o v e OPTION o p t i o n openFile open project project fileChooser chooser else project project setEnabled set enable true protected void openFile open final Project project project project JFileChooser j chooser fileChooser chooser final File file fileChooser chooser getSelectedFile get select Open open the the file project project execute execute new Worker worker public Object construct construct try project project read read file return null catch IOException i o e e return e e public void finished finish Object value value fileOpened open project project file value value protected void fileOpened open final Project project project project File file Object value value if value value null project project setFile set file project project setEnabled set enable true getApplication get application addRecentFile add recent file else JSheet j sheet showMessageSheet show message sheet project project getComponent get component html html +UIManager + u i manager getString get OptionPane option pane css cs + + b b Couldn couldn t t open open the the file \ \ +file+ +file+ \ \ b b br + + value value JOptionPane j option pane ERROR e r r o r MESSAGE m e s s a g e new SheetListener sheet listener public void optionSelected option select SheetEvent sheet event evt evt project project clear clear project project setEnabled set enable true 