RoundRectRadiusHandle round rect radius handle java 2 2 0 0 2006 2006 01 01 14 14 Copyright copyright c c 1996 1996 2006 2006 by by the the original original authors author of of JHotDraw jhotdraw and and all all its it contributors contributor JHotDraw jhotdraw org org All all rights right reserved reserve This software software is is the the confidential confidential and and proprietary proprietary information information of of JHotDraw jhotdraw org org Confidential confidential Information information You you shall shall not not disclose disclose such such Confidential confidential Information information and and shall shall use use it it only only in in accordance accordance with with the the terms term of of the the license license agreement agreement you you entered enter into into with with JHotDraw jhotdraw org org ??? ??? package org org jhotdraw jhotdraw draw draw import org org jhotdraw jhotdraw geom geom Geom geom import org org jhotdraw jhotdraw util util import org org jhotdraw jhotdraw undo undo import java awt awt import java awt awt geom geom A a Handle handle to to manipulate manipulate the the radius radius of of a a round round lead rectangle rectangle author author Werner wern Randelshofer randelshof version 2 2 0 0 2006 2006 01 01 14 14 Changed change to to support support double precison coordinates coordinate br 1 1 0 0 2004 2004 03 03 02 02 Derived derive from from JHotDraw jhotdraw 6 6 0b1 0b1 public class RoundRectRadiusHandle round rect radius handle extends AbstractHandle handle private static final int OFFSET o f f s e t 6 6 private Point point originalArc original arc CompositeEdit composite edit edit edit Creates create a a new instance instance public RoundRectRadiusHandle round rect radius handle Figure figure owner owner super owner owner Draws draw this handle handle public void draw draw Graphics2D graphics2 d g g drawDiamond draw diamond g g Color color yellow yellow Color color black black protected Rectangle rectangle basicGetBounds basic get bound Rectangle rectangle r r new Rectangle rectangle locate locate r r grow grow getHandlesize get handlesize 2 2 + + 1 1 getHandlesize get handlesize 2 2 + + 1 1 return r r private Point point locate locate RoundRectangleFigure round rectangle figure owner owner RoundRectangleFigure round rectangle figure getOwner get owner Rectangle rectangle r r view view drawingToView drawing to view owner owner getBounds get bound Point point arc arc view view drawingToView drawing to view new Point2D point2 d Double owner owner getArcWidth get arc width owner owner getArcHeight get arc height return new Point point r r x+arc x+arc x x 2+OFFSET 2+ o f f s e t r r y+arc y+arc y y 2+OFFSET 2+ o f f s e t public void trackStart track start Point point anchor anchor int modifiersEx modifier ex view view getDrawing get drawing fireUndoableEditHappened fire undoable edit happen edit edit new CompositeEdit composite edit Mehrfachaenderung mehrfachaenderung RoundRectangleFigure round rectangle figure owner owner RoundRectangleFigure round rectangle figure getOwner get owner originalArc original arc view view drawingToView drawing to view new Point2D point2 d Double owner owner getArcWidth get arc width owner owner getArcHeight get arc height public void trackStep track step Point point anchor anchor Point point lead int modifiersEx modifier ex int dx dx lead x x anchor anchor x x int dy dy lead y y anchor anchor y y RoundRectangleFigure round rectangle figure owner owner RoundRectangleFigure round rectangle figure getOwner get owner Rectangle rectangle r r view view drawingToView drawing to view owner owner getBounds get bound Point point viewArc view arc new Point point Geom geom range range 0 0 r r width width 2 2 originalArc original arc x x 2 2 + + dx dx Geom geom range range 0 0 r r height height 2 2 originalArc original arc y y 2 2 + + dy dy Point2D point2 d Double arc arc view view viewToDrawing view to drawing viewArc view arc owner owner setArc set arc arc arc x x arc arc y y public void trackEnd track end Point point anchor anchor Point point lead int modifiersEx modifier ex view view getDrawing get drawing fireUndoableEditHappened fire undoable edit happen edit edit 