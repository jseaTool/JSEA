XMLElement xml element java NanoXML nano xml Java $Revision $ revision 1 1 5 5 $ $ $Date $ date 2002 2002 02 02 06 06 18 18 50 50 12 12 $ $ $Name $ name RELEASE r e l e a s e 2 2 2 2 1 1 $ $ This file is is part part of of NanoXML nano xml 2 2 for Java Copyright copyright C c 2000 2000 2002 2002 Marc marc De de Scheemaecker scheemaeck All all Rights right Reserved reserve This software software is is provided provide as a is is without without any any express express or or implied imply warranty warranty In in no no event event will will the the authors author be be held hold liable liable for any any damages damage arising arise from from the the use use of of this software software Permission permission is is granted grant to to anyone anyone to to use use this software software for any any purpose purpose including include commercial commercial applications application and and to to alter alter it it and and redistribute redistribute it it freely freely subject subject to to the the following following restrictions restriction 1 1 The the origin origin of of this software software must must not not be be misrepresented misrepresent you you must must not not claim claim that that you you wrote write the the original original software software If you you use use this software software in in a a product product an an acknowledgment acknowledgment in in the the product product documentation documentation would would be be appreciated appreciate but but is is not not required require 2 2 Altered alter source source versions must must be be plainly plainly marked mark as a such such and and must must not not be be misrepresented misrepresent as a being being the the original original software software 3 3 This notice notice may may not not be be removed remove or or altered alter from from any any source source distribution distribution package net net n3 n3 nanoxml nanoxml import java io io Serializable serializable import java util util XMLElement xml element is is an an XML xml element element The the standard standard NanoXML nano xml builder builder generates generate a a tree tree of of such such iterator iterator see see net net n3 n3 nanoxml nanoxml StdXMLBuilder std xml builder author author Marc marc De de Scheemaecker scheemaeck version $Name $ name RELEASE r e l e a s e 2 2 2 2 1 1 $ $ $Revision $ revision 1 1 5 5 $ $ public class XMLElement xml element implements IXMLElement i xml element Serializable serializable Necessary necessary for serialization serialization static final long serialVersionUID serial u 2383376380548624920L 2383376380548624920 l No no line line number number defined define public static final int NO n o LINE l i n e 1 1 The the parent parent element element private IXMLElement i xml element parent parent The the attributes attribute of of the the element element private ArrayList list attributes attribute The the child child iterator iterator private ArrayList list children child The the name name of of the the element element private String name name The the full full name name of of the the element element private String fullName full name The the namespace namespace URI u r i private String namespace namespace The the content content of of the the element element private String content content The the system ID of of the the source source data data where where this element element is is located locate private String systemID The the line line in in the the source source data data where where this element element starts start private int lineNr line nr Creates create an an empty empty element element to to be be used use for PCDATA p c d a t a content content public XMLElement xml element this null null null NO n o LINE l i n e Creates create an an empty empty element element param fullName full name the the name name of of the the element element public XMLElement xml element String fullName full name this fullName full name null null NO n o LINE l i n e Creates create an an empty empty element element param fullName full name the the name name of of the the element element param systemID the the system ID of of the the XML xml data data where where the the element element starts start param lineNr line nr the the line line in in the the XML xml data data where where the the element element starts start public XMLElement xml element String fullName full name String systemID int lineNr line nr this fullName full name null systemID lineNr line nr Creates create an an empty empty element element param fullName full name the the full full name name of of the the element element param namespace namespace the the namespace namespace URI u r i public XMLElement xml element String fullName full name String namespace namespace this fullName full name namespace namespace null NO n o LINE l i n e Creates create an an empty empty element element param fullName full name the the full full name name of of the the element element param namespace namespace the the namespace namespace URI u r i param systemID the the system ID of of the the XML xml data data where where the the element element starts start param lineNr line nr the the line line in in the the XML xml data data where where the the element element starts start public XMLElement xml element String fullName full name String namespace namespace String systemID int lineNr line nr this attributes attribute new ArrayList list this children child new ArrayList list 8 8 this fullName full name fullName full name if namespace namespace null this name name fullName full name else int index index fullName full name indexOf index of if index index 0 0 this name name fullName full name substring substring index index + + 1 1 else this name name fullName full name this namespace namespace namespace namespace this content content null this lineNr line nr lineNr line nr this systemID systemID this parent parent null Creates create an an element element to to be be used use for PCDATA p c d a t a content content public IXMLElement i xml element createPCDataElement create p c data element return new XMLElement xml element Creates create an an empty empty element element param fullName full name the the name name of of the the element element public IXMLElement i xml element createElement create element String fullName full name return new XMLElement xml element fullName full name Creates create an an empty empty element element param fullName full name the the name name of of the the element element param systemID the the system ID of of the the XML xml data data where where the the element element starts start param lineNr line nr the the line line in in the the XML xml data data where where the the element element starts start public IXMLElement i xml element createElement create element String fullName full name String systemID int lineNr line nr return new XMLElement xml element fullName full name systemID lineNr line nr Creates create an an empty empty element element param fullName full name the the full full name name of of the the element element param namespace namespace the the namespace namespace URI u r i public IXMLElement i xml element createElement create element String fullName full name String namespace namespace return new XMLElement xml element fullName full name namespace namespace Creates create an an empty empty element element param fullName full name the the full full name name of of the the element element param namespace namespace the the namespace namespace URI u r i param systemID the the system ID of of the the XML xml data data where where the the element element starts start param lineNr line nr the the line line in in the the XML xml data data where where the the element element starts start public IXMLElement i xml element createElement create element String fullName full name String namespace namespace String systemID int lineNr line nr return new XMLElement xml element fullName full name namespace namespace systemID lineNr line nr Cleans clean up up the the object when when it it s s destroyed destroy protected void finalize finalize throws Throwable throwable this attributes attribute clear clear this attributes attribute null this children child null this fullName full name null this name name null this namespace namespace null this content content null this systemID null this parent parent null super finalize finalize Returns the the parent parent element element This method returns null for the the root root element element public IXMLElement i xml element getParent get parent return this parent parent Returns the the full full name name i i e e the the name name including include an an eventual eventual namespace namespace prefix prefix of of the the element element return the the name name or or null if the the element element only only contains contain PCDATA p c d a t a public String getFullName get full name return this fullName full name Returns the the name name of of the the element element return the the name name or or null if the the element element only only contains contain PCDATA p c d a t a public String getName get name return this name name Returns the the namespace namespace of of the the element element return the the namespace namespace or or null if no no namespace namespace is is associated associate with with the the element element public String getNamespace get namespace return this namespace namespace Sets set the the full full name name This method also also sets set the the short name name and and clears clear the the namespace namespace URI u r i param name name the the non non null name name public void setName set name String name name this name name name name this fullName full name name name this namespace namespace null Sets set the the name name param fullName full name the the non non null full full name name param namespace namespace the the namespace namespace URI u r i which which may may be be null public void setName set name String fullName full name String namespace namespace int index index fullName full name indexOf index of if namespace namespace null || || index index 0 0 this name name fullName full name else this name name fullName full name substring substring index index + + 1 1 this fullName full name fullName full name this namespace namespace namespace namespace Adds add a a child child element element param child child the the non non null child child to to add add public void addChild add child IXMLElement i xml element child child if child child null throw new IllegalArgumentException illegal argument child child must must not not be be null if child child getName get name null this children child isEmpty is empty IXMLElement i xml element lastChild last child IXMLElement i xml element this children child get get this children child size size 1 1 if lastChild last child getName get name null lastChild last child setContent set content lastChild last child getContent get content + + child child getContent get content return XMLElement xml element child child parent parent this this children child add add child child Inserts insert a a child child element element param child child the the non non null child child to to add add param index index where where to to put put the the child child public void insertChild insert child IXMLElement i xml element child child int index index if child child null throw new IllegalArgumentException illegal argument child child must must not not be be null if child child getName get name null this children child isEmpty is empty IXMLElement i xml element lastChild last child IXMLElement i xml element this children child get get this children child size size 1 1 if lastChild last child getName get name null lastChild last child setContent set content lastChild last child getContent get content + + child child getContent get content return XMLElement xml element child child parent parent this this children child add add index index child child Removes remove a a child child element element param child child the the non non null child child to to remove remove public void removeChild remove child IXMLElement i xml element child child if child child null throw new IllegalArgumentException illegal argument child child must must not not be be null this children child remove remove child child Removes remove the the child child located locate at at a a certain certain index index param index index the the index index of of the the child child where where the the first first child child has ha index index 0 0 public void removeChildAtIndex remove child at index int index index this children child remove remove index index Returns an an enumeration enumeration of of all all child child iterator iterator return the the non non null enumeration enumeration public Iterator iterator iterateChildren iterate child return this children child iterator iterator Returns whether wheth the the element element is is a a leaf leaf element element return true if the the element element has ha no no children child public boolean isLeaf is leaf return this children child isEmpty is empty Returns whether wheth the the element element has ha children child return true if the the element element has ha children child public boolean hasChildren ha child return this children child isEmpty is empty Returns the the number number of of children child return the the count count public int getChildrenCount get child count return this children child size size Returns a a vector vector containing contain all all the the child child iterator iterator return the the vector vector public ArrayList list getChildren get child return this children child Returns the the child child at at a a specific specific index index param index index the the index index of of the the child child return the the non non null child child throws java lang lang ArrayIndexOutOfBoundsException index out of bound if the the index index is is out out of of bounds bound public IXMLElement i xml element getChildAtIndex get child at index int index index throws ArrayIndexOutOfBoundsException index out of bound return IXMLElement i xml element this children child get get index index Searches search a a child child element element param name name the the full full name name of of the the child child to to search search for return the the child child element element or or null if no no such such child child was wa found found public IXMLElement i xml element getFirstChildNamed get first child name String name name Iterator iterator enm enm this children child iterator iterator while enm enm hasNext ha next IXMLElement i xml element child child IXMLElement i xml element enm enm next next String childName child name child child getFullName get full name if childName child name null childName child name equals equal name name return child child return null Searches search a a child child element element param name name the the name name of of the the child child to to search search for param namespace namespace the the namespace namespace which which may may be be null return the the child child element element or or null if no no such such child child was wa found found public IXMLElement i xml element getFirstChildNamed get first child name String name name String namespace namespace Iterator iterator enm enm this children child iterator iterator while enm enm hasNext ha next IXMLElement i xml element child child IXMLElement i xml element enm enm next next String str str child child getName get name boolean found found str str null str str equals equal name name str str child child getNamespace get namespace if str str null found found name name null else found found str str equals equal namespace namespace if found found return child child return null Returns a a vector vector of of all all child child iterator iterator named name I i name name I i param name name the the full full name name of of the the children child to to search search for return the the non non null vector vector of of child child iterator iterator public ArrayList list getChildrenNamed get child name String name name ArrayList list result result new ArrayList list this children child size size Iterator iterator enm enm this children child iterator iterator while enm enm hasNext ha next IXMLElement i xml element child child IXMLElement i xml element enm enm next next String childName child name child child getFullName get full name if childName child name null childName child name equals equal name name result result add add child child return result result Returns a a vector vector of of all all child child iterator iterator named name I i name name I i param name name the the name name of of the the children child to to search search for param namespace namespace the the namespace namespace which which may may be be null return the the non non null vector vector of of child child iterator iterator public ArrayList list getChildrenNamed get child name String name name String namespace namespace ArrayList list result result new ArrayList list this children child size size Iterator iterator enm enm this children child iterator iterator while enm enm hasNext ha next IXMLElement i xml element child child IXMLElement i xml element enm enm next next String str str child child getName get name boolean found found str str null str str equals equal name name str str child child getNamespace get namespace if str str null found found name name null else found found str str equals equal namespace namespace if found found result result add add child child return result result Searches search an an attribute attribute param fullName full name the the non non null full full name name of of the the attribute attribute return the the attribute attribute or or null if the the attribute attribute does doe not not exist private XMLAttribute xml attribute findAttribute find attribute String fullName full name Iterator iterator enm enm this attributes attribute iterator iterator while enm enm hasNext ha next XMLAttribute xml attribute attr attr XMLAttribute xml attribute enm enm next next if attr attr getFullName get full name equals equal fullName full name return attr attr return null Searches search an an attribute attribute param name name the the non non null short name name of of the the attribute attribute param namespace namespace the the name name space space which which may may be be null return the the attribute attribute or or null if the the attribute attribute does doe not not exist private XMLAttribute xml attribute findAttribute find attribute String name name String namespace namespace Iterator iterator enm enm this attributes attribute iterator iterator while enm enm hasNext ha next XMLAttribute xml attribute attr attr XMLAttribute xml attribute enm enm next next boolean found found attr attr getName get name equals equal name name if namespace namespace null found found attr attr getNamespace get namespace null else found found namespace namespace equals equal attr attr getNamespace get namespace if found found return attr attr return null Returns the the number number of of attributes attribute public int getAttributeCount get attribute count return this attributes attribute size size deprecated deprecate As a of of NanoXML nano xml Java 2 2 1 1 replaced replace by by link link getAttribute get attribute java lang lang String java lang lang String Returns the the value value of of an an attribute attribute param name name the the non non null name name of of the the attribute attribute return the the value value or or null if the the attribute attribute does doe not not exist public String getAttribute get attribute String name name return this getAttribute get attribute name name null Returns the the value value of of an an attribute attribute param name name the the non non null full full name name of of the the attribute attribute param defaultValue value the the default value value of of the the attribute attribute return the the value value or or defaultValue value if the the attribute attribute does doe not not exist public String getAttribute get attribute String name name String defaultValue value XMLAttribute xml attribute attr attr this findAttribute find attribute name name if attr attr null return defaultValue value else return attr attr getValue get value Returns the the value value of of an an attribute attribute param name name the the non non null name name of of the the attribute attribute param namespace namespace the the namespace namespace URI u r i which which may may be be null param defaultValue value the the default value value of of the the attribute attribute return the the value value or or defaultValue value if the the attribute attribute does doe not not exist public String getAttribute get attribute String name name String namespace namespace String defaultValue value XMLAttribute xml attribute attr attr this findAttribute find attribute name name namespace namespace if attr attr null return defaultValue value else return attr attr getValue get value Returns the the value value of of an an attribute attribute param name name the the non non null full full name name of of the the attribute attribute param defaultValue value the the default value value of of the the attribute attribute return the the value value or or defaultValue value if the the attribute attribute does doe not not exist public int getAttribute get attribute String name name int defaultValue value String value value this getAttribute get attribute name name Integer toString to defaultValue value return Integer parseInt parse value value Returns the the value value of of an an attribute attribute param name name the the non non null name name of of the the attribute attribute param namespace namespace the the namespace namespace URI u r i which which may may be be null param defaultValue value the the default value value of of the the attribute attribute return the the value value or or defaultValue value if the the attribute attribute does doe not not exist public int getAttribute get attribute String name name String namespace namespace int defaultValue value String value value this getAttribute get attribute name name namespace namespace Integer toString to defaultValue value return Integer parseInt parse value value Returns the the type type of of an an attribute attribute param name name the the non non null full full name name of of the the attribute attribute return the the type type or or null if the the attribute attribute does doe not not exist public String getAttributeType get attribute type String name name XMLAttribute xml attribute attr attr this findAttribute find attribute name name if attr attr null return null else return attr attr getType get type Returns the the namespace namespace of of an an attribute attribute param name name the the non non null full full name name of of the the attribute attribute return the the namespace namespace or or null if there there is is none none associated associate public String getAttributeNamespace get attribute namespace String name name XMLAttribute xml attribute attr attr this findAttribute find attribute name name if attr attr null return null else return attr attr getNamespace get namespace Returns the the type type of of an an attribute attribute param name name the the non non null name name of of the the attribute attribute param namespace namespace the the namespace namespace URI u r i which which may may be be null return the the type type or or null if the the attribute attribute does doe not not exist public String getAttributeType get attribute type String name name String namespace namespace XMLAttribute xml attribute attr attr this findAttribute find attribute name name namespace namespace if attr attr null return null else return attr attr getType get type Sets set an an attribute attribute param name name the the non non null full full name name of of the the attribute attribute param value value the the non non null value value of of the the attribute attribute public void setAttribute set attribute String name name String value value XMLAttribute xml attribute attr attr this findAttribute find attribute name name if attr attr null attr attr new XMLAttribute xml attribute name name name name null value value CDATA c d a t a this attributes attribute add add attr attr else attr attr setValue set value value value Sets set an an attribute attribute param fullName full name the the non non null full full name name of of the the attribute attribute param namespace namespace the the namespace namespace URI u r i of of the the attribute attribute which which may may be be null param value value the the non non null value value of of the the attribute attribute public void setAttribute set attribute String fullName full name String namespace namespace String value value int index index fullName full name indexOf index of String name name fullName full name substring substring index index + + 1 1 XMLAttribute xml attribute attr attr this findAttribute find attribute name name namespace namespace if attr attr null attr attr new XMLAttribute xml attribute fullName full name name name namespace namespace value value CDATA c d a t a this attributes attribute add add attr attr else attr attr setValue set value value value Removes remove an an attribute attribute param name name the the non non null name name of of the the attribute attribute public void removeAttribute remove attribute String name name for int i i 0 0 i i this attributes attribute size size i++ i++ XMLAttribute xml attribute attr attr XMLAttribute xml attribute this attributes attribute get get i i if attr attr getFullName get full name equals equal name name this attributes attribute remove remove i i return Removes remove an an attribute attribute param name name the the non non null name name of of the the attribute attribute param namespace namespace the the namespace namespace URI u r i of of the the attribute attribute which which may may be be null public void removeAttribute remove attribute String name name String namespace namespace for int i i 0 0 i i this attributes attribute size size i++ i++ XMLAttribute xml attribute attr attr XMLAttribute xml attribute this attributes attribute get get i i boolean found found attr attr getName get name equals equal name name if namespace namespace null found found attr attr getNamespace get namespace null else found found attr attr getNamespace get namespace equals equal namespace namespace if found found this attributes attribute remove remove i i return Returns an an enumeration enumeration of of all all attribute attribute names name return the the non non null enumeration enumeration public Iterator iterator iterateAttributeNames iterate attribute name ArrayList list result result new ArrayList list Iterator iterator enm enm this attributes attribute iterator iterator while enm enm hasNext ha next XMLAttribute xml attribute attr attr XMLAttribute xml attribute enm enm next next result result add add attr attr getFullName get full name return result result iterator iterator Returns whether wheth an an attribute attribute exists return true if the the attribute attribute exists public boolean hasAttribute ha attribute String name name return this findAttribute find attribute name name null Returns whether wheth an an attribute attribute exists return true if the the attribute attribute exists public boolean hasAttribute ha attribute String name name String namespace namespace return this findAttribute find attribute name name namespace namespace null Returns all all attributes attribute as a a a Properties property object return the the non non null set set public Properties property getAttributes get attribute Properties property result result new Properties property Iterator iterator enm enm this attributes attribute iterator iterator while enm enm hasNext ha next XMLAttribute xml attribute attr attr XMLAttribute xml attribute enm enm next next result result put put attr attr getFullName get full name attr attr getValue get value return result result Returns all all attributes attribute in in a a specific specific namespace namespace as a a a Properties property object param namespace namespace the the namespace namespace URI u r i of of the the attributes attribute which which may may be be null return the the non non null set set public Properties property getAttributesInNamespace get attribute in namespace String namespace namespace Properties property result result new Properties property Iterator iterator enm enm this attributes attribute iterator iterator while enm enm hasNext ha next XMLAttribute xml attribute attr attr XMLAttribute xml attribute enm enm next next if namespace namespace null if attr attr getNamespace get namespace null result result put put attr attr getName get name attr attr getValue get value else if namespace namespace equals equal attr attr getNamespace get namespace result result put put attr attr getName get name attr attr getValue get value return result result Returns the the system ID of of the the data data where where the the element element started start return the the system ID or or null if unknown unknown see see getLineNr get line nr public String getSystemID get return this systemID Returns the the line line number number in in the the data data where where the the element element started start return the the line line number number or or NO n o LINE l i n e if unknown unknown see see NO n o LINE l i n e see see getSystemID get public int getLineNr get line nr return this lineNr line nr Return the the PCDATA p c d a t a content content of of the the element element If the the element element has ha a a combination combination of of PCDATA p c d a t a content content and and child child iterator iterator the the PCDATA p c d a t a sections section can can be be retrieved retrieve as a unnamed unnam child child objects In in this case this method returns null return the the content content public String getContent get content return this content content Sets set the the PCDATA p c d a t a content content It it is is an an error to to call call this method with with a a non non null value value if there there are are child child objects param content content the the possibly possibly null content content public void setContent set content String content content this content content content content Returns true if the the element element equals equal another another element element param rawElement raw element the the element element to to compare compare to to public boolean equals equal Object rawElement raw element try return this equalsXMLElement equal xml element IXMLElement i xml element rawElement raw element catch ClassCastException cast e e return false Returns true if the the element element equals equal another another element element param rawElement raw element the the element element to to compare compare to to public boolean equalsXMLElement equal xml element IXMLElement i xml element elt elt if this name name equals equal elt elt getName get name return false if this attributes attribute size size elt elt getAttributeCount get attribute count return false Iterator iterator enm enm this attributes attribute iterator iterator while enm enm hasNext ha next XMLAttribute xml attribute attr attr XMLAttribute xml attribute enm enm next next if elt elt hasAttribute ha attribute attr attr getName get name attr attr getNamespace get namespace return false String value value elt elt getAttribute get attribute attr attr getName get name attr attr getNamespace get namespace null if attr attr getValue get value equals equal value value return false String type type elt elt getAttributeType get attribute type attr attr getName get name attr attr getNamespace get namespace if attr attr getType get type equals equal type type return false if this children child size size elt elt getChildrenCount get child count return false for int i i 0 0 i i this children child size size i++ i++ IXMLElement i xml element child1 child1 this getChildAtIndex get child at index i i IXMLElement i xml element child2 child2 elt elt getChildAtIndex get child at index i i if child1 child1 equalsXMLElement equal xml element child2 child2 return false return true 