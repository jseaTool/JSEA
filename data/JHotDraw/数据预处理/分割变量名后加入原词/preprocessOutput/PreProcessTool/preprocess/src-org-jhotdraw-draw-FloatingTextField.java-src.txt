FloatingTextField floating text field java 2 2 0 0 2006 2006 01 01 014 014 Copyright copyright c c 1996 1996 2006 2006 by by the the original original authors author of of JHotDraw jhotdraw and and all all its it contributors contributor JHotDraw jhotdraw org org All all rights right reserved reserve This software software is is the the confidential confidential and and proprietary proprietary information information of of JHotDraw jhotdraw org org Confidential confidential Information information You you shall shall not not disclose disclose such such Confidential confidential Information information and and shall shall use use it it only only in in accordance accordance with with the the terms term of of the the license license agreement agreement you you entered enter into into with with JHotDraw jhotdraw org org ??? ??? package org org jhotdraw jhotdraw draw draw import javax javax swing swing import java awt awt import java awt awt geom geom import java awt awt event event A a text text field field overlay overlay that that is is used use to to edit edit a a TextFigure text figure A a FloatingTextField floating text field requires require a a two two step step initialization initialization In in a a first first step step the the overlay overlay is is created create and and in in a a second second step step it it can can be be positioned position see see org org jhotdraw jhotdraw draw draw TextFigure text figure author author Werner wern Randelshofer randelshof version 2 2 0 0 2006 2006 01 01 14 14 Changed change to to support support double precison coordinates coordinate br 1 1 0 0 2003 2003 12 12 01 01 Derived derive from from JHotDraw jhotdraw 5 5 4b1 4b1 public class FloatingTextField floating text field private JTextField j text field editWidget edit widget private DrawingView drawing view view view public FloatingTextField floating text field editWidget edit widget new JTextField j text field 20 20 Creates create the the overlay overlay for the the given given Component component public void createOverlay create overlay DrawingView drawing view view view createOverlay create overlay view view null public void requestFocus request focus editWidget edit widget requestFocus request focus Creates create the the overlay overlay for the the given given Container container using using a a specific specific font font public void createOverlay create overlay DrawingView drawing view view view TextHolder text holder figure figure view view getContainer get container add add editWidget edit widget 0 0 Font font f f figure figure getFont get font FIXME f i x m e Should should scale scale with with fractional fractional value value f f f f deriveFont derive font f f getStyle get style float f f getSize get size view view getScaleFactor get scale factor editWidget edit widget setFont set font f f editWidget edit widget setForeground set foreground figure figure getTextColor get text color editWidget edit widget setBackground set background figure figure getFillColor get fill color this view view view view public Insets inset getInsets get inset return editWidget edit widget getInsets get inset Adds add an an action action listener listener public void addActionListener add action listener ActionListener action listener listener listener editWidget edit widget addActionListener add action listener listener listener Remove remove an an action action listener listener public void removeActionListener remove action listener ActionListener action listener listener listener editWidget edit widget removeActionListener remove action listener listener listener Positions position the the overlay overlay public void setBounds set bound Rectangle rectangle r r String text text editWidget edit widget setText set text text text editWidget edit widget setBounds set bound r r x x r r y y r r width width r r height height editWidget edit widget setVisible set visible true editWidget edit widget selectAll select all editWidget edit widget requestFocus request focus Gets get the the text text contents content of of the the overlay overlay public String getText get text return editWidget edit widget getText get text Gets get the the preferred prefer size size of of the the overlay overlay public Dimension dimension getPreferredSize get prefer size int cols col editWidget edit widget setColumns set column cols col return editWidget edit widget getPreferredSize get prefer size Removes remove the the overlay overlay public void endOverlay end overlay view view getContainer get container requestFocus request focus if editWidget edit widget null editWidget edit widget setVisible set visible false view view getContainer get container remove remove editWidget edit widget Rectangle rectangle bounds bound editWidget edit widget getBounds get bound view view getContainer get container repaint repaint bounds bound x x bounds bound y y bounds bound width width bounds bound height height 