AlignAction align action java 2 2 0 0 2006 2006 01 01 15 15 Copyright copyright c c 1996 1996 2006 2006 by by the the original original authors author of of JHotDraw jhotdraw and and all all its it contributors contributor JHotDraw jhotdraw org org All all rights right reserved reserve This software software is is the the confidential confidential and and proprietary proprietary information information of of JHotDraw jhotdraw org org Confidential confidential Information information You you shall shall not not disclose disclose such such Confidential confidential Information information and and shall shall use use it it only only in in accordance accordance with with the the terms term of of the the license license agreement agreement you you entered enter into into with with JHotDraw jhotdraw org org package org org jhotdraw jhotdraw draw draw action action import org org jhotdraw jhotdraw draw draw DrawingEditor drawing editor import org org jhotdraw jhotdraw draw draw Figure figure import org org jhotdraw jhotdraw draw draw FigureSelectionEvent figure selection event import org org jhotdraw jhotdraw draw draw TransformEdit transform edit import org org jhotdraw jhotdraw undo undo CompositeEdit composite edit import javax javax swing swing import java awt awt import java awt awt geom geom import java util util import javax javax swing swing undo undo Aligns align the the selected select figures figure XXX x x x Fire fire edit edit events event author author Werner wern Randelshofer randelshof version 2 2 0 0 2006 2006 01 01 15 15 Changed change to to support support double precision precision coordinates coordinate br 1 1 0 0 17 17 M???rz m???rz 2004 2004 Created create public abstract class AlignAction align action extends AbstractSelectedAction select action Creates create a a new instance instance public AlignAction align action DrawingEditor drawing editor editor editor super editor editor public void updateEnabledState update enable state if getView get view null setEnabled set enable getView get view isEnabled is enable getView get view getSelectionCount get selection count 1 1 else setEnabled set enable false public void actionPerformed action perform java awt awt event event ActionEvent action event e e CompositeEdit composite edit edit edit new CompositeEdit composite edit labels label getString get align align fireUndoableEditHappened fire undoable edit happen edit edit alignFigures align figure getView get view getSelectedFigures get select figure getSelectionBounds get selection bound fireUndoableEditHappened fire undoable edit happen edit edit protected abstract void alignFigures align figure Collection collection selectedFigures select figure Rectangle2D rectangle2 d Double selectionBounds selection bound Returns the the bounds bound of of the the selected select figures figure protected Rectangle2D rectangle2 d Double getSelectionBounds get selection bound Rectangle2D rectangle2 d Double bounds bound null for Iterator iterator i i getView get view getSelectedFigures get select figure iterator iterator i i hasNext ha next Figure figure f f Figure figure i i next next if bounds bound null bounds bound f f getBounds get bound else bounds bound add add f f getBounds get bound return bounds bound public static class North north extends AlignAction align action public North north DrawingEditor drawing editor editor editor super editor editor labels label configureAction configure action this alignNorth align north protected void alignFigures align figure Collection collection selectedFigures select figure Rectangle2D rectangle2 d Double selectionBounds selection bound double y y selectionBounds selection bound y y for Iterator iterator i i getView get view getSelectedFigures get select figure iterator iterator i i hasNext ha next Figure figure f f Figure figure i i next next f f willChange will change Rectangle2D rectangle2 d Double b b f f getBounds get bound AffineTransform affine transform tx tx new AffineTransform affine transform tx tx translate translate 0 0 y y b b y y f f basicTransform basic transform tx tx f f changed change fireUndoableEditHappened fire undoable edit happen new TransformEdit transform edit f f tx tx public static class East east extends AlignAction align action public East east DrawingEditor drawing editor editor editor super editor editor labels label configureAction configure action this alignEast align east protected void alignFigures align figure Collection collection selectedFigures select figure Rectangle2D rectangle2 d Double selectionBounds selection bound double x x selectionBounds selection bound x x + + selectionBounds selection bound width width for Iterator iterator i i getView get view getSelectedFigures get select figure iterator iterator i i hasNext ha next Figure figure f f Figure figure i i next next f f willChange will change Rectangle2D rectangle2 d Double b b f f getBounds get bound AffineTransform affine transform tx tx new AffineTransform affine transform tx tx translate translate x x b b x x b b width width 0 0 f f basicTransform basic transform tx tx f f changed change fireUndoableEditHappened fire undoable edit happen new TransformEdit transform edit f f tx tx public static class West west extends AlignAction align action public West west DrawingEditor drawing editor editor editor super editor editor labels label configureAction configure action this alignWest align west protected void alignFigures align figure Collection collection selectedFigures select figure Rectangle2D rectangle2 d Double selectionBounds selection bound double x x selectionBounds selection bound x x for Iterator iterator i i getView get view getSelectedFigures get select figure iterator iterator i i hasNext ha next Figure figure f f Figure figure i i next next f f willChange will change Rectangle2D rectangle2 d Double b b f f getBounds get bound AffineTransform affine transform tx tx new AffineTransform affine transform tx tx translate translate x x b b x x 0 0 f f basicTransform basic transform tx tx f f changed change fireUndoableEditHappened fire undoable edit happen new TransformEdit transform edit f f tx tx public static class South south extends AlignAction align action public South south DrawingEditor drawing editor editor editor super editor editor labels label configureAction configure action this alignSouth align south protected void alignFigures align figure Collection collection selectedFigures select figure Rectangle2D rectangle2 d Double selectionBounds selection bound double y y selectionBounds selection bound y y + + selectionBounds selection bound height height for Iterator iterator i i getView get view getSelectedFigures get select figure iterator iterator i i hasNext ha next Figure figure f f Figure figure i i next next f f willChange will change Rectangle2D rectangle2 d Double b b f f getBounds get bound AffineTransform affine transform tx tx new AffineTransform affine transform tx tx translate translate 0 0 y y b b y y b b height height f f basicTransform basic transform tx tx f f changed change fireUndoableEditHappened fire undoable edit happen new TransformEdit transform edit f f tx tx public static class Vertical vertical extends AlignAction align action public Vertical vertical DrawingEditor drawing editor editor editor super editor editor labels label configureAction configure action this alignVertical align vertical protected void alignFigures align figure Collection collection selectedFigures select figure Rectangle2D rectangle2 d Double selectionBounds selection bound double y y selectionBounds selection bound y y + + selectionBounds selection bound height height 2 2 for Iterator iterator i i getView get view getSelectedFigures get select figure iterator iterator i i hasNext ha next Figure figure f f Figure figure i i next next f f willChange will change Rectangle2D rectangle2 d Double b b f f getBounds get bound AffineTransform affine transform tx tx new AffineTransform affine transform tx tx translate translate 0 0 y y b b y y b b height height 2 2 f f basicTransform basic transform tx tx f f changed change fireUndoableEditHappened fire undoable edit happen new TransformEdit transform edit f f tx tx public static class Horizontal horizontal extends AlignAction align action public Horizontal horizontal DrawingEditor drawing editor editor editor super editor editor labels label configureAction configure action this alignHorizontal align horizontal protected void alignFigures align figure Collection collection selectedFigures select figure Rectangle2D rectangle2 d Double selectionBounds selection bound double x x selectionBounds selection bound x x + + selectionBounds selection bound width width 2 2 for Iterator iterator i i getView get view getSelectedFigures get select figure iterator iterator i i hasNext ha next Figure figure f f Figure figure i i next next f f willChange will change Rectangle2D rectangle2 d Double b b f f getBounds get bound AffineTransform affine transform tx tx new AffineTransform affine transform tx tx translate translate x x b b x x b b width width 2 2 0 0 f f basicTransform basic transform tx tx f f changed change fireUndoableEditHappened fire undoable edit happen new TransformEdit transform edit f f tx tx 