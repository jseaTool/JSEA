TriangleFigure triangle figure java 1 1 0 0 2006 2006 03 03 27 27 Copyright copyright c c 1996 1996 2006 2006 by by the the original original authors author of of JHotDraw jhotdraw and and all all its it contributors contributor JHotDraw jhotdraw org org All all rights right reserved reserve This software software is is the the confidential confidential and and proprietary proprietary information information of of JHotDraw jhotdraw org org Confidential confidential Information information You you shall shall not not disclose disclose such such Confidential confidential Information information and and shall shall use use it it only only in in accordance accordance with with the the terms term of of the the license license agreement agreement you you entered enter into into with with JHotDraw jhotdraw org org package org org jhotdraw jhotdraw draw draw import java awt awt import java awt awt geom geom import java io io import java util util import javax javax swing swing import static org org jhotdraw jhotdraw draw draw AttributeKeys attribute key import org org jhotdraw jhotdraw geom geom A a triangle triangle with with same same dimensions dimension as a its it enclosing enclosing rectangle rectangle and and apex apex at at any any of of 8 8 places place author author Werner wern Randelshofer randelshof version 1 1 0 0 2006 2006 03 03 27 27 Created create public class TriangleFigure triangle figure extends AttributedFigure attribute figure The the bounds bound of of the the triangle triangle figure figure private Rectangle2D rectangle2 d Double rectangle rectangle Creates create a a new instance instance public TriangleFigure triangle figure this 0 0 0 0 0 0 0 0 public TriangleFigure triangle figure Orientation orientation direction direction this 0 0 0 0 0 0 0 0 direction direction public TriangleFigure triangle figure double x x double y y double width width double height height this x x y y width width height height Orientation orientation NORTH n o r t h public TriangleFigure triangle figure double x x double y y double width width double height height Orientation orientation direction direction rectangle rectangle new Rectangle2D rectangle2 d Double x x y y width width height height setFillColor set fill color Color color white white setStrokeColor set stroke color Color color black black ORIENTATION o r i e n t a t i o n set set this direction direction DRAWING d r a w i n g SHAPE s h a p e AND a n d BOUNDS b o u n d s ATTRIBUTES a t t r i b u t e s EDITING e d i t i n g CONNECTING c o n n e c t i n g public Connector connector findConnector find connector Point2D point2 d Double p p ConnectionFigure connection figure prototype prototype return new ChopTriangleConnector chop triangle connector this public Connector connector findCompatibleConnector find compatible connector Connector connector c c boolean isStartConnector is start connector return new ChopTriangleConnector chop triangle connector this Returns the the Figures figure connector connector for the the specified specify location location By by default a a ChopDiamondConnector chop diamond connector is is returned see see ChopDiamondConnector chop diamond connector public Connector connector findConnector find connector Point2D point2 d Double p p ConnectionFigure connection figure prototype prototype return new ChopTriangleConnector chop triangle connector this public Connector connector findCompatibleConnector find compatible connector Connector connector c c boolean isStart is start return new ChopTriangleConnector chop triangle connector this COMPOSITE c o m p o s i t e FIGURES f i g u r e s CLONING c l o n i n g EVENT e v e n t HANDLING h a n d l i n g public Rectangle2D rectangle2 d Double getBounds get bound Rectangle2D rectangle2 d Double bounds bound Rectangle2D rectangle2 d Double rectangle rectangle clone clone return bounds bound protected void drawFill draw fill Graphics2D graphics2 d g g Rectangle2D rectangle2 d Double r r Rectangle2D rectangle2 d Double rectangle rectangle clone clone Shape shape triangle triangle getBezierPath get bezi path double grow grow AttributeKeys attribute key getPerpendicularFillGrowth get perpendicular fill growth this if grow grow 0d 0d GrowStroke grow stroke gs g new GrowStroke grow stroke float grow grow float AttributeKeys attribute key getStrokeTotalWidth get stroke total width this STROKE s t r o k e MITER m i t e r LIMIT l i m i t FACTOR f a c t o r get get this triangle triangle gs g createStrokedShape create stroke shape triangle triangle g g fill fill triangle triangle protected void drawStroke draw stroke Graphics2D graphics2 d g g Shape shape triangle triangle getBezierPath get bezi path double grow grow AttributeKeys attribute key getPerpendicularDrawGrowth get perpendicular draw growth this if grow grow 0d 0d GrowStroke grow stroke gs g new GrowStroke grow stroke float grow grow float AttributeKeys attribute key getStrokeTotalWidth get stroke total width this STROKE s t r o k e MITER m i t e r LIMIT l i m i t FACTOR f a c t o r get get this triangle triangle gs g createStrokedShape create stroke shape triangle triangle g g draw draw triangle triangle public Collection collection Handle handle createHandles create handle int detailLevel detail level LinkedList link list Handle handle handles handle LinkedList link list Handle handle super createHandles create handle detailLevel detail level if detailLevel detail level 0 0 handles handle add add new TriangleRotationHandler triangle rotation handler this return handles handle public BezierPath bezi path getBezierPath get bezi path Rectangle2D rectangle2 d Double r r Rectangle2D rectangle2 d Double rectangle rectangle clone clone BezierPath bezi path triangle triangle new BezierPath bezi path switch ORIENTATION o r i e n t a t i o n get get this case NORTH n o r t h default triangle triangle moveTo move to float r r x x + + r r width width 2 2 float r r y y triangle triangle lineTo line to float r r x x + + r r width width float r r y y + + r r height height triangle triangle lineTo line to float r r x x float r r y y + + r r height height break case NORTH n o r t h EAST e a s t triangle triangle moveTo move to float r r x x float r r y y triangle triangle lineTo line to float r r x x + + r r width width float r r y y triangle triangle lineTo line to float r r x x + + r r width width float r r y y + + r r height height break case EAST e a s t triangle triangle moveTo move to float r r x x float r r y y triangle triangle lineTo line to float r r x x + + r r width width float r r y y + + r r height height 2d 2d triangle triangle lineTo line to float r r x x float r r y y + + r r height height break case SOUTH s o u t h EAST e a s t triangle triangle moveTo move to float r r x x + + r r width width float r r y y triangle triangle lineTo line to float r r x x + + r r width width float r r y y + + r r height height triangle triangle lineTo line to float r r x x float r r y y + + r r height height break case SOUTH s o u t h triangle triangle moveTo move to float r r x x + + r r width width 2 2 float r r y y + + r r height height triangle triangle lineTo line to float r r x x float r r y y triangle triangle lineTo line to float r r x x + + r r width width float r r y y break case SOUTH s o u t h WEST w e s t triangle triangle moveTo move to float r r x x + + r r width width float r r y y + + r r height height triangle triangle lineTo line to float r r x x float r r y y + + r r height height triangle triangle lineTo line to float r r x x float r r y y break case WEST w e s t triangle triangle moveTo move to float r r x x float r r y y + + r r height height 2 2 triangle triangle lineTo line to float r r x x + + r r width width float r r y y triangle triangle lineTo line to float r r x x + + r r width width float r r y y + + r r height height break case NORTH n o r t h WEST w e s t triangle triangle moveTo move to float r r x x float r r y y + + r r height height triangle triangle lineTo line to float r r x x float r r y y triangle triangle lineTo line to float r r x x + + r r width width float r r y y break triangle triangle setClosed set close true return triangle triangle Checks check if a a Point2D point2 d Double is is inside inside the the figure figure public boolean contains contain Point2D point2 d Double p p Shape shape triangle triangle getBezierPath get bezi path double grow grow AttributeKeys attribute key getPerpendicularHitGrowth get perpendicular hit growth this if grow grow 0d 0d GrowStroke grow stroke gs g new GrowStroke grow stroke float grow grow float AttributeKeys attribute key getStrokeTotalWidth get stroke total width this STROKE s t r o k e MITER m i t e r LIMIT l i m i t FACTOR f a c t o r get get this triangle triangle gs g createStrokedShape create stroke shape triangle triangle return triangle triangle contains contain p p public void basicSetBounds basic set bound Point2D point2 d Double anchor anchor Point2D point2 d Double lead rectangle rectangle x x Math math min min anchor anchor x x lead x x rectangle rectangle y y Math math min min anchor anchor y y lead y y rectangle rectangle width width Math math max max 0 0 1 1 Math math abs ab lead x x anchor anchor x x rectangle rectangle height height Math math max max 0 0 1 1 Math math abs ab lead y y anchor anchor y y public Rectangle2D rectangle2 d Double getFigureDrawBounds get figure draw bound double totalStrokeWidth total stroke width AttributeKeys attribute key getStrokeTotalWidth get stroke total width this double width width 0d 0d if STROKE s t r o k e COLOR c o l o r get get this null switch STROKE s t r o k e PLACEMENT p l a c e m e n t get get this case INSIDE i n s e width width 0d 0d break case OUTSIDE o u t s e if STROKE s t r o k e JOIN j o i n get get this BasicStroke basic stroke JOIN j o i n MITER m i t e r width width totalStrokeWidth total stroke width STROKE s t r o k e MITER m i t e r LIMIT l i m i t FACTOR f a c t o r get get this else width width totalStrokeWidth total stroke width break case CENTER c e n t e r if STROKE s t r o k e JOIN j o i n get get this BasicStroke basic stroke JOIN j o i n MITER m i t e r width width totalStrokeWidth total stroke width 2d 2d STROKE s t r o k e MITER m i t e r LIMIT l i m i t FACTOR f a c t o r get get this else width width totalStrokeWidth total stroke width 2d 2d break width++ width++ Rectangle2D rectangle2 d Double r r getBounds get bound Geom geom grow grow r r width width width width return r r public Point2D point2 d Double chop chop Point2D point2 d Double p p Shape shape triangle triangle getBezierPath get bezi path double grow grow AttributeKeys attribute key getPerpendicularHitGrowth get perpendicular hit growth this if grow grow 0d 0d GrowStroke grow stroke gs g new GrowStroke grow stroke float grow grow float AttributeKeys attribute key getStrokeTotalWidth get stroke total width this STROKE s t r o k e MITER m i t e r LIMIT l i m i t FACTOR f a c t o r get get this triangle triangle gs g createStrokedShape create stroke shape triangle triangle return Geom geom chop chop triangle triangle p p Moves move the the Figure figure to to a a new location location param tx tx the the transformation transformation matrix matrix public void basicTransform basic transform AffineTransform affine transform tx tx Point2D point2 d Double anchor anchor getStartPoint get start point Point2D point2 d Double lead getEndPoint get end point basicSetBounds basic set bound Point2D point2 d Double tx tx transform transform anchor anchor anchor anchor Point2D point2 d Double tx tx transform transform lead lead public TriangleFigure triangle figure clone clone TriangleFigure triangle figure that that TriangleFigure triangle figure super clone clone that that rectangle rectangle Rectangle2D rectangle2 d Double this rectangle rectangle clone clone return that that public void restoreTo restore to Object geometry geometry Rectangle2D rectangle2 d Double r r Rectangle2D rectangle2 d Double geometry geometry rectangle rectangle x x r r x x rectangle rectangle y y r r y y rectangle rectangle width width r r width width rectangle rectangle height height r r height height public Object getRestoreData get restore data return rectangle rectangle clone clone 