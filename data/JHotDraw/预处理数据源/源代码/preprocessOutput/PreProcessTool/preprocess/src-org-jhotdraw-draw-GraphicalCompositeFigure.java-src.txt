org jhotdraw draw java io i o exception org jhotdraw util java awt java awt geom java util javax swing undo javax swing event org jhotdraw draw attribute key org jhotdraw geom org jhotdraw xml dom input org jhotdraw xml dom output graphical composite figure composite figure hash map attribute key object attribute hash map attribute key object hash set attribute key forbid attribute figure presentation figure presentation figure handler presentation figure handler presentation figure handler presentation figure handler figure listener undoable edit listener graphical composite figure owner presentation figure handler graphical composite figure owner owner owner figure request remove figure event e owner remove e get figure figure remove figure event evt figure change figure event e owner is change owner will change owner fire figure change e owner change figure add figure event e figure attribute change figure event e figure area invalidate figure event e owner is change owner fire area invalidate e get invalidate area undoable edit happen undoable edit event e owner fire undoable edit happen e get edit graphical composite figure null graphical composite figure figure presentation figure super set presentation figure presentation figure rectangle2 d get bound get presentation figure null super get bound get presentation figure get bound contain point2 d p get presentation figure null get presentation figure contain p super contain p add notify drawing drawing super add notify drawing get presentation figure null get presentation figure add notify drawing remove notify drawing drawing super remove notify drawing get presentation figure null get presentation figure remove notify drawing rectangle2 d get figure draw bound rectangle2 d r get presentation figure null rectangle2 d presentation bound get presentation figure get draw bound r super get figure draw bound r is empty r presentation bound r add presentation bound r super get figure draw bound r basic set bound point2 d anchor point2 d lead get layout null super basic set bound anchor lead basic set presentation figure bound anchor lead rectangle2 d r get layout layout anchor lead basic set presentation figure bound point2 d r get x r get y point2 d math max lead x r get max x math max lead y r get max y invalidate super basic set bound point2 d anchor point2 d lead super basic set bound anchor lead basic set presentation figure bound point2 d anchor point2 d lead get presentation figure null get presentation figure basic set bound anchor lead basic transform affine transform tx super basic transform tx get presentation figure null get presentation figure basic transform tx draw figure graphics2 d g draw presentation figure g super draw figure g draw presentation figure graphics2 d g get presentation figure null get presentation figure draw g collection handle create handle detail level 