org jhotdraw draw org jhotdraw util java awt java awt geom org jhotdraw draw attribute key org jhotdraw geom chop round rect connector chop box connector chop round rect connector chop round rect connector figure owner super owner point2 d chop figure target point2 d from target get connector target target round rectangle figure rrf round rectangle figure target rectangle2 d out rrf get bound grow s t r o k e p l a c e m e n t get target c e n t e r grow attribute key get stroke total width target 2d o u t s id e grow attribute key get stroke total width target i n s id e grow 0 geom grow out grow grow rectangle2 d inner rectangle2 d out clone gw rrf get arc width + grow 2 2 gh rrf get arc height + grow 2 2 inner x gw inner y gh inner width+ gw 2 inner height+ gh 2 angle geom point to angle out from point2 d p geom angle to point out geom point to angle out from p x out x || p x out x + out width p y math min math max p y inner y inner y + inner height p x math min math max p x inner x inner x + inner width p 