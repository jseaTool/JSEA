org jhotdraw xml java util javax xml parser javax xml transform javax xml transform dom javax xml transform stream org w3c dom java io java awt javax dom input dom input hash map string object idobject hash map string object document document node current dom factory factory javax dom input dom factory factory input stream in i o exception factory factory transformer t transformer factory instance transformer dom result result dom result t transform stream source in result document document result get node current document transformer exception e i o exception error i o exception e get message error init cause e error javax dom input dom factory factory reader in i o exception factory factory transformer t transformer factory instance transformer dom result result dom result t transform stream source in result document document result get node current document transformer exception e i o exception error i o exception e get message error init cause e error string get tag name element current get tag name string get attribute string name string value string value element current get attribute name value length 0 ? value value string get text get text null string get text string value current get child node get length 0 value string builder buf string builder get text current buf buf to string get text node n string builder buf n get node value null buf append n get node value node list child n get child node i 0 i child get length i++ get text child item i buf java util list string get inherit attribute string name link list string value link list string node node current node null string value string element node get attribute name value add first value node node get parent node value get attribute string name value string value element current get attribute name value length 0 ? value decode value value get attribute string name value string value element current get attribute name value length 0 ? value parse value get attribute string name value string value element current get attribute name value length 0 ? value value of value value get element count count 0 node list list current get child node i 0 i list get length i++ node node list item i node element count++ count get element count string tag name count 0 node list list current get child node i 0 i list get length i++ node node list item i node element element node get tag name equal tag name count++ count open element index count 0 node list list current get child node len list get length i 0 i len i++ node node list item i node element count++ index current node open element string tag name count 0 node list list current get child node len list get length i 0 i len i++ node node list item i node element element node get tag name equal tag name current node illegal argument exception element not found + tag name open element string tag name index count 0 node list list current get child node len list get length i 0 i len i++ node node list item i node element element node get tag name equal tag name count++ index current node illegal argument exception no such child + tag name + + index+ close element current current get parent node object read object i o exception read object 0 object read object index i o exception 