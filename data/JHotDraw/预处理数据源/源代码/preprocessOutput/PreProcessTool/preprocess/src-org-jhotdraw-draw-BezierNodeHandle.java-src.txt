org jhotdraw draw org jhotdraw util org jhotdraw undo java awt java awt event java awt geom java util org jhotdraw geom bezi node handle handle index composite edit edit bezi path node old node bezi node handle bezi figure owner index super owner index index draw graphics2 d g bezi figure f get bezi figure f get point count index bezi path node v f get node index v mask 0 draw rectangle g color black color white v mask bezi path c1 m a s k || v mask bezi path c2 m a s k || f is close v mask bezi path c1 m a s k | bezi path c2 m a s k index 0 || index f get node count 1 draw diamond g color black color white draw circle g color black color white bezi figure get bezi figure bezi figure get owner point get location get bezi figure get point count index ? view drawing to view get bezi figure get point index 0 point 10 10 rectangle basic get bound rectangle r rectangle get location r grow get handlesize 2 get handlesize 2 r track start point anchor modifier ex bezi figure figure get bezi figure view get drawing fire undoable edit happen edit composite edit punkt verschieben point2 d location view get constrain constrain point view view to drawing get location point2 d p view get constrain constrain point view view to drawing anchor old node figure get node index fire handle request secondary handle track step point anchor point lead modifier ex bezi figure figure get bezi figure figure will change point2 d p view get constrain constrain point view view to drawing lead bezi path node n figure get node index fire area invalidate n n move to p fire area invalidate n figure basic set node index n figure change fire area invalidate bezi path node v rectangle2 d dr rectangle2 d v x 0 v y 0 0 0 i 1 i 3 i++ dr add v x i v y i rectangle vr view drawing to view dr vr grow get handlesize get handlesize fire area invalidate vr track end point anchor point lead modifier ex 