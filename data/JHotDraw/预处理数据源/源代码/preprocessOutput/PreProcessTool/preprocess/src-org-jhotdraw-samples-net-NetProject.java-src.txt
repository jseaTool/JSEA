org jhotdraw sample net java util pref org jhotdraw gui org jhotdraw io org jhotdraw undo org jhotdraw util java awt java bean java io java lang reflect javax swing javax swing border org jhotdraw app org jhotdraw app action org jhotdraw draw org jhotdraw draw action org jhotdraw xml org jhotdraw sample pert figure net project project undo redo manager undo drawing editor editor grid constrain visible constrain grid constrain 10 10 grid constrain invisible constrain grid constrain 1 1 preference pref button toggle grid button net project init super init init component j panel zoom button panel j panel border layout scroll pane set layout placard scroll pane layout scroll pane set border empty border 0 0 0 0 set editor drawing editor view set dom factory net factory undo undo redo manager view set drawing drawing view get drawing add undoable edit listener undo init action undo add property change listener property change listener property change property change event evt set ha unsav change undo ha significant edit resource bundle util label resource bundle util get l a f bundle org jhotdraw draw label j panel placard panel j panel border layout javax swing button p button p button tool bar button factory create zoom button view p button put client property quaqua button style placard p button put client property quaqua component visual margin inset 0 0 0 0 p button set font u i manager get font small system font placard panel add p button border layout w e s t toggle grid button p button tool bar button factory create toggle grid button view p button put client property quaqua button style placard p button put client property quaqua component visual margin inset 0 0 0 0 p button set font u i manager get font small system font label configure tool bar button p button align grid small placard panel add p button border layout e a s t scroll pane add placard panel j scroll pane l o w e r l e f t c o r n e r pref preference user node get toggle grid button set select pref get project grid visible false set scale factor pref get project scale factor 1d view add property change listener property change listener property change property change event evt string name evt get property name name equal constrain pref put project grid visible constrain evt get value is visible fire property change grid visible constrain evt get old value is visible constrain evt get value is visible name equal scale factor pref put project scale factor evt get value fire property change scale factor evt get old value evt get value drawing editor get editor editor set editor drawing editor value drawing editor old value editor old value null old value remove view editor value value null value add view set grid visible value 