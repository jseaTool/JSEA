org jhotdraw xml java awt java util java io nanoxml nano xml lite dom output dom output string doctype hash map object string objectid hash map string object prototype xml element document xml element current dom factory factory stack xml element stack nano xml lite dom output dom factory factory factory factory objectid hash map object string document xml element hash map false false current document stack stack xml element stack push current save output stream out i o exception writer w output stream writer out u t f8 save w w flush save writer out i o exception doctype null out write d o c t y p e out write doctype out write xml element document get child get 0 write out print print writer out xml element document get child get 0 print out open element string tag name xml element element xml element hash map false false element set name tag name current add child element stack push current current element close element current xml element stack pop add comment string comment 