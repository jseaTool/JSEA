org jhotdraw draw java util java awt java awt geom org jhotdraw geom org jhotdraw xml dom input org jhotdraw xml dom output org jhotdraw xml dom storable elbow liner liner dom storable elbow liner collection handle create handle bezi path path null lineout connection figure figure bezi path path line connection figure figure get bezi path connector start figure get start connector connector end figure get end connector start null || end null || path null point2 d sp start find start figure point2 d ep end find end figure path clear path add bezi path node sp x sp y sp x ep x || sp y ep y path add bezi path node ep x ep y rectangle2 d sb start get bound sb x+ 5d sb y+ 5d sb width 10d sb height 10d rectangle2 d eb end get bound eb x+ 5d eb y+ 5d eb width 10d eb height 10d soutcode sb outcode sp soutcode 0 soutcode geom outcode sb eb eoutcode eb outcode ep eoutcode 0 eoutcode geom outcode eb sb soutcode geom o u t t o p | geom o u t b o t t o m 0 eoutcode geom o u t t o p | geom o u t b o t t o m 0 path add bezi path node sp x sp y + ep y 2 path add bezi path node ep x sp y + ep y 2 soutcode geom o u t l e f t | geom o u t r i g h t 0 eoutcode geom o u t l e f t | geom o u t r i g h t 0 path add bezi path node sp x + ep x 2 sp y path add bezi path node sp x + ep x 2 ep y path add bezi path node ep x ep y path invalidate path read dom input in write dom output out liner clone liner super clone clone not support exception ex internal error error internal error ex get message error init cause ex error 