org jhotdraw draw action org jhotdraw draw drawing editor org jhotdraw draw figure org jhotdraw draw figure selection event org jhotdraw draw transform edit org jhotdraw undo composite edit javax swing java awt java awt geom java util javax swing undo align action select action align action drawing editor editor super editor update enable state get view null set enable get view is enable get view get selection count 1 set enable false action perform java awt event action event e composite edit edit composite edit label get string align fire undoable edit happen edit align figure get view get select figure get selection bound fire undoable edit happen edit align figure collection select figure rectangle2 d selection bound rectangle2 d get selection bound rectangle2 d bound null iterator i get view get select figure iterator i ha next figure f figure i next bound null bound f get bound bound add f get bound bound north align action north drawing editor editor super editor label configure action align north align figure collection select figure rectangle2 d selection bound y selection bound y iterator i get view get select figure iterator i ha next figure f figure i next f will change rectangle2 d b f get bound affine transform tx affine transform tx translate 0 y b y f basic transform tx f change fire undoable edit happen transform edit f tx east align action east drawing editor editor super editor label configure action align east align figure collection select figure rectangle2 d selection bound x selection bound x + selection bound width iterator i get view get select figure iterator i ha next figure f figure i next f will change rectangle2 d b f get bound affine transform tx affine transform tx translate x b x b width 0 f basic transform tx f change fire undoable edit happen transform edit f tx west align action west drawing editor editor super editor label configure action align west align figure collection select figure rectangle2 d selection bound x selection bound x iterator i get view get select figure iterator i ha next figure f figure i next f will change rectangle2 d b f get bound affine transform tx affine transform tx translate x b x 0 f basic transform tx f change fire undoable edit happen transform edit f tx south align action south drawing editor editor super editor label configure action align south align figure collection select figure rectangle2 d selection bound y selection bound y + selection bound height iterator i get view get select figure iterator i ha next figure f figure i next f will change rectangle2 d b f get bound affine transform tx affine transform tx translate 0 y b y b height f basic transform tx f change fire undoable edit happen transform edit f tx vertical align action vertical drawing editor editor super editor label configure action align vertical align figure collection select figure rectangle2 d selection bound y selection bound y + selection bound height 2 iterator i get view get select figure iterator i ha next figure f figure i next f will change rectangle2 d b f get bound affine transform tx affine transform tx translate 0 y b y b height 2 f basic transform tx f change fire undoable edit happen transform edit f tx horizontal align action horizontal drawing editor editor super editor label configure action align horizontal align figure collection select figure rectangle2 d selection bound x selection bound x + selection bound width 2 iterator i get view get select figure iterator i ha next figure f figure i next f will change rectangle2 d b f get bound affine transform tx affine transform tx translate x b x b width 2 0 f basic transform tx f change fire undoable edit happen transform edit f tx 