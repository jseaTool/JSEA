org jhotdraw draw org jhotdraw util java awt java awt geom org jhotdraw draw attribute key org jhotdraw geom chop box connector connector chop box connector chop box connector figure owner super owner point2 d find start connection figure connection figure start figure connection get start connector get owner point2 d from connection get point count 2 || connection get liner null connection get end connector null from connection get end point rectangle2 d r1 get connector target connection get end connector get owner get bound from point2 d r1 x + r1 width 2 r1 y + r1 height 2 from connection get point 1 chop start figure from point2 d find end connection figure connection figure end figure connection get end connector get owner point2 d from connection get point count 2 || connection get liner null connection get start connector null from connection get start point rectangle2 d r1 get connector target connection get start connector get owner get bound from point2 d r1 x + r1 width 2 r1 y + r1 height 2 from connection get point connection get point count 2 chop end figure from point2 d chop figure target point2 d from target get connector target target rectangle2 d r target get bound s t r o k e c o l o r get target null grow s t r o k e p l a c e m e n t get target c e n t e r grow attribute key get stroke total width target 2d o u t s id e grow attribute key get stroke total width target i n s id e grow 0d geom grow r grow grow geom angle to point r geom point to angle r from 