org jhotdraw draw java awt java awt geom java util java io org jhotdraw draw attribute key org jhotdraw geom org jhotdraw xml dom input org jhotdraw xml dom output attribute figure figure hash map attribute key object attribute hash map attribute key object hash set attribute key forbid attribute attribute figure set attribute attribute key key object value forbid attribute null || forbid attribute contain key object old value attribute get key attribute contain key key || old value value || old value null value null old value equal value will change basic set attribute key value fire attribute change key old value value fire undoable edit happen attribute change edit key old value value change set attribute enable attribute key key b forbid attribute null forbid attribute hash set attribute key b forbid attribute remove key forbid attribute add key is attribute enable attribute key key forbid attribute null || forbid attribute contain key set attribute hash map attribute key object map map entry attribute key object entry map entry set set attribute entry get key entry get value map attribute key object get attribute hash map attribute key object attribute basic set attribute attribute key key object value forbid attribute null || forbid attribute contain key attribute put key value object get attribute attribute key key ha attribute key ? attribute get key key get value draw figure graphics2 d g attribute key f i l l c o l o r get null g set color attribute key f i l l c o l o r get draw fill g s t r o k e c o l o r get null s t r o k e w id t h get 0d g set stroke attribute key get stroke g set color s t r o k e c o l o r get draw stroke g t e x t c o l o r get null t e x t s h a d o w c o l o r get null t e x t s h a d o w o f f s e t get null dimension2 d d t e x t s h a d o w o f f s e t get g translate d width d height g set color t e x t s h a d o w c o l o r get draw text g g translate d width d height g set color t e x t c o l o r get draw text g is connector visible draw connector g draw connector graphics2 d g stroke get stroke attribute key get stroke get stroke miter limit factor number value number get attribute attribute key s t r o k e m i t e r l i m i t f a c t o r value null ? value value 10f rectangle2 d get figure draw bound width attribute key get stroke total width 2d s t r o k e j o i n get basic stroke j o i n m i t e r width s t r o k e m i t e r l i m i t f a c t o r get width++ rectangle2 d r get bound geom grow r width width r draw fill java awt graphics2 d g draw stroke java awt graphics2 d g draw text java awt graphics2 d g attribute figure clone attribute figure that attribute figure super clone that attribute hash map attribute key object attribute forbid attribute null that forbid attribute hash set attribute key forbid attribute that write attribute dom output out i o exception figure prototype figure out get prototype is element open false map entry attribute key object entry attribute entry set attribute key key entry get key forbid attribute null || forbid attribute contain key object prototype value key get prototype object attribute value key get prototype value attribute value || prototype value null attribute value null prototype value equal attribute value is element open out open element a is element open true out open element key get key out write object entry get value out close element is element open out close element read attribute dom input in i o exception in get element count a 0 in open element a i in get element count 1 i 0 i in open element i string name in get tag name object value in read object attribute key key get attribute key name key null key is assignable value forbid attribute null || forbid attribute contain key set attribute key value in close element in close element attribute key get attribute key string name attribute key support attribute map get name apply attribute to figure that map entry attribute key object entry attribute entry set that set attribute entry get key entry get value write dom output out i o exception rectangle2 d r get bound out add attribute x r x out add attribute y r y out add attribute w r width out add attribute h r height write attribute out read dom input in i o exception x in get attribute x 0d y in get attribute y 0d w in get attribute w 0d h in get attribute h 0d set bound point2 d x y point2 d x + w y + h read attribute in remove attribute attribute key key ha attribute key object old value get attribute key attribute remove key fire attribute change key old value key get value ha attribute attribute key key attribute contain key key 