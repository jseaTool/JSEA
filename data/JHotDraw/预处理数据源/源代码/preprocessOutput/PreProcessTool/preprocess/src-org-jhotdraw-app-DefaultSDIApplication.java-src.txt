org jhotdraw app org jhotdraw util org jhotdraw util pref java awt java awt event java bean java io java util java util pref javax swing org jhotdraw app action about action org jhotdraw app action action org jhotdraw app action clear action org jhotdraw app action clear recent file action org jhotdraw app action close action org jhotdraw app action copy action org jhotdraw app action cut action org jhotdraw app action delete action org jhotdraw app action duplicate action org jhotdraw app action exit action org jhotdraw app action export action org jhotdraw app action load action org jhotdraw app action load recent action org jhotdraw app action action org jhotdraw app action paste action org jhotdraw app action redo action org jhotdraw app action save action org jhotdraw app action save a action org jhotdraw app action select all action org jhotdraw app action toggle visible action org jhotdraw app action undo action s d i application application project current project preference pref s d i application launch string arg system set property apple awt graphic use quartz false super launch arg init super init pref preference user node get model null ? get get model get init label init look and feel init application action remove project p super remove p project size 0 stop init look and feel system set property apple laf use screen menu bar false system set property com apple maco use screen menu bar false system set property apple awt graphic use quartz false string laf name u i manager get system look and feel name u i manager set look and feel laf name exception e e print stack trace u i manager get string option pane cs null u i manager put option pane cs init application action resource bundle util app label resource bundle util get l a f bundle org jhotdraw app label application model m get model m put action about action id about action m put action exit action id exit action m put action clear action id clear action m put action action id action app label configure action m get action action id window m put action load action id load action m put action clear recent file action id clear recent file action m put action save action id save action m put action save a action id save a action m put action close action id close action m put action undo action id undo action m put action redo action id redo action m put action cut action id cut action m put action copy action id copy action m put action paste action id paste action m put action delete action id delete action m put action duplicate action id duplicate action m put action select all action id select all action init project action project p show project p p is showing p set showing true file file p get file j frame f j frame string title file null title label get string unnam file title file get name p ha unsav change title+ f set title label get format frame title title get name p get multiple open id f set close operation j frame d o n o t h i n g o n c l o s e j panel panel j panel wrap project component p f add panel f set minimum size dimension 200 200 f set prefer size dimension 600 400 f set j menu bar create menu bar p java util list action panel get client property tool bar action preference util install frame pref handler pref project f point loc f get location move move false iterator i project iterator i ha next project a project project i next a project p swing utility get window ancestor a project get component null swing utility get window ancestor a project get component get location equal loc loc x+ 22 loc y+ 22 move true move f set location loc f add window listener window adapter window closing window event evt set current project p get model get action close action id action perform action event f action event a c t i o n p e r f o r m e d window closing window activate window event e set current project p p add property change listener property change listener property change property change event evt string name evt get property name name equal ha unsav change || name equal file || name equal multiple open id file file p get file string title file null title label get string unnam file title file get name p ha unsav change title+ f set title label get format frame title title get name p get multiple open id f set visible true component wrap project component project p component c p get component get model null link list action tool bar action link list id 0 j tool bar tb reverse list j tool bar get model create tool bar p id++ j panel panel j panel border layout panel add tb border layout n o r t h panel add c border layout c e n t e r c panel preference util install tool bar pref handler pref toolbar + id tb tool bar action add first toggle visible action tb tb get name j tool bar tb j tool bar tb set name label get string standard tool bar title add standard action to tb p id++ j panel panel j panel border layout panel add tb border layout n o r t h panel add c border layout c e n t e r c panel preference util install tool bar pref handler pref toolbar + id tb tool bar action add first toggle visible action tb tb get name panel put client property tool bar action tool bar action c add standard action to j tool bar tb project p j button b application model m get model b tb add m get action clear action id b set focusable false b tb add m get action load action id b set focusable false b tb add m get action save action id tb add separator b tb add m get action undo action id b set focusable false b tb add m get action redo action id b set focusable false tb add separator b tb add m get action cut action id b set focusable false b tb add m get action copy action id b set focusable false b tb add m get action paste action id b set focusable false hide project p p is showing p set showing false j frame f j frame swing utility get window ancestor p get component f set visible false f remove p get component f dispose dispose project p super dispose p project size 0 stop project get current project current project set current project project value project old value current project current project value fire property change current project old value value j menu bar create menu bar project p java util list action tool bar action application model model get model resource bundle util label resource bundle util get l a f bundle org jhotdraw app label j menu bar mb j menu bar j menu m m2 j menu item mi j check box menu item cbmi j menu open recent menu m j menu label configure menu m label get string file m add model get action clear action id m add model get action action id m add model get action load action id open recent menu j menu label configure menu open recent menu open recent open recent menu add model get action clear recent file action id update open recent menu open recent menu m add open recent menu m add separator m add model get action save action id m add model get action save a action id model get action export action id null mi m add model get action export action id m add separator m add model get action exit action id mb add m m j menu label configure menu m label get string edit m add model get action undo action id m add model get action redo action id m add separator m add model get action cut action id m add model get action copy action id m add model get action paste action id m add model get action duplicate action id m add model get action delete action id m add separator m add model get action select all action id mb add m j menu view menu null j menu mm model create menu p mb add mm mm get text equal label get string view view menu mm tool bar action null tool bar action size 0 m view menu null ? view menu j menu m2 tool bar action size 1 ? m j menu label get string tool bar label configure menu m label get string view action a tool bar action cbmi j check box menu item a action configure j check box menu item cbmi a m2 add cbmi m2 m m add m2 mb add m m j menu label configure menu m label get string help m add model get action about action id mb add m add property change listener property change listener property change property change event evt string name evt get property name name project count p null || project contain p remove property change listener name recent file update open recent menu open recent menu mb update open recent menu j menu open recent menu open recent menu get item count 0 j menu item clear recent file item j menu item open recent menu get item open recent menu get item count 1 open recent menu remove all file f recent file open recent menu add load recent action s d i application f recent file size 0 open recent menu add separator open recent menu add clear recent file item is sharing tool among project false component get component project p get current project p null ? null p get component 