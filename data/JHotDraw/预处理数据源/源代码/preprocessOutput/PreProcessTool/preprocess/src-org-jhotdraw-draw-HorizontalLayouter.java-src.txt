org jhotdraw draw org jhotdraw util java awt java awt geom java util org jhotdraw geom org jhotdraw draw attribute key horizontal layout layout rectangle2 d calculate layout composite figure composite figure point2 d anchor point2 d lead insets2 d layout inset l a y o u t i n s e t s get composite figure rectangle2 d layout bound rectangle2 d anchor x anchor y 0 0 figure child composite figure get child child is visible dimension2 d prefer size child get prefer size insets2 d in get inset child layout bound height math max layout bound height prefer size height + in top + in bottom layout bound width+ prefer size width + in left + in right layout bound width+ layout inset left + layout inset right layout bound height+ layout inset top + layout inset bottom layout bound rectangle2 d layout composite figure composite figure point2 d anchor point2 d lead insets2 d layout inset l a y o u t i n s e t s get composite figure rectangle2 d layout bound calculate layout composite figure anchor lead x layout bound x + layout inset left figure child composite figure get child child is visible insets2 d inset get inset child width child get prefer size width child basic set bound point2 d x + inset left layout bound y + layout inset top + inset top point2 d x + inset left + width layout bound y + layout bound height layout inset bottom inset bottom x+ width + inset left + inset right layout bound 