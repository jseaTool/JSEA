org jhotdraw app action org jhotdraw io org jhotdraw gui org jhotdraw gui event org jhotdraw util java awt java awt event javax swing java io org jhotdraw app application org jhotdraw app project save before action project action component old focus owner save before action application app super app action perform action event evt project p get current project p is enable resource bundle util label resource bundle util get l a f bundle org jhotdraw app label window w ancestor swing utility get window ancestor p get component old focus owner w ancestor null ? null w ancestor get focus owner p set enable false p ha unsav change j option pane pane j option pane html + u i manager get string option pane cs + label get string save before message j option pane w a r n i n g m e s s a g e object option label get string save label get string cancel label get string dont save pane set option option pane set initial value option 0 pane put client property quaqua option pane destructive option integer 2 j sheet show sheet pane p get component sheet listener option select sheet event evt object value evt get value value null || value equal label get string cancel p set enable true value equal label get string dont save it p p set enable true value equal label get string save save change p it p p set enable true old focus owner null old focus owner request focus save change project p 