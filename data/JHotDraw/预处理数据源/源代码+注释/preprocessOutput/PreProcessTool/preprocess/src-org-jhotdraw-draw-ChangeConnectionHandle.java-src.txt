change connection handle java 2 1 2006 02 16 copyright c 1996 2006 by the original author of jhotdraw and all it contributor jhotdraw org all right reserve software is the confidential and proprietary information of jhotdraw org confidential information you shall not disclose such confidential information and shall use it only in accordance with the term of the license agreement you enter into with jhotdraw org ??? org jhotdraw draw org jhotdraw util java awt java awt geom java util change connection handle factor the common code handle that can be use to reconnect connection see change connection end handle see change connection start handle author wern randelshof version 2 1 2006 02 16 remove liner from connection tracking br 2 0 2006 01 14 change to support coordinate br 1 0 2003 12 01 derive from jhotdraw 5 4b1 change connection handle handle connector original target figure target figure connection figure connection point start we temporarily remove the liner from the connection figure the handle is being move we store the liner here and add it back when the user ha finish the interaction liner liner initializ the change connection handle change connection handle figure owner super owner set connection connection figure owner set target figure null is combinable with handle handle false the target connector of the change connector get target disconnect the connection disconnect connect the connection with the given figure connect connector c set the location of the target point set location point2 d p the start point of the connection point2 d get location get the side of the connection that is unaffect by the change connector get source get target get connection get start connector get connection get end connector get connection get start connector disconnect the connection track start point anchor modifier ex original target get target start anchor liner connection get liner connection set liner null disconnect find a target of the connection track step point anchor point lead modifier ex point2 d p view view to drawing lead figure f find connectable figure p view get drawing track the figure contain the mouse f get target figure get target figure null get target figure set connector visible false null set target figure f get source null get target figure null get target figure set connector visible true get connection get target figure null can connect get source get owner get target figure get target figure set connector visible true get connection connector target find connection target p view get drawing target null p target get anchor set location p connect the figure to the target there is no target the connection revert to it original one track end point anchor point lead modifier ex point2 d p view view to drawing lead connector target find connection target p view get drawing target null target original target set location p target original target disconnect connect target connection set liner liner get connection update connection get target figure null get target figure set connector visible false null set target figure null connector find connection target point2 d p drawing drawing figure target figure find connectable figure p drawing get source null target figure null find connector p target figure get connection target figure null target figure can connect target figure original target target figure include get owner get connection can connect get source get owner target figure can connect get source get owner target figure find connector p target figure get connection null can connect figure exist end figure target end connector find connector point2 d p figure f connection figure prototype f find connector p prototype draw handle draw graphics2 d g draw circle g get target null ? color red color green color black figure find connectable figure point2 d p drawing drawing figure f drawing get figure front to back f include get connection f can connect f contain p f null set connection connection figure connection connection connection connection figure get connection connection set target figure figure target target figure target figure get target figure target figure rectangle basic get bound connection get point count 0 rectangle 0 0 get handlesize get handlesize point center view drawing to view get location rectangle center x get handlesize 2 center y get handlesize 2 get handlesize get handlesize 