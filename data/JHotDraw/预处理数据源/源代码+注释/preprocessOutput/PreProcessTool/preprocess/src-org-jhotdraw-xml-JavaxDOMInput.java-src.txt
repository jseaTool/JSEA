javax dom input java 2 1 2006 07 08 copyright c 1996 2006 by the original author of jhotdraw and all it contributor jhotdraw org all right reserve software is the confidential and proprietary information of jhotdraw org confidential information you shall not disclose such confidential information and shall use it only in accordance with the term of the license agreement you enter into with jhotdraw org org jhotdraw xml java util javax xml parser javax xml transform javax xml transform dom javax xml transform stream org w3c dom java io java awt dom input author wern randelshof version 2 1 2006 07 08 support object which don t have an id br 2 0 2006 06 10 support and array object add br 1 0 february 17 2004 create javax dom input dom input map is use to unmarshall reference to object to the xml dom a key in map is a string represent a marshal reference a value in map is an unmarshall object hash map string object idobject hash map string object the document use input document document the current node use input node current the factory use to create object from xml tag name dom factory factory javax dom input dom factory factory input stream in i o exception factory factory transformer t transformer factory instance transformer dom result result dom result t transform stream source in result document document result get node current document transformer exception e i o exception error i o exception e get message error init cause e error javax dom input dom factory factory reader in i o exception factory factory transformer t transformer factory instance transformer dom result result dom result t transform stream source in result document document result get node current document transformer exception e i o exception error i o exception e get message error init cause e error the tag name of the current element string get tag name element current get tag name get an attribute of the current element of the dom document string get attribute string name string value string value element current get attribute name value length 0 ? value value get the text of the current element of the dom document string get text get text null get the text of the current element of the dom document string get text string value current get child node get length 0 value string builder buf string builder get text current buf buf to string get text node n string builder buf n get node value null buf append n get node value node list child n get child node i 0 i child get length i++ get text child item i buf get an attribute of the current element of the dom document and of all parent dom element java util list string get inherit attribute string name link list string value link list string node node current node null string value string element node get attribute name value add first value node node get parent node value get an attribute of the current element of the dom document get attribute string name value string value element current get attribute name value length 0 ? value decode value value get an attribute of the current element of the dom document get attribute string name value string value element current get attribute name value length 0 ? value parse value get an attribute of the current element of the dom document get attribute string name value string value element current get attribute name value length 0 ? value value of value value the number of child element of the current element get element count count 0 node list list current get child node i 0 i list get length i++ node node list item i node element count++ count the number of child element with the specify tag name of the current element get element count string tag name count 0 node list list current get child node i 0 i list get length i++ node node list item i node element element node get tag name equal tag name count++ count open the element with the specify index and make it the current node open element index count 0 node list list current get child node len list get length i 0 i len i++ node node list item i node element count++ index current node open the last element with the specify name and make it the current node open element string tag name count 0 node list list current get child node len list get length i 0 i len i++ node node list item i node element element node get tag name equal tag name current node illegal argument exception element not found +tag name open the element with the specify name and index and make it the current node open element string tag name index count 0 node list list current get child node len list get length i 0 i len i++ node node list item i node element element node get tag name equal tag name count++ index current node illegal argument exception no such child +tag name+ +index+ close the current element of the dom document the parent of the current element become the current element exception illegal argument exception the provide tag name doe not match the tag name of the element close element element current get tag name equal tag name illegal argument exception attempt to close wrong element +tag name + + element current get tag name current current get parent node read an object from the current element object read object i o exception read object 0 read an object from the current element object read object index i o exception open element index object o string tag name get tag name tag name equal null o null tag name equal string o get text tag name equal o integer decode get text tag name equal o decode get text tag name equal o parse get text tag name equal o parse get text tag name equal o value of get text tag name equal color o color get attribute rgba 0xff tag name equal array a get element count i 0 i a length i++ a i integer read object i value o a tag name equal array a get element count i 0 i a length i++ a i read object i value o a tag name equal array a get element count i 0 i a length i++ a i read object i value o a tag name equal font o font get attribute name dialog get attribute style 0 get attribute size 0 tag name equal o factory create get attribute type string null get text string ref get attribute ref null string id get attribute id ref keep track of object which have an id id null o factory create get tag name idobject contain key id o idobject get id o factory create get tag name idobject put id o ref null o dom storable dom storable o read close element o 