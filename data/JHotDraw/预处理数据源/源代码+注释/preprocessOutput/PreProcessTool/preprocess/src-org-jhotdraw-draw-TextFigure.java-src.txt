text figure java 1 0 1 2006 02 27 copyright c 1996 2006 by the original author of jhotdraw and all it contributor jhotdraw org all right reserve software is the confidential and proprietary information of jhotdraw org confidential information you shall not disclose such confidential information and shall use it only in accordance with the term of the license agreement you enter into with jhotdraw org ??? org jhotdraw draw org jhotdraw util java awt java awt font java awt geom java util java io org jhotdraw draw attribute key org jhotdraw geom org jhotdraw xml dom input org jhotdraw xml dom output a text figure see text tool author wern randelshof version 2 0 1 2006 02 27 draw u n d e r l i n e l o w o n e p i x e l instead of u n d e r l i n e o n br 2 0 2006 01 14 change to support precison coordinate br 1 0 2003 12 01 derive from jhotdraw 5 4b1 text figure attribute figure text holder point2 d origin point2 d editable true cache of the text figure s layout text layout text layout create a instance text figure text text figure string text set text text get the text show by the text figure string get text string get attribute t e x t set the text show by the text figure set text string text set attribute t e x t text basic transform affine transform tx tx transform origin origin basic set bound point2 d anchor point2 d lead origin point2 d anchor x anchor y contain point2 d p get bound contain p true decorator null update decorator bound decorator contain p false draw stroke java awt graphics2 d g draw fill java awt graphics2 d g draw text java awt graphics2 d g get text null || is editable text layout layout get text layout layout draw g origin x origin y + layout get ascent invalidate super invalidate text layout null text layout get text layout text layout null string text get text text null || text length 0 text font render context frc get font render context hash map text attribute object text attribute hash map text attribute object text attribute put text attribute f o n t get font f o n t u n d e r l i n e d get text attribute put text attribute u n d e r l i n e text attribute u n d e r l i n e l o w o n e p i x e l text layout text layout text text attribute frc text layout rectangle2 d get bound text layout layout get text layout rectangle2 d r rectangle2 d origin x origin y layout get advance layout get ascent + layout get descent r dimension2 d get prefer size rectangle2 d b get bound dimension2 d b width b height rectangle2 d get figure draw bound get text null get bound text layout layout get text layout rectangle2 d r rectangle2 d origin x origin y layout get advance layout get ascent rectangle2 d l bound layout get bound l bound is empty is na n l bound get x r add rectangle2 d l bound get x +origin x l bound get y +origin y+layout get ascent l bound get width l bound get height grow by two pixel to take antialiasing into account geom grow r 2d 2d r collection handle create handle detail level link list handle handle link list handle detail level 0 handle add move handle relative locator north west handle add move handle relative locator north east handle add move handle relative locator south east handle add font size handle handle validate super validate text layout null is editable editable set editable b editable b get text column get text null ? 4 math max get text length 4 a specialize tool the given coordinate p null no specialize tool is available tool get tool point2 d p is editable contain p ? text tool null read dom input in i o exception set bound point2 d in get attribute x 0d in get attribute y 0d point2 d 0 0 read attribute in write dom output out i o exception rectangle2 d b get bound out add attribute x b x out add attribute y b y write attribute out get the number of character use to expand tab get tab size 8 text holder get label insets2 d get inset insets2 d 0 0 0 0 restore to object geometry point2 d p point2 d geometry origin x p x origin y p y object get restore data origin clone text figure clone text figure that text figure super clone that origin point2 d origin clone that text layout null that font get font attribute key get font color get text color t e x t c o l o r get color get fill color f i l l c o l o r get set font size size f o n t s i z e set size get font size f o n t s i z e get value 