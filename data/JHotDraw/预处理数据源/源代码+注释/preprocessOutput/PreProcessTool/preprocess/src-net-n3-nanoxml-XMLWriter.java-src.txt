xml writer java nano xml java $ revision 1 4 $ $ date 2002 03 24 11 37 51 $ $ name r e l e a s e 2 2 1 $ file is part of nano xml 2 java copyright c 2000 2002 marc de scheemaeck all right reserve software is provide a is without any express or imply warranty in no event will the author be hold liable any damage arise from the use of software permission is grant to anyone to use software any purpose include commercial application and to alter it and redistribute it freely subject to the following restriction 1 the origin of software must not be misrepresent you must not claim that you write the original software you use software in a product an acknowledgment in the product documentation would be appreciate but is not require 2 alter source version must be plainly mark a such and must not be misrepresent a being the original software 3 notice may not be remove or alter from any source distribution net n3 nanoxml java io i o exception java io output stream java io print writer java io writer java util iterator java util vector an xml writer write xml data to a stream see net n3 nanoxml i xml element see java io writer author marc de scheemaeck version $ name r e l e a s e 2 2 1 $ $ revision 1 4 $ xml writer where to write the output to print writer writer create a xml writer param writer where to write the output to xml writer writer writer writer print writer writer print writer writer writer print writer writer create a xml writer param stream where to write the output to xml writer output stream stream writer print writer stream clean up the object when it s destroy finalize throwable writer null super finalize write an xml element param xml the non null xml element to write write i xml element xml i o exception write xml false 0 true write an xml element param xml the non null xml element to write param pretty print space need to be insert to make the output more readable write i xml element xml pretty print i o exception write xml pretty print 0 true write an xml element param xml the non null xml element to write param pretty print space need to be insert to make the output more readable param indent how many space to indent the element write i xml element xml pretty print indent i o exception write xml pretty print indent true write an xml element param xml the non null xml element to write param pretty print space need to be insert to make the output more readable param indent how many space to indent the element write i xml element xml pretty print indent collapse empty element i o exception pretty print i 0 i indent i++ writer print xml get name null xml get content null pretty print write encode xml get content trim writer println write encode xml get content writer print writer print xml get full name vector nsprefix vector xml get namespace null xml get name equal xml get full name writer print xmln \ + xml get namespace + string prefix xml get full name prefix prefix substring 0 prefix index of nsprefix add element prefix writer print xmln + prefix writer print \ + xml get namespace + \ iterator enm xml iterate attribute name enm ha next string key string enm next index key index of index 0 string namespace xml get attribute namespace key namespace null string prefix key substring 0 index nsprefix contain prefix writer print xmln + prefix writer print \ + namespace + nsprefix add element prefix enm xml iterate attribute name enm ha next string key string enm next string value xml get attribute key null writer print + key + \ write encode value writer print xml get content null xml get content length 0 writer print write encode xml get content writer print + xml get full name + pretty print writer println xml ha child || collapse empty element writer print pretty print writer println enm xml iterate child enm ha next i xml element child i xml element enm next write child pretty print indent + 4 collapse empty element pretty print i 0 i indent i++ writer print writer print + xml get full name + pretty print writer println writer print pretty print writer println writer flush write a string encoding reserve character param str the string to write write encode string str i 0 i str length i++ c str at i c 0x0 a writer print c writer print lt writer print gt writer print amp \ writer print apo writer print quot c || c 0x7 e writer print x writer print integer to string c 16 writer print writer print c 