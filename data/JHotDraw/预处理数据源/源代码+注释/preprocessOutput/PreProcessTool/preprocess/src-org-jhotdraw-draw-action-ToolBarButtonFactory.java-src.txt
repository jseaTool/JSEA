tool bar button factory java 1 2 2006 07 16 copyright c 1996 2006 by the original author of jhotdraw and all it contributor jhotdraw org all right reserve software is the confidential and proprietary information of jhotdraw org confidential information you shall not disclose such confidential information and shall use it only in accordance with the term of the license agreement you enter into with jhotdraw org org jhotdraw draw action org jhotdraw util java awt java awt event java bean java text java util javax swing javax swing text org jhotdraw app action org jhotdraw draw attribute key org jhotdraw geom org jhotdraw draw tool bar button factory author wern randelshof version 1 2 2006 07 16 split some method up better reuse br 1 1 2006 03 27 font exclusion list update br 1 0 13 februar 2006 create tool bar button factory map string color d e f a u l t c o l o r s link hash map string color m link hash map string color m put cayenne color 128 0 0 m put asparagus color 128 128 0 m put clover color 0 128 0 m put teal color 0 128 128 m put midnight color 0 0 128 m put plum color 128 0 128 m put tin color 127 127 127 m put nickel color 128 128 128 m put maraschino color 255 0 0 m put lemon color 255 255 0 m put spring color 0 255 0 m put turquoise color 0 255 255 m put blueberry color 0 0 255 m put magenta color 255 0 255 m put steel color 102 102 102 m put aluminium color 153 153 153 m put salmon color 255 102 102 m put banana color 255 255 102 m put flora color 102 255 102 m put ice color 102 255 255 m put orchid color 102 102 255 m put bubblegum color 255 102 255 m put iron color 76 76 76 m put magnesium color 179 179 179 m put mocha color 128 64 0 m put fern color 64 128 0 m put moss color 0 128 64 m put ocean color 0 64 128 m put eggplant color 64 0 128 m put maroon color 128 0 64 m put tungsten color 51 51 51 m put silver color 204 204 204 m put tangerine color 255 128 0 m put lime color 128 255 0 m put sea foam color 0 255 128 m put aqua color 0 128 255 m put grape color 128 0 255 m put strawberry color 255 0 128 m put lead color 25 25 25 m put mercury color 230 230 230 m put cantaloupe color 255 204 102 m put honeydew color 204 255 102 m put spindrift color 102 255 204 m put sky color 102 204 255 m put lavender color 204 102 255 m put carnation color 255 111 207 m put licorice color 0 0 0 m put snow color 255 255 255 m put transparent null d e f a u l t c o l o r s collection unmodifiable map m tool button listener item listener tool tool drawing editor editor tool button listener tool t drawing editor editor tool t editor editor item state change item event evt evt get state change item event s e l e c t e d editor set tool tool prevent instance creation tool bar button factory collection action create drawing action drawing editor editor link list action a link list action a add cut action a add copy action a add paste action a add select all action a add select same action editor a collection action create selection action drawing editor editor link list action a link list action a add duplicate action a add null separator a add group action editor a add ungroup action editor a add null separator a add move to front action editor a add move to back action editor a add selection tool to j tool bar tb drawing editor editor add selection tool to tb editor create drawing action editor create selection action editor add selection tool to j tool bar tb drawing editor editor collection action drawing action collection action selection action resource bundle util label resource bundle util get l a f bundle org jhotdraw draw label j toggle button t tool tool hash map string object attribute button group group tb get client property tool button group button group group button group tb get client property tool button group group button group tb put client property tool button group group selection tool tool selection tool delegation selection tool drawing action selection action editor set tool selection tool t j toggle button j toggle button tool button t tool listener tool handler tb get client property tool handler tool listener tool handler tool listener tb get client property tool handler tool handler tool listener tool start tool event event tool tool event event tool button set select true area invalidate tool event e tb put client property tool handler tool handler label configure tool bar button t selection tool t set select true t add item listener tool button listener selection tool editor t set focusable false group add t tb add t method add selection tool to must have be invoke prior to on the j tool bar add tool to j tool bar tb drawing editor editor tool tool string label key resource bundle util label button group group button group tb get client property tool button group tool listener tool handler tool listener tb get client property tool handler j toggle button t j toggle button label configure tool bar button t label key t add item listener tool button listener tool editor t set focusable false tool add tool listener tool handler group add t tb add t add zoom button to j tool bar bar drawing editor editor bar add create zoom button editor button create zoom button drawing editor editor resource bundle util label resource bundle util get l a f bundle org jhotdraw draw label j popup button zoom popup button j popup button label configure tool bar button zoom popup button view zoom zoom popup button set focusable false editor get drawing view size 0 zoom popup button set text 100 % zoom popup button set text editor get drawing view iterator next get scale factor 100 + % editor add property change listener property change listener property change property change event evt string constant are intern evt get property name focus view evt get value null zoom popup button set text 100 % zoom popup button set text editor get focus view get scale factor 100 + % factor 16 8 5 4 3 2 1 5 1 25 1 0 75 0 5 0 25 0 10 i 0 i factor length i++ zoom popup button add zoom editor action editor factor i zoom popup button action perform java awt event action event e super action perform e zoom popup button set text editor get view get scale factor 100 + % zoom popup button set prefer size dimension 16 16 zoom popup button set focusable false zoom popup button button create zoom button drawing view view resource bundle util label resource bundle util get l a f bundle org jhotdraw draw label j popup button zoom popup button j popup button label configure tool bar button zoom popup button view zoom zoom popup button set focusable false zoom popup button set text view get scale factor 100 + % view add property change listener property change listener property change property change event evt string constant are intern evt get property name scale factor zoom popup button set text view get scale factor 100 + % factor 5 4 3 2 1 5 1 25 1 0 75 0 5 0 25 0 10 i 0 i factor length i++ zoom popup button add zoom action view factor i zoom popup button action perform java awt event action event e super action perform e zoom popup button set text view get scale factor 100 + % zoom popup button set prefer size dimension 16 16 zoom popup button set focusable false zoom popup button create toolbar button and add them to the specify j tool bar add attribute button to j tool bar bar drawing editor editor resource bundle util label resource bundle util get l a f bundle org jhotdraw draw label j button b b bar add pick attribute action editor b set focusable false b bar add apply attribute action editor b set focusable false bar add separator add color button to bar editor bar add separator add stroke button to bar editor bar add separator add font button to bar editor add color button to j tool bar bar drawing editor editor resource bundle util label resource bundle util get l a f bundle org jhotdraw draw label add color button to bar editor s t r o k e c o l o r d e f a u l t c o l o r s 8 attribute stroke color label add color button to bar editor f i l l c o l o r d e f a u l t c o l o r s 8 attribute fill color label add color button to bar editor t e x t c o l o r d e f a u l t c o l o r s 8 attribute text color label param color map a map with name color is usually a link hash map so that the color are in a specific order add color button to j tool bar bar drawing editor editor attribute key attribute key map string color color map column count string label key resource bundle util label j popup button popup button j popup button popup button set action attribute action editor attribute key rectangle 0 0 22 22 popup button set column count column count false map entry string color entry color map entry set attribute action a popup button add a attribute action editor attribute key entry get value color icon entry get value a put value action s h o r t d e s c r i p t i o n entry get key image icon chooser icon image icon tool bar button factory get resource org jhotdraw draw action image show color chooser png popup button add color chooser action editor attribute key chooser icon label configure tool bar button popup button label key popup button set icon color attribute icon editor attribute key label get image icon label key tool bar button factory get image popup button set focusable false editor add property change listener property change listener property change property change event evt popup button repaint bar add popup button add stroke button to j tool bar bar drawing editor editor add stroke decoration button to bar editor add stroke width button to bar editor add stroke dash button to bar editor add stroke type button to bar editor add stroke placement button to bar editor add stroke width button to j tool bar bar drawing editor editor resource bundle util label resource bundle util get l a f bundle org jhotdraw draw label j popup button stroke width popup button j popup button label configure tool bar button stroke width popup button attribute stroke width stroke width popup button set focusable false width 0 5d 1d 2d 3d 5d 7d 9d 11d number format formatt number format get instance formatt decimal format decimal format formatt set maximum fraction digit 1 decimal format formatt set minimum fraction digit 0 i 0 i width length i++ string label to string width i stroke width popup button add attribute action editor s t r o k e w id t h width i label stroke icon basic stroke width i basic stroke c a p b u t t basic stroke j o i n b e v e l bar add stroke width popup button add stroke decoration button to j tool bar bar drawing editor editor resource bundle util label resource bundle util get l a f bundle org jhotdraw draw label j popup button stroke decoration popup button j popup button label configure tool bar button stroke decoration popup button attribute stroke decoration stroke decoration popup button set focusable false stroke decoration popup button set column count 2 false line decoration decoration arrow tip 0 35 12 11 3 arrow tip 0 35 13 7 null i 0 i decoration length i++ stroke decoration popup button add attribute action editor s t a r t d e c o r a t i o n decoration i null line decoration icon decoration i true stroke decoration popup button add attribute action editor e n d d e c o r a t i o n decoration i null line decoration icon decoration i false bar add stroke decoration popup button add stroke dash button to j tool bar bar drawing editor editor resource bundle util label resource bundle util get l a f bundle org jhotdraw draw label j popup button stroke dash popup button j popup button label configure tool bar button stroke dash popup button attribute stroke dash stroke dash popup button set focusable false dash null 4d 4d 2d 2d 4d 2d 2d 4d 8d 2d 6d 2d 2d 2d stroke dash popup button set column count 2 false i 0 i dash length i++ fdash dash i null fdash null fdash dash i length j 0 j dash i length j++ fdash j dash i j stroke dash popup button add attribute action editor s t r o k e d a s h e s dash i null stroke icon basic stroke 2f basic stroke c a p b u t t basic stroke j o i n b e v e l 10f fdash 0 bar add stroke dash popup button add stroke type button to j tool bar bar drawing editor editor resource bundle util label resource bundle util get l a f bundle org jhotdraw draw label j popup button stroke type popup button j popup button label configure tool bar button stroke type popup button attribute stroke type stroke type popup button set focusable false stroke type popup button add attribute action editor s t r o k e t y p e attribute key stroke type b a s i c label get string attribute stroke type basic stroke icon basic stroke 1 basic stroke c a p b u t t basic stroke j o i n b e v e l hash map attribute key object attr hash map attribute key object attr put s t r o k e t y p e attribute key stroke type d o u b l e attr put s t r o k e i n n e r w id t h f a c t o r 2d stroke type popup button add attribute action editor attr label get string attribute stroke type stroke icon stroke 2 1 attr hash map attribute key object attr put s t r o k e t y p e attribute key stroke type d o u b l e attr put s t r o k e i n n e r w id t h f a c t o r 3d stroke type popup button add attribute action editor attr label get string attribute stroke type stroke icon stroke 3 1 attr hash map attribute key object attr put s t r o k e t y p e attribute key stroke type d o u b l e attr put s t r o k e i n n e r w id t h f a c t o r 4d stroke type popup button add attribute action editor attr label get string attribute stroke type stroke icon stroke 4 1 bar add stroke type popup button add stroke placement button to j tool bar bar drawing editor editor resource bundle util label resource bundle util get l a f bundle org jhotdraw draw label j popup button stroke placement popup button j popup button label configure tool bar button stroke placement popup button attribute stroke placement stroke placement popup button set focusable false hash map attribute key object attr attr hash map attribute key object attr put s t r o k e p l a c e m e n t attribute key stroke placement c e n t e r attr put f i l l u n d e r s t r o k e attribute key underfill c e n t e r stroke placement popup button add attribute action editor attr label get string attribute stroke placement center null attr hash map attribute key object attr put s t r o k e p l a c e m e n t attribute key stroke placement i n s id e attr put f i l l u n d e r s t r o k e attribute key underfill c e n t e r stroke placement popup button add attribute action editor attr label get string attribute stroke placement inside null attr hash map attribute key object attr put s t r o k e p l a c e m e n t attribute key stroke placement o u t s id e attr put f i l l u n d e r s t r o k e attribute key underfill c e n t e r stroke placement popup button add attribute action editor attr label get string attribute stroke placement outside null attr hash map attribute key object attr put s t r o k e p l a c e m e n t attribute key stroke placement c e n t e r attr put f i l l u n d e r s t r o k e attribute key underfill f u l l stroke placement popup button add attribute action editor attr label get string attribute stroke placement center fill null attr hash map attribute key object attr put s t r o k e p l a c e m e n t attribute key stroke placement i n s id e attr put f i l l u n d e r s t r o k e attribute key underfill f u l l stroke placement popup button add attribute action editor attr label get string attribute stroke placement inside fill null attr hash map attribute key object attr put s t r o k e p l a c e m e n t attribute key stroke placement o u t s id e attr put f i l l u n d e r s t r o k e attribute key underfill f u l l stroke placement popup button add attribute action editor attr label get string attribute stroke placement outside fill null attr hash map attribute key object attr put s t r o k e p l a c e m e n t attribute key stroke placement c e n t e r attr put f i l l u n d e r s t r o k e attribute key underfill n o n e stroke placement popup button add attribute action editor attr label get string attribute stroke placement center unfill null attr hash map attribute key object attr put s t r o k e p l a c e m e n t attribute key stroke placement i n s id e attr put f i l l u n d e r s t r o k e attribute key underfill n o n e stroke placement popup button add attribute action editor attr label get string attribute stroke placement inside unfill null attr hash map attribute key object attr put s t r o k e p l a c e m e n t attribute key stroke placement o u t s id e attr put f i l l u n d e r s t r o k e attribute key underfill n o n e stroke placement popup button add attribute action editor attr label get string attribute stroke placement outside unfill null bar add stroke placement popup button add font button to j tool bar bar drawing editor editor resource bundle util label resource bundle util get l a f bundle org jhotdraw draw label j popup button font popup button j button bold toggle button j button italic toggle button j button underline toggle button font popup button j popup button bold toggle button j button italic toggle button j button underline toggle button j button label configure tool bar button font popup button attribute font font popup button set focusable false font all font graphic environment get local graphic environment get all font hash set string font exclusion list hash set string array a list string mac o s x 10 3 font exclusion list gung seo head line a p c myungjo pil gi al bayan apple li gothic apple li sung apple myungjo arial hebrew ayuthaya baghdad biau kai charcoal c y corsiva hebrew deco type naskh devanagari m t fang song g b18030 bitmap geeza pro geezah geneva c y gujarati m t gurmukhi m t hei helvetica c y hiragino kaku gothic std hiragino maru gothic pro hiragino mincho pro hiragino kaku gothic pro inai mathi kai krungthep kufi standard g k li hei pro li song pro mshtakan monaco c y nadeem peninim m t osaka plantagenet cherokee raanana s t fangsong s t heiti s t kaiti s t song sathu silom thonburi time c y window x p professional font exclusion list arial unicode m s batang estrangelo edessa gautami kartika latha lucida san unicode mangal marlett m s mincho m s outlook m v boli o c r b 10 b t raavi shruti sim sun sylfaen symbol tunga vrinda wingding wingding 2 wingding 3 z w adobe f link list font font list link list font i 0 i all font length i++ font exclusion list contain all font i get family font list add all font i all font font font list size all font font font list to array all font array sort all font comparator font compare font f1 font f2 result f1 get family compare to f2 get family result 0 result f1 get font name compare to f2 get font name result link list font font family link list font j menu submenu null i 0 i all font length i++ submenu null all font i get family equal all font i 1 get family submenu null submenu null i all font length 2 all font i get family equal all font i + 1 get family font family add all font i submenu j menu all font i get family submenu set font j popup button i t e m f o n t font popup button add submenu action action attribute action editor f o n t f a c e all font i submenu null ? all font i get family all font i get font name null style editor kit font family action all font i get font name all font i get family submenu null font family add all font i font popup button add action j menu item item submenu add action item set font j popup button item font font popup button set column count math max 1 font family size 32 true label configure tool bar button bold toggle button attribute font bold bold toggle button set focusable false label configure tool bar button italic toggle button attribute font italic italic toggle button set focusable false label configure tool bar button underline toggle button attribute font underline underline toggle button set focusable false bold toggle button add action listener attribute toggl editor f o n t b o l d t r u e f a l s e style editor kit bold action italic toggle button add action listener attribute toggl editor f o n t i t a l i c t r u e f a l s e style editor kit italic action underline toggle button add action listener attribute toggl editor f o n t u n d e r l i n e d t r u e f a l s e style editor kit underline action bar add font popup button set focusable false bar add bold toggle button set focusable false bar add italic toggle button set focusable false bar add underline toggle button set focusable false create toolbar button and add them to the specify j tool bar add alignment button to j tool bar bar drawing editor editor resource bundle util label resource bundle util get l a f bundle org jhotdraw draw label bar add align action west editor set focusable false bar add align action east editor set focusable false bar add align action horizontal editor set focusable false bar add align action north editor set focusable false bar add align action south editor set focusable false bar add align action vertical editor set focusable false bar add separator bar add move action west editor set focusable false bar add move action east editor set focusable false bar add move action north editor set focusable false bar add move action south editor set focusable false bar add separator bar add move to front action editor set focusable false bar add move to back action editor set focusable false create toolbar button and add them to the specify j tool bar button create toggle grid button drawing editor editor resource bundle util label resource bundle util get l a f bundle org jhotdraw draw label j toggle button toggle grid button toggle grid button j toggle button label configure tool bar button toggle grid button align grid toggle grid button set focusable false toggle grid button add item listener item listener item state change item event event constrain c toggle grid button is select c grid constrain 10 10 c grid constrain 1 1 drawing view v editor get drawing view v set constrain c v get container repaint toggle grid button create toolbar button and add them to the specify j tool bar button create toggle grid button drawing view view resource bundle util label resource bundle util get l a f bundle org jhotdraw draw label j toggle button toggle grid button toggle grid button j toggle button label configure tool bar button toggle grid button align grid toggle grid button set focusable false toggle grid button add item listener item listener item state change item event event constrain c toggle grid button is select c grid constrain 10 10 c grid constrain 1 1 view set constrain c view get container repaint view add property change listener property change listener property change property change event evt string constant are intern evt get property name grid constrain constrain c constrain evt get value toggle grid button set select c is visible toggle grid button 