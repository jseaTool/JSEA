dom output java 2 1 2006 08 26 copyright c 1996 2006 by the original author of jhotdraw and all it contributor jhotdraw org all right reserve software is the confidential and proprietary information of jhotdraw org confidential information you shall not disclose such confidential information and shall use it only in accordance with the term of the license agreement you enter into with jhotdraw org dom output author wern randelshof version 2 1 2006 08 26 method set doctype add br 2 0 2006 06 10 support prototype object add support and array object add br 1 2 2006 03 20 add support value br 1 1 2006 01 18 remove 0 at the end of and number br 1 0 february 17 2004 create the doctype of the xml document map is use to marshall reference to object to the xml dom a key in map is a java object a value in map is string represent a marshal reference to that object map is use to cache prototype object the document use output the current node use output the factory use to create object create a instance write the content of the dom output into the specify output stream write the content of the dom output into the specify output stream put a element into the dom document the element is add a a child to the current element in the dom document then it become the current element the element must be close using close element close the current element of the dom document the parent of the current element become the current element exception illegal argument exception the provide tag name doe not match the tag name of the element element current get name equal tag name illegal argument exception attempt to close wrong element +tag name + + element current get name add a comment to the current element of the dom document add a text to current element of the dom document note multiple consecutive text will be merge add an attribute to current element of the dom document add an attribute to current element of the dom document add an attribute to current element of the dom document add an attribute to current element of the dom document remove the awkard 0 at the end of each number string str to string value str end with 0 str str substring 0 str length 2 element current set attribute name str add an attribute to current element of the dom document add attribute string name value remove the awkard 0 at the end of each number string str to string value str end with 0 str str substring 0 str length 2 element current set attribute name str write object object o i o exception o null open element null close element o dom storable write storable dom storable o o string open element string add text string o close element o integer open element add text o to string close element o open element add text o to string close element o open element add text o to string close element o open element add text o to string close element o open element add text o to string close element o color color c color o open element color add attribute rgba + integer to hex string c get r g b close element o open element array a o i 0 i a length i++ write object integer a i close element o open element array a o i 0 i a length i++ write object a i close element o open element array a o i 0 i a length i++ write object a i close element o font font f font o open element font add attribute name f get name add attribute style f get style add attribute size f get size close element o open element e o add attribute type factory get name e add text factory get value e close element illegal argument exception unable to store +o+ +o get write storable dom storable o i o exception string tag name factory get name o tag name null illegal argument exception no tag name +o open element tag name objectid contain key o add attribute ref string objectid get o string id integer to string objectid size 16 objectid put o id add attribute id id o write close element add attribute string name value value value value add attribute name value add attribute string name value value value value add attribute name value add attribute string name value value value value add attribute name value add attribute string name value value value value add attribute name value add attribute string name string value string value value equal value add attribute name value object get prototype prototype null prototype hash map string object prototype contain key current get node name prototype put current get node name factory create current get node name prototype get current get node name set doctype string doctype doctype doctype 