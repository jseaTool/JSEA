quad tree drawing java 2 0 2006 01 14 copyright c 1996 2006 by the original author of jhotdraw and all it contributor jhotdraw org all right reserve software is the confidential and proprietary information of jhotdraw org confidential information you shall not disclose such confidential information and shall use it only in accordance with the term of the license agreement you enter into with jhotdraw org ??? quad tree drawing us a quad tree2 d to improve responsiveness of drawing which contain many figure author wern randelshof version 2 0 2006 01 14 change to support precision coordinate br 1 0 2003 12 01 derive from jhotdraw 5 4b1 create a instance implementation note sorting can not be orphan figure an iterator to iterate in z order front to back over the figure fall through 1 c sort c collection figure find figure within rectangle2 d r collection figure c find figure r array list figure result array list figure c size figure f c r contain f get bound result add f result bring to front figure figure figure remove figure figure add figure need sorting true fire area invalidate figure get draw bound send to back figure figure figure remove figure figure add 0 figure need sorting true fire area invalidate figure get draw bound we propagate all edit event from our figure to undoable edit listener which have register with u undoable edit happen undoable edit event e fire undoable edit happen e get edit figure attribute change figure event e contain figure f figure contain f ensure that the figure are sort in z order sequence ensure sort need sorting collection sort figure figure layer comparator i n s t a n c e need sorting false 