drawing java 2 1 2006 07 08 copyright c 1996 2006 by the original author of jhotdraw and all it contributor jhotdraw org all right reserve software is the confidential and proprietary information of jhotdraw org confidential information you shall not disclose such confidential information and shall use it only in accordance with the term of the license agreement you enter into with jhotdraw org ??? drawing author wern randelshof version 2 1 2006 07 08 extend bean br 2 0 1 2006 02 06 ugly dirty fix index out of bound exception when undoing removal of figure br 2 0 2006 01 14 change to support precision coordinate br 1 0 2003 12 01 derive from jhotdraw 5 4b1 create a instance remove all figure get the number of figure implementation note we create a collection to avoid problem that may be cause the collection is somehow connect to our figure connection figure f array list figure to be orphan basic remove f call basic add and then call figure add notify and fire figure add add figure figure index get figure count basic add index figure figure add notify fire figure add figure fire undoable edit happen undoable edit string get presentation name figur einf\u00fcgen undo cannot undo exception super undo basic remove figure figure remove notify drawing fire figure remove figure redo cannot undo exception super redo basic add index figure figure add notify drawing fire figure add figure basic add figure figure basic add get figure count figure call basic remove and then call figure add notify and fire figure add remove figure figure contain figure index index of figure basic remove figure figure remove notify fire figure remove figure fire undoable edit happen undoable edit string get presentation name figur entfernen redo cannot undo exception super redo basic remove figure figure remove notify drawing fire figure remove figure undo cannot undo exception super undo basic add index figure figure add notify drawing fire figure add figure fire area invalidate figure get draw bound index of figure figure notify all listener list that have register interest notification on event type fire area invalidate rectangle2 d dirty region drawing event event null notify all listener that have register interest guarantee to a non null array object listener listener list get listener list process the listener last to first notify those that are interest in event i listener length 2 i 0 i 2 listener i drawing listener lazily create the event event null event drawing event null dirty region drawing listener listener i+1 area invalidate event notify all listener list that have register interest notification on event type fire undoable edit happen undoable edit edit undoable edit event event null listener list get listener count 0 notify all listener that have register interest guarantee to a non null array object listener listener list get listener list process the listener last to first notify those that are interest in event i listener length 2 i 0 i 2 event null event undoable edit event edit listener i undoable edit listener undoable edit listener listener i+1 undoable edit happen event notify all listener list that have register interest notification on event type fire figure add figure f drawing event event null notify all listener that have register interest guarantee to a non null array object listener listener list get listener list process the listener last to first notify those that are interest in event i listener length 2 i 0 i 2 listener i drawing listener lazily create the event event null event drawing event f f get draw bound drawing listener listener i+1 figure add event notify all listener list that have register interest notification on event type fire figure remove figure f drawing event event null notify all listener that have register interest guarantee to a non null array object listener listener list get listener list process the listener last to first notify those that are interest in event i listener length 2 i 0 i 2 listener i drawing listener lazily create the event event null event drawing event f f get draw bound drawing listener listener i+1 figure remove event font render context get font render context font render context set font render context font render context frc font render context frc read dom input in i o exception in open element figure i 0 i in get element count i++ figure f add f figure in read object i in close element write dom output out i o exception out open element figure figure f get figure out write object f out close element the drawing view synchroniz on the lock when drawing a drawing object get lock lock 