bidirectional connection tool java 2 0 2006 01 14 copyright c 1996 2006 by the original author of jhotdraw and all it contributor jhotdraw org all right reserve software is the confidential and proprietary information of jhotdraw org confidential information you shall not disclose such confidential information and shall use it only in accordance with the term of the license agreement you enter into with jhotdraw org ??? a tool that can be use to connect figure to split connection and to join two segment of a connection connection tool turn the visibility of the connector on when it enter a figure the connection object to be create is specify by a prototype p f i x m e use a tracker instance each state of tool author wern randelshof version 2 0 2006 01 14 change to support precision coordinate br 1 0 2003 12 01 derive from jhotdraw 5 4b1 the anchor point of the interaction the currently create figure the currently manipulate connection point the currently edit connection the figure that wa actually add note can be a different figure from the one which ha be create the prototypical figure that is use to create connection create a instance manipulate connection in a context dependent way the mouse down hit a figure start a connection the mousedown hit a connection split a segment or join two segment adjust the create connection or split segment connect the figure the mouse is release over another figure create the connection figure by the figure prototype is clone connection figure create figure connection figure f connection figure prototype clone get editor apply attribute to f attribute null map entry attribute key object entry attribute entry set f set attribute entry get key entry get value f find a connectable figure target figure find source point2 d p drawing drawing find connectable figure p drawing find a connectable figure target figure find target point2 d p drawing drawing figure target find connectable figure p drawing figure start get start connector get owner target null get connection null target can connect get connection can connect start target || get connection can connect target start target null find an exist connection figure connection figure find connection point2 d p drawing drawing figure f drawing get figure front to back figure f inside f find figure inside p f inside null f inside connection figure connection figure f inside null set connection connection figure connection connection connection get the connection which is create by tool connection figure get connection connection track connector mouse event e point2 d p view to drawing point e get x e get y figure c null get start connector null c find source p get drawing c find target p get drawing track the figure contain the mouse c get target figure get target figure null get target figure set connector visible false null set target figure c get start connector null get target figure null prototype can connect get start connector get owner get target figure || prototype can connect get target figure get start connector get owner get target figure set connector visible true get connection get target figure null prototype can connect get target figure get target figure set connector visible true get connection connector cc null c null cc find connector p c prototype cc get target connector set target connector cc view check damage draw graphics2 d g create figure null create figure draw g connector find connector point2 d p figure target connection figure f target find connector p f find a connection start figure figure find connection start point2 d p drawing drawing figure target find connectable figure p drawing target null target can connect target null figure find connectable figure point2 d p drawing drawing drawing find figure except p create figure set start connector connector start connector start connector start connector connector get start connector start connector set end connector connector end connector end connector end connector connector get end connector end connector set target connector connector target connector target connector target connector connector get target connector target connector set target figure figure target target target figure get target figure target get the figure that wa actually add note can be a different figure from the one which ha be create figure get create figure create figure set create figure figure create figure create figure create figure figure area invalidate figure event evt fire area invalidate evt get invalidate area figure add figure event e figure change figure event e figure remove figure event e figure request remove figure event e figure attribute change figure event e 