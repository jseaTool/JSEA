2002 univ dept part m l l e t m achine learning languag e toolkit 1 0 information see ` l e n e mc callum optimize test junit framework logging io random classify optimize line optimiz optimize optimizable pipe pipe iterator type contain testing subclass maximizable maximizable gradient especially useful verify consistency value gradient function instance maximizable gradient test optimizable test logger logger logger get logger test optimizable get name test optimizable name name num component 1 set gradient component check negative check num component n num component n test can retrieve get maxable instance maximizable test current overwrite test get optimizable maxable test maximizable test get unique value maxable get num maxable get 0 length i++ maxable test sure there matrix ops 0 0 maxable get 0 length i++ test value gradient direction optimizable gradient value maxable direction num maxable get num num direction length old num num normalize direction direction clone arraycopy direction 0 normalize direction 0 num matrix ops ab normalize normalize direction value maxable get value gradient optimizable function analytic gradient num maxable get maxable get old maxable get value gradient analytic gradient gradient calculate slope value setting epsilon individual element analytical gradient empirical gradient equal simplifie comparison individual dimension gradient thus debug easy direction gradient matrix ops dot analytic gradient normalize direction epsilon 0 1 matrix ops ab norm analytic gradient tolerance 0 00001 direction gradient epsilon 5 epsilon +epsilon+ tolerance +tolerance matrix ops plus equal normalize direction epsilon logger fine print maxable ep value maxable get value slope ep value value epsilon value +value+ epsilon +epsilon+ ep value + ep value+ slope +slope+ gradient +direction gradient na n slope slope difference math ab slope direction gradient logger info test maximizable + slope tolerance +tolerance+ gradient slope +direction gradient+ value+epsilon slope +slope+ slope difference +slope difference maxable old math ab slope difference tolerance slope difference +slope difference+ great tolerance +tolerance slope difference test value gradient function consistent current compute both analytic gradient tt maxable get value gradient tt empirical gradient current f function compute maxable tt f + epsilon f tt verifie angle between empirical analytic gradient close 0 see test value gradient test value gradient see test value gradient random test value gradient random illegal angle tolerance test value gradient current optimizable gradient value maxable maxable get num value maxable get value gradient maximizable function analytic gradient maxable get num empirical gradient maxable get num maxable get maxable get value gradient analytic gradient gradient calculate slope value maxable get value gradient empirical gradient setting epsilon individual element analytical gradient empirical gradient equal simplifie comparison individual dimension gradient thus debug easy ca huge epsilon norm analytic gradient close 0 next line norm math max 0 1 matrix ops two norm analytic gradient component analytical gradient very small square two norm epsilon too large k m norm math max 0 1 matrix ops ab norm analytic gradient epsilon 0 1 norm tolerance epsilon 5 epsilon +epsilon+ tolerance +tolerance sample parameter interval 1 num component 0 sample parameter interval math max 1 length num component logger info check +sample parameter interval+ th component check direction perturb measure value sure gradient maxable get value gradient 0 length i++ 0 uncomment line debug parameter ca length sample parameter interval % sample parameter interval 0 + epsilon logger fine print maxable ep value maxable get value slope ep value value epsilon value +value+ ep value +ep value+ slope +i+ +slope+ gradient +analytic gradient na n slope logger info test maximizable check single index +i+ gradient slope +analytic gradient + value+epsilon slope +slope+ slope difference + slope analytic gradient negative below because gradient point direction maximize function empirical gradient slope normalize matrix same l2 length analytic gradient two norm + matrix ops two norm analytic gradient empirical gradient two norm + matrix ops two norm empirical gradient matrix ops time equal analytic gradient 1 0 matrix ops two norm analytic gradient matrix ops time equal empirical gradient 1 0 matrix ops two norm empirical gradient n n e m p 0 analytic gradient length i++ i+ +analytic gradient + +empirical gradient angle between two vector radian dot matrix ops dot analytic gradient empirical gradient math almost equal dot 1 0 logger info test maximizable angle zero 0 0 angle math aco dot logger info test maximizable angle +angle math ab angle tolerance illegal gradient value mismatch angle + angle + tol + tolerance na n angle illegal gradient value angle na n angle test get value get value gradient consistent test consistency tt 0 tt tt 0 0001 grad f tt see test value gradient current test value gradient current illegal test test value gradient optimizable gradient value maxable maxable get num matrix ops 0 0 maxable test value gradient current maxable matrix ops 0 0 delta maxable get num maxable get value gradient delta logger info gradient two norm + matrix ops two norm delta logger info max parameter change + matrix ops infinity norm delta 0 001 matrix ops time equal delta 0 0001 matrix ops plus equal delta maxable test value gradient current maxable test get value get value gradient consistent random parameter setting see test value gradient current test value gradient current illegal test test value gradient random optimizable gradient value maxable random r maxable get num 0 length i++ r next r next maxable test value gradient current maxable maximizable 3x^2 5x + 2 simple poly optimizable gradient value 1 get 0 0 get num 1 get parameter n 0 0 0 parameter n n get value 3 0 0 5 0 + 2 get value gradient buffer buffer 0 3 0 5 wrong simple poly simple poly get value gradient buffer buffer 0 3 0 w r o n g miss 5 test test value gradient simple poly maxable simple poly test value gradient maxable wrong simple poly bad maxable wrong simple poly test value gradient bad maxable fail wrong simply poly fail test maxmiziable e test suite test suite test optimizable up junit textui test runner run suite 