2002 univ dept part m l l e t m achine learning languag e toolkit 1 0 information see ` l e n e classify io o io input stream io output stream io serializable logging logger classify boostable classify classification classify classifier pipe pipe type alphabet type feature vector type gain ratio type instance type instance logger math c4 5 decision tree classifier see c45 trainer gary huang ghuang ghuang c45 classifier boostable serializable logger logger logger get logger c45 get name node m root c45 pipe instance pipe c45 node root instance pipe m root root node get root m root node get leaf node node feature vector fv node get left child node get child node fv value node get gain ratio get max value index node get gain ratio get max value threshold get leaf node get left child fv get leaf node get child fv classification classify instance instance feature vector fv feature vector instance get instance pipe || fv get alphabet instance pipe get alphabet node leaf get leaf m root fv classification instance leaf get gain ratio get base label prune tree description length prune get root compute cost prune total node tree get size node root get root root 0 1+root get num descendant print tree print get root get root print node serializable serial u 1 l gain ratio m gain ratio entire instance root node instance m ilist index instance node m inst index vocabulary alphabet m dict mininum instance allow node m min num inst node m parent m left child m child node instance ilist node parent min num inst ilist parent min num inst node instance ilist node parent min num inst inst index inst index inst index ilist size 0 inst index length ii++ inst index m gain ratio gain ratio gain ratio ilist inst index min num inst m ilist ilist m inst index inst index m dict m ilist get alphabet m min num inst min num inst m parent parent m left child m child root depth zero depth depth 0 node p m parent p p p m parent depth++ depth get size m inst index length leaf m left child m child root m parent node get parent m parent node get left child m left child node get child m child gain ratio get gain ratio m gain ratio get split feature m dict lookup m gain ratio get max value index instance get instance instance ret instance m ilist get pipe 0 m inst index length ii++ ret add m ilist get m inst index ret count leaf descendant node get num descendant leaf 0 count 0 get left child leaf count + 1 + get left child get num descendant get child leaf count + 1 + get child get num descendant count split m ilist illegal freeze cannot split num left child 0 left child m inst index length 0 m inst index length i++ instance instance m ilist get m inst index feature vector fv feature vector instance get fv value m gain ratio get max value index m gain ratio get max value threshold left child num left children++ left child logger info left child size + num left child + child size + m inst index length num left child left index num left child index m inst index length num left child 0 ri 0 0 m inst index length i++ left child left index li++ m inst index index ri++ m inst index m left child node m ilist m min num inst left index m child node m ilist m min num inst index compute cost prune cost get m l leaf cost + 1 min cost1 get left child compute cost prune min cost2 get child compute cost prune cost split math log m gain ratio get num split point best feature gain ratio log2 min cost n math min cost s+1 cost split+1+min cost1+min cost2 math almost equal min cost n cost s+1 m left child m child min cost n calculate description length node e length binary encoding describe feature split value node get m l num m ilist get target alphabet size mdl get size get gain ratio get base entropy mdl + num 1 math log get size 2 0 2 gain ratio log2 pi pow math pow math p num 2 0 gamma val math gamma num 2 0 mdl + math log pi pow gamma val gain ratio log2 mdl save memory allow ilist garbage collect delete node instance stop growth m left child m left child stop growth m child m child stop growth m ilist get name get buffer name buffer get buffer name buffer sb buffer m parent sb append root m parent get parent sb append \ sb append m dict lookup m parent get gain ratio get max value index sb append \ m parent get left child sb append sb append sb append m parent get gain ratio get max value threshold sb append sb append m parent get buffer name sb append \ sb append m dict lookup m parent get gain ratio get max value index sb append \ m parent get left child sb append sb append sb append m parent get gain ratio get max value threshold sb append print tree root node print print print prefix leaf best label index get gain ratio get base label get best index num majority label get gain ratio get base label value best label index get size root + get gain ratio get base label get best label + + num majority label + + get size feat name m dict lookup get gain ratio get max value index threshold get gain ratio get max value threshold print prefix + \ + feat name + \ + threshold + m left child leaf best label index m left child get gain ratio get base label get best index num majority label m left child get gain ratio get base label value best label index m left child get size m left child get gain ratio get base label get best label + + num majority label + + m left child get size m left child print prefix + | print prefix + \ + feat name + \ + threshold + m child leaf best label index m child get gain ratio get base label get best index num majority label m child get gain ratio get base label value best label index m child get size m child get gain ratio get base label get best label + + num majority label + + m child get size m child print prefix + | serialization serial u overriden prevent innocuou making serialization mechanism think external format change serial u 1 u r r e n t e r l v e r o n 1 write output stream o write u r r e n t e r l v e r o n write get instance pipe write m root read input stream o found read u r r e n t e r l v e r o n found mismatch c45 want + u r r e n t e r l v e r o n + get + instance pipe pipe read m root node read 