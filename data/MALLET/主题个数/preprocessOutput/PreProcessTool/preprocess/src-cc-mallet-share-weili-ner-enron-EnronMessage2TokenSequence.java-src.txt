2002 univ dept part m l l e t m achine learning languag e toolkit 1 0 information see ` l e n e wei weili weili share weili n enron regex io pipe share weili n type enron message2 pipe serializable save skip part sent skip blank line original message content type content encoding forward sent bcc label t e t m e l o t o n p e r o n o r g n z t o n r o n y m p h o n e m o n e y p e r e n t hash header name enron message2 label alphabet header name hash instance pipe instance carrier label target label label alphabet get target alphabet buffer save ? buffer word transformation wt word transformation f carrier get buffer message buffer buffer reader buffer reader reader f skip header first blank line line read line line line equal line line lower 5 9 i++ line start skip blank line 9 header line substring skip blank line length line read line line equal line start || line start header + line tokeniz st tokeniz header st st next end enron com substring 0 length 10 dot index dot 1 dot last index dot last index 1 dot++ dot+1 length 1 header name add substring dot+1 dot 1 header name add substring 0 dot dot+1 length 1 header name add substring dot+1 line read line line read line header 0 skip length i++ index line lower index skip index 1 prefix line substring 0 index trim header j 0 j prefix length j++ prefix j prefix j prefix j header header header 0 skip blank line length i++ index line lower index skip blank line index 1 prefix line substring 0 index trim header j 0 j prefix length j++ prefix j prefix j prefix j header header header line read line line equal message append line message append o e err e current label o tokeniz st tokeniz message read st read st next read equal tag st next tag equal e n m e || tag equal t m e || tag equal n u m e next st next next equal current label o tag start e n m e || tag start t m e || tag start n u m e type tag substring tag index +1 type start t y p e type type substring type index \ +1 type last index \ nest entity someth current label equal o 0 label length i++ label equal type current label + type next st next next equal alarm add target add current label save append append tag read there tag tokeniz wordst tokeniz ` $%^ + |\\ \ ? \r wordst word wordst next word equal || word equal || word equal || word equal \r original word word wt transform word check header name header name contain word lower feature value h e e r p e r o n 1 0 append add target add current label save append original word append current label start current label + current label substring 2 carrier carrier target target save carrier carrier write f output stream oo output stream output stream f oo write header name oo close o e err + f + + e serialization serial u 1 u r r e n t e r l v e r o n 0 write output stream o write u r r e n t e r l v e r o n write save write header name read input stream o found read save read header name hash read 