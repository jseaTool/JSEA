2003 univ dept part m l l e t m achine learning languag e toolkit 1 0 information see ` l e n e type io serializable io o io input stream io output stream util generate name matrix arbitrary dimension simply us flat create tue sep 16 14 52 37 2003 charles sutton $ sparse matrixn v 1 1 2007 10 22 21 37 39 $ sparse matrixn matrix cloneable serializable sparse vector value num dimension size single size 1 dense matrix value sparse matrixn val num dimension 1 size 1 size 0 val length value sparse vector val compute single ize dense matrix dimension sz contain maximum dimension sparse matrixn sz num dimension sz length size sz clone total 1 j 0 j num dimension j++ total size j value sparse vector total compute single ize sparse matrixn sz val num dimension sz length size sz clone value sparse vector val compute single ize sparse matrix dimension value sz contain maximum dimension idx contain single index entry matrix single index compute index dimension link matrixn single index val flat entry matrix row major sparse matrixn sz idx val num dimension sz length size sz clone value sparse vector idx val compute single ize compute single ize 1 0 size length i++ size size size single size get num dimension num dimension get dimension sz 0 num dimension i++ sz size num dimension value index value value single index index value index value value value single index index value present index caller value get index value get index constant matrix clone matrix matrixn constructor clone sparse matrixn size value get index value get value clone clone matrix single index index matrixn single index size index useful dereferenc utility multidimensional single index sz index idx 0 dim 0 dim index length dim++ idx idx sz dim + index dim idx single index single index matrixn single index single index size equal o o sparse matrixn could extend work matrix sparse matrixn m2 sparse matrixn o num dimension m2 num dimension size equal m2 size value equal m2 value dimensional representation matrix caller value value index 0 major index etc value get value matrix single value value single value single size single size access index into sparse efficient sparse dense matrix num location value num location location index value location index value location location value value location location value location location value value value location location value single index index location location value index location location dot constant matrix m value dot m ab norm value ab norm norm value norm two norm value two norm infinity norm value infinity norm print value print na n value na n single value value value value value increment single value delta value value value value value value + delta v value v constant matrix m unsupport operation yet addend constant matrix m addend unsupport operation yet factor constant matrix m factor unsupport operation yet plus equal constant matrix m plus equal m 1 0 suck visitor pattern often plus equal constant matrix m factor m sparse vector value plus equal sparse sparse vector m factor m sparse matrixn sparse matrixn smn sparse matrixn m equal size smn size value plus equal sparse smn value factor unsupport operation size + m + match + unsupport operation can t add + m + + equal plus factor constant matrix m unsupport operation yet time equal factor value time equal factor elementwise time equal constant matrix m unsupport operation yet elementwise time equal constant matrix m factor unsupport operation yet divide equal factor value time equal 1 factor elementwise divide equal constant matrix m unsupport operation yet elementwise divide equal constant matrix m factor unsupport operation yet normalize norm value norm value time equal 1 norm norm two normalize norm value two norm value time equal 1 norm norm ab normalize norm value ab norm value time equal 1 norm norm infinity normalize norm value infinity norm value time equal 1 norm norm serialization garbage serial u 1 u r r e n t e r l v e r o n 1 write output stream o write write u r r e n t e r l v e r o n read input stream o found read read 