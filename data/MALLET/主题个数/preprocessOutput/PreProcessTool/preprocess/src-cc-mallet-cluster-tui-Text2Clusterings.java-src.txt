cluster tui gnu trove t io buffer reader io io output stream io reader io o io output stream logging logger cluster clustering cluster clustering cluster record pipe noop pipe pipe pipe iterator iterator type alphabet type instance type instance type label alphabet command logger progresspublic text2 clustering logger logger logger get logger text2 clustering get name o command summary text2 clustering tool convert clustering command process text2 clustering dir value length 0 logger warning you input r1 r2 specify + directory contain document exit 1 clustering clustering clustering dir value length fi 0 0 dir value length i++ alphabet alph alphabet alphabet value alph alphabet directory dir value subdir get sub dir directory alphabet cluster alph alphabet instance instance instance noop t label t j 0 j subdir length j++ record iterator subdir j get label cluster alph lookup index subdir j k 0 k record size k++ fi % 100 0 print fi fi % 10 0 print fi % 1000 0 fi 0 flush fi++ record record get k label add label instance add instance record alph value alph parse record label record record clustering clustering instance subdir length label logger info read + fi + + clustering length + clustering output stream oo output stream output stream output value oo write clustering clustering oo close e logger warning clustering + output value + + e e print stack trace get sub dir dir o ret f dir f f f directory f get name match ^\\ +$ ret add f ret parse f o buffer reader r buffer reader reader f line line line r read line line line trim word line split \\s+ word length 1 line add word ret line size 0 line size i++ ret line get ret command space dir command space text2 clustering input r directory contain cluster directory clustering command output command text2 clustering output f l e n m e clustering filename write clustering 