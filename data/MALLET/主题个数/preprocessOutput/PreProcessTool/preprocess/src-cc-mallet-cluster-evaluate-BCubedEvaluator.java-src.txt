cluster evaluate cluster clustering type instance evaluate clustering cub evaluation metric see bagga baldwin algorithm scoring coreference chain unlike metric evaluation award point correct singleton cluster aron culotta culotta degas 1 0 since 1 0 see clustering evaluator cub evaluator clustering evaluator macro precision macro recall macro num instance cub evaluator macro precision macro recall 0 0 macro num instance 0 evaluate clustering truth clustering predict val get evaluation score truth predict pr + val 0 + re + val 1 + f1 + val 2 evaluate total pr macro precision macro num instance re macro recall macro num instance f1 2 pr re pr + re pr + pr + re + re + f1 + f1 override get evaluation score clustering truth clustering predict precision 0 0 recall 0 0 instance instance truth get instance 0 instance size i++ label truth get label pr label predict get label index truth get index label label pr index predict get index label pr label correct 0 j 0 j pr index length j++ k 0 k index length k++ index k pr index j correct++ precision + correct pr index length recall + correct index length macro precision + precision macro recall + recall macro num instance + instance size precision instance size recall instance size precision recall 2 precision recall precision + recall 