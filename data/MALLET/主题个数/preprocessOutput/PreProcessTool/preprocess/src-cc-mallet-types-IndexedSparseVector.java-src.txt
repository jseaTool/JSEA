2002 univ dept part m l l e t m achine learning languag e toolkit 1 0 information see ` l e n e sparse yet present value can change you can t add value be zero miss mc callum type hash map iterator logging io type alphabet type feature type vector logger index sparse vector sparse vector serializable logger logger logger get logger sparse vector get name index2location index sparse vector index value capacity size check index sort duplicate index value capacity size check index sort duplicate index empty vector index sparse vector 0 0 0 0 binary vector possibly dense feature index possibly sparse index sparse vector feature index value feature index value binary vector index sparse vector feature index feature index xxx we need implement feature vector subclass constant matrix clone matrix index sparse vector index value constant matrix clone matrix zero value index index length arraycopy index 0 index 0 index length index sparse vector sv index sparse vector index value length value length value length share index2location unsafe index sparse vector ev allow modifiable t think index2location sv index2location index2location sv change value index vector index2location index length 0 index2 location index2 location index sparse vector index2 location index length +indice length+ maxindex +indice index length 1 index index2location size index length 0 size 0 size index index length 1 +1 size index length index2location size fill index2location 1 0 index length i++ index2location index value index value index2location index2 location location index index2location length ? index2location index 1 location 0 value location value illegal argument value isn t present index sparse vector value location location value value location value dislike name consistent dense vector ca column plus equal index value index2location index2 location location index index2location length ? index2location index 1 location 0 value location + value illegal argument value isn t present index sparse vector dot dense vector v ret 0 value 0 index length i++ ret + v value index 0 index length i++ ret + value v value index ret dot sparse vector v index length 0 0 index2location index2 location ret 0 v num loc v num location binary vector binary 0 v num loc i++ index v index location index index2location length index2location index 0 ret + v value location v binary vector binary 0 v num loc i++ index v index location index index2location length location index2location index location 0 ret + value location 0 v num loc i++ index v index location index index2location length location index2location index location 0 ret + value location v value location ret plus equal sparse sparse vector v factor index length 0 index2location index2 location 0 v num location i++ index v index location index index2location length location index2location index location 0 value location + v value location factor plus equal sparse sparse vector v index length 0 index2location index2 location 0 v num location i++ index v index location index index2location length location index2location index location 0 value location + v value location v 0 value length i++ value v location index test index allow index sparse vector index2location index2 location index index2location length 1 index2location index serialization serial u 1 u r r e n t e r l v e r o n 0 write output stream o index2location consider save disk space write u r r e n t e r l v e r o n read input stream o found read 