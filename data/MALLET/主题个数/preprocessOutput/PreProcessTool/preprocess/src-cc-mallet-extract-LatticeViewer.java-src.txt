2003 univ dept part m l l e t m achine learning languag e toolkit 1 0 information see ` l e n e extract io decimal format r f max lattice max lattice sum lattice transducer type create oct 31 2004 h r e f $ lattice viewer v 1 1 2007 10 22 21 37 44 $ lattice viewer f e t u r e u t o f f p t 25 l e n g t h 10 lattice2html print stream extor info info print writer writer print writer output stream writer lattice2html writer info lattice alpha beta value print lattice2html print writer extor info info info target size info predict size info input size info predict size n info target size start 0 start n start + l e n g t h 1 math min n start + l e n g t h seq match info predict info target start error2html info start write header print writer html head e r r o r o u t p u t link rel \ stylesheet\ \ css\ type \ css\ head body write footer print writer body html h t m l error2html print writer extor info info start anchor info idx+ +start+ +end p n m e \ +anchor+ \ p instance +info desc+ position +start+ +end info link \ +info link+ +anchor+ \ lattice p table output index start output input row info input start output table row target info target info predict start output table row predict info predict info target start info lattice output lattice row info lattice start output transition info start output feature info fv info predict info target start table num max viterbi 5 output lattice row print writer max lattice lattice start decimal format f decimal format 0 transducer duc lattice get transducer max math min num max viterbi duc num transducer sequence lattice best sequence max k 0 k max k++ tr \ delta\ td \ label\ delta rank +k+ td ip start ip ip++ transducer sequence get k get ip+1 get name equal lattice best output get ip print td \ viterbi\ print td print get name + +f format lattice get delta ip+1 get index + td tr num feature 5 get num feature num feature num feature num feature lattice viewer num feature num feature output transition print writer extor info info start transducer duc info lattice get transducer tr \ predtrans\ td \ label\ cost pr tran td ip start ip ip++ ip 0 td td transducer r f duc get info best get ip 1 transducer transition iterator it transition iterator info fv ip info predict ip it next it next cost it get weight str it describe transition math ab cost f e t u r e u t o f f p t print td + str + td print td match transition td tr tr \ targettrans\ td \ label\ cost target tran td ip start ip ip++ ip 0 td td seq match info predict info target ip || seq match info predict info target ip 1 transducer r f duc get info target get ip 1 td colspan + start + could find +info target get ip 1 + td transducer transition iterator it transition iterator info fv ip info target ip it next it next cost it get weight str it describe transition math ab cost f e t u r e u t o f f p t print td + str + td print td match transition td print td td tr tr \ predtargettrans\ td \ label\ cost pr target tran td ip start ip ip++ ip 0 td td seq match info predict info target ip || seq match info predict info target ip 1 transducer r f duc get info best get ip 1 transducer transition iterator it transition iterator info fv ip info target ip it next it next cost it get weight str it describe transition math ab cost f e t u r e u t o f f p t print td + str + td print td match transition td print td td tr output lattice row print writer sum lattice lattice start decimal format f decimal format 0 transducer duc lattice get transducer k 0 k duc num k++ transducer duc get k tr \ alpha\ td \ label\ alpha +state get name + td ip start ip ip++ print td +f format lattice get alpha ip+1 + td tr k 0 k duc num k++ transducer duc get k tr \ beta\ td \ label\ beta +state get name + td ip start ip ip++ print td +f format lattice get beta ip+1 + td tr k 0 k duc num k++ transducer duc get k tr \ gamma\ td \ label\ gamma +state get name + td ip start ip ip++ print td +f format lattice get gamma weight ip+1 + td tr output input row print writer input start tr \ input\ td \ label\ td ip start ip ip++ print td +input get ip get + td tr output index print writer start tr \ indices\ td \ label\ td ip start ip ip++ print td +ip+ td tr output table row print writer cs seq1 seq2 start tr \ +cs class+ \ td \ label\ +cs class+ td start i++ seq match seq1 seq2 print td print td \ error\ print seq1 get print td tr output feature print writer feature vector fv output start tr \ features\ td \ label\ feature td start i++ seq match output print td feature vector fv fv get feature vector k 0 k fv num location k++ print fv get alphabet lookup fv index location k fv value location k 1 0 print +fv value location k td td td tr seq match seq1 seq2 seq1 get equal seq2 get seq match seq1 seq2 start start i++ seq match seq1 seq2 extraction2html extraction extraction r f extractor extor print stream print writer writer print writer output stream writer extraction2html extraction extor extraction2html extraction extraction r f extractor extor print writer extraction2html extraction extor extraction2html extraction extraction r f extractor extor print stream show lattice print writer writer print writer output stream writer extraction2html extraction extor writer show lattice extraction2html extraction extraction r f extractor extor print writer show lattice write header 0 extraction get num document i++ document extraction docextr extraction get document extraction desc docextr get name doc docextr get document extor info info info doc doc desc n +i docextr extor show lattice show lattice info link lattice html lattice2html info write footer extor info input predict label target feature vector fv max lattice lattice best link name h t m l link desc idx extor info input predict label target desc idx input input predict predict target target desc desc idx idx extor info info doc doc desc idx document extraction docextr r f extractor extor show lattice instance c2 instance doc extor get tokenization pipe input c2 get input docextr get input label target docextr get target predict docextr get predict label extor info info extor info input predict target desc idx show lattice r f crf extor get crf xxx perhap next two line could transducer method??? instance carrier extor get feature pipe pipe instance input info fv feature vector carrier get info lattice max lattice crf carrier get info best info lattice best output info lattice get too large too many instance write e t r t o n p e r f l e 25 view dual result dir extraction e1 r f extractor extor1 extraction e2 r f extractor extor2 o e1 get num document e2 get num document illegal argument extraction t match different doc print writer str print writer writer dir html write dual extraction str e1 extor1 e2 extor2 0 e1 get num document str close max e1 get num document start 0 start max start + e t r t o n p e r f l e math min start + e t r t o n p e r f l e max print writer lattice str print writer writer dir lattice +start+ html write dual extraction lattice str e1 extor1 e2 extor2 start lattice str close compute lattice fname doc idx html doc doc idx e t r t o n p e r f l e get truncate start e t r t o n p e r f l e html doc lattice +start+ html write dual extraction print writer extraction e1 r f extractor extor1 extraction e2 r f extractor extor2 start show lattice write header start i++ document extraction doc1 e1 get document extraction document extraction doc2 e2 get document extraction desc doc1 get name doc1 str doc1 get document doc2 str doc2 get document doc1 str equal doc2 str err skip document +i+ extraction t match targ1 doc1 get predict label targ2 doc2 get predict label prediction match targ1 targ2 extor info info1 info doc doc1 str r f1 +desc c1 +i doc1 extor1 show lattice extor info info2 info doc doc1 str r f2 +desc c2 +i doc2 extor2 show lattice show lattice add link html lattice html info1 link info2 link compute lattice fname dual lattice2html desc info1 info2 write footer lattice alpha beta value print dual lattice2html print writer desc extor info info1 extor info info2 info1 predict size info1 target size info1 input size info1 predict size info2 input size info2 predict size info2 predict size info2 target size n info1 target size start 0 start n start + l e n g t h 1 math min info1 predict size start + l e n g t h seq match info1 predict info2 predict start error2html info1 start error2html info2 start prediction match targ1 targ2 targ1 size targ2 size 0 targ1 size i++ targ1 get equal targ2 get 