2003 univ dept part m l l e t m achine learning languag e toolkit 1 0 information see ` l e n e inference hash iterator collection io output stream io o io input stream type factor type factor graph type table factor type variable variable elimination algorithm inference graphical model create mon sep 22 17 34 00 2003 charles sutton $ variable elimination v 1 1 2007 10 22 21 37 49 $ variable elimination inferenc factor eliminate collection phi variable node hash phi hash collect potential variable iterator j phi iterator j next factor cpf factor j next cpf var empty || cpf contain var node phi add cpf j table factor multiply phi bulk variable elimination algorithm marginal density variable q u e r y undirect model m o e l density un normalize normalization function compute normalization factor easy factor unnormaliz marginal factor graph model variable query here elimination random note bucket efficient well potential hash phi hash iterator model factor iterator next factor factor factor next phi add factor duplicate node model variable eliminate node turn iterator node iterator next variable node variable next node query eliminate query variable last factor p f eliminate phi node extract marginalize over variable factor single p f p f var size 1 single p f p f single p f p f marginalize node add back potential phi add single p f now potential left contain query variable u n l e graph disconnect just eliminate query var factor marginal eliminate phi query marginal contain var query marginal var size 1 marginal compute normalization constant model compute normalization factor factor graph m what we ll get unnormaliz marginal arbitrary node sum marginal get normalization factor variable var variable m variable iterator next factor marginal unnormaliz marginal m var marginal sum factor graph mdl current inert work lookup marginal compute marginal factor graph m mdl current m factor lookup marginal variable var factor marginal unnormaliz marginal mdl current var marginal normalize marginal serialization serial u 1 seralization incompatible these smart can these backward compatibility write output stream o write read input stream o found read 