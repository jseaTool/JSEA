2010 univ dept part m l l e t m achine learning languag e toolkit 1 0 information see ` l e n e semi supervise constraint gnu trove t gnu trove t hash map bit sum lattice semi supervise label map type feature vector type feature vector type instance type instance constraint distribution over single label condition presence input feature subclass g e multiple constraint group together here thing efficient gregory druck label g e constraint g e constraint map between input feature index constraint t hash map label g e constraint constraint label map map cache constrain feature fire last feature vector preproces call t cache label g e constraint constraint t hash map label g e constraint cache t label g e constraint t hash map label g e constraint constraint label map map constraint constraint map map cache t add constraint fi target weight constraint label map label map map map map pre process feature vector fv cache reset quick fi cache constrain input feature loc 0 loc fv num location loc++ fi fv index location loc constraint contain key fi cache add fi constraint contain key fv get alphabet size cache add fv get alphabet size find example contain constrain input feature bit pre process instance count 0 fi feature vector fv bit bit bit size instance instance feature vector fv feature vector instance get ip 0 ip fv size ip++ fv fv get ip loc 0 loc fv num location loc++ fi fv index location loc constraint contain key fi constraint get fi count + 1 bit constraint contain key fv get alphabet size bit constraint get fv get alphabet size count + 1 ii++ bit get composite constraint feature value feature vector fv ip si1 si2 value 0 li2 map get label index si2 0 cache size i++ value + constraint get cache get quick get value li2 value get value zero expectation fi constraint key constraint get fi expectation map get num label compute expectation sum lattice lattice gamma t cache t 0 lattice size i++ lattice get sum lattice lattice lattice get feature vector fv feature vector lattice get input gamma lattice get gamma ip 0 ip fv size ++ip cache reset quick feature vector fv fv get feature vector ip fi loc 0 loc fv num location loc++ fi fv index location loc binary constraint feature constraint contain key fi cache add fi constraint contain key fv get alphabet size cache add fv get alphabet size 0 map get num ++ map get label index label map t r t l e l gamma prob math gamma ip+1 j 0 j cache size j++ constraint get cache get quick j expectation + gamma prob label g e constraint target expectation count weight label g e constraint target weight target target weight weight expectation count 0 get count count get target target get expectation expectation get weight weight get value 