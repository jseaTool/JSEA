2011 univ dept part m l l e t m achine learning languag e toolkit 1 0 information see ` l e n e classify bit hash map logging logger classify classifier classify max ent classify max ent optimizable label classify constraint pr max ent l2 f l p r constraint classify constraint pr max ent p r constraint optimize memory f g optimize optimiz type instance type instance type label alphabet type label vector type matrix ops type label logger math penalty soft posterior regularization p r training max ent gregory druck gdruck gdruck max ent p r trainer classifier trainer max ent classifier trainer optimization max ent logger logger logger get logger max ent p r trainer get name command line normalize value min iteration 10 max iteration 500 q g p v constraint converge num iteration 0 tolerance 0 001 p g p v max ent p r constraint constraint max ent p p r aux classifier q max ent p r trainer max ent p r trainer max ent p r constraint constraint constraint constraint p gaussian prior variance p g p v p g p v p g p v q gaussian prior variance q g p v q g p v q g p v constraint filename constraint filename value flag value flag min iteration min iteration min iteration min iteration max iteration min iteration max iteration min iteration normalize normalize normalize normalize optimiz get optimiz runtime yet get iteration num iteration override finish training converge override max ent get classifier p override max ent train instance training train training max iteration max ent train instance training max iteration train training math min max iteration min iteration max iteration max ent train instance min iteration max iteration constraint constraint hash map constraint map feature constraint read constraint constraint logger info constraint + constraint map size constraint max ent p r constraint max ent l2 f l p r constraint pr constraint max ent l2 f l p r constraint get alphabet size get target alphabet size value normalize fi constraint map key pr constraint add constraint fi constraint map get fi q g p v constraint add pr constraint bit instance constraint bit size max ent p r constraint constraint constraint bit bitset constraint pre process instance constraint bitset instance unlabel clone empty 0 size ii++ instance constraint get label get get target label get un lock get target label label alphabet get target alphabet unlabel add get num feature unlabel get alphabet size setup model num num feature + 1 unlabel get target alphabet size p p max ent unlabel get pipe num setup aux model q p r aux classifier unlabel get pipe constraint old value m v l u e num iteration 0 num iteration max iteration num iterations++ base optimize q unlabel p num iteration 0 value optimize p compute value unlabel q base p g p v logger info iteration + num iteration + total value + value num iteration min iteration 1 2 0 math ab value old value tolerance math ab value + math ab old value + 1e 5 logger info p r value difference below tolerance old value + old value + value + value + converge old value value p optimize p compute value instance p r aux classifier q base p g p v instance label clone empty entropy 0 num label get target alphabet size 0 size ii++ score num label q get classification score get score 0 num label li++ base base 0 score n e g t v e n f n t y base log p math log base score + log p matrix ops normalize score entropy + math get entropy score label vector lv label vector label alphabet get target alphabet score instance instance instance get get lv label add instance train supervise max ent optimizable label opt max ent optimizable label label p opt gaussian prior variance p g p v memory f g bfg memory f g opt bfg optimize e e print stack trace bfg reset bfg optimize e e print stack trace value 0 max ent p r constraint constraint q get constraint feature plus sign because negative value value + constraint get complete value value + entropy + opt get value value optimize q instance classifier p first it num label get target alphabet size base first it base base size num label 0 size ii++ p classify get get label vector add base p r aux classifier optimizable optimizable p r aux classifier optimizable base q memory f g bfg memory f g optimizable bfg optimize e e print stack trace bfg reset bfg optimize e e print stack trace base 