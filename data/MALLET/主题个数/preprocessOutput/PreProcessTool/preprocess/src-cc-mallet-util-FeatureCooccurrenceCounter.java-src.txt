type gnu trove logging format io feature cooccurrence counter logger logger logger get logger feature cooccurrence counter get name command input command feature cooccurrence counter input f l e n m e filename read training instance stdin + instance feature feature bigram feature vector command weight command feature cooccurrence counter weight filename f l e n m e filename write word word weight command idf cutoff command feature cooccurrence counter idf cutoff n u m e r 3 0 word f below threshold link word command unlink command feature cooccurrence counter unlink filename f l e n m e write word be link t hash map feature feature count instance instance num feature document frequency feature cooccurrence counter instance instance instance instance num feature instance get alphabet size feature feature count t hash map num feature feature 0 feature num feature feature++ feature feature count feature t hash map document frequency num feature count t hash map feature count t hash map index 0 instance instance instance feature feature feature instance get 0 feature get length i++ feature count adjust put value feature get index position 1 1 key feature count key 0 key length 1 i++ left feature key j i+1 j key length j++ feature key j feature feature count left feature adjust put value feature 1 1 feature feature count feature adjust put value left feature 1 1 key key document frequency key ++ feature count t hash map index++ index % 1000 0 err index g2 left both total smooth contingency table just left left both + 0 01 just both + 0 01 both + 0 01 total left + both + 0 01 total + 0 04 left marginal prob just left + both total marginal prob just + both total log left math log left marginal prob log math log marginal prob log left math log 1 0 left marginal prob log math log 1 0 marginal prob g2 both math log both total log left log + just left math log just left total log left log + just math log just total log left log + math log total log left log g2 print count o format formatt format get instance formatt maximum fraction digit 3 alphabet alphabet instance get alphabet log total doc math log instance size log cache instance size + 1 n 1 n log cache length n++ log cache n math log n unlink value print writer print writer unlink value feature 0 feature num feature feature++ feature f log total doc log cache document frequency feature feature f idf cutoff value alphabet lookup feature close print writer print writer weight value feature 0 feature num feature feature++ t hash map feature count feature feature count feature key feature count key feature f log total doc log cache document frequency feature builder output builder output append alphabet lookup feature output append output append 1 0 document frequency feature 5 output feature f idf cutoff value 0 sorter sort weight sorter key length 0 key key key f log total doc log cache document frequency key key f idf cutoff value 0 sort weight sorter key key f idf cutoff value feature f idf cutoff value feature count get key document frequency feature sort weight sorter key 0 i++ sort sort weight 0 10 i++ sort weight length key sort weight get word alphabet lookup sort weight get weight sort weight get weight weight 0 05 output append + word + + weight output close command summary feature cooccurrence counter build contain weight between word type command process feature cooccurrence counter instance training instance load input value feature cooccurrence counter counter feature cooccurrence counter training counter count counter print count 