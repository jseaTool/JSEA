2011 univ dept part m l l e t m achine learning languag e toolkit 1 0 information see ` l e n e semi supervise tui io io input stream io output stream io reader io input stream io output stream io reader hash map random logging logger regex pattern r f max lattice multi segmentation evaluator noop transducer trainer simple tagger simple tagger sentence2 feature vector accuracy evaluator transducer transducer evaluator transducer trainer semi supervise r f trainer g e semi supervise f t constraint semi supervise constraint g e constraint semi supervise constraint label k l g e constraint semi supervise constraint label l2 range g e constraint semi supervise pr r f trainer p r semi supervise pr constraint label l2 ind p r constraint semi supervise pr constraint p r constraint pipe pipe pipe iterator line group iterator type alphabet type feature vector type instance type command logger math simple tagger train r f expectation constraint rath label train test run generic r f tagger p training test consist block line block instance separate blank line block line first specify input link simple tagger sentence2 feature vector variety command line option operation describe comment link gregory druck gdruck gdruck 1 0 simple tagger constraint logger logger logger get logger simple tagger constraint get name simple tagger allow simple tagger constraint command gaussian variance command simple tagger constraint gaussian variance e m l 10 0 gaussian prior variance training command q gaussian variance command simple tagger constraint q gaussian variance e m l 10 0 gaussian prior variance e step p r training command train command simple tagger constraint train true|false train command test command simple tagger constraint test lab seg start 1 1 start n n test measuring label segmentation start accuracy command model command simple tagger constraint model f l e n m e filename reading train run saving train model command training fraction command simple tagger constraint training proportion e m l 0 5 fraction training random split command random seed command simple tagger constraint random seed n t e g e r 0 random seed randomly select proportion instance training command order command simple tagger constraint order o m m e p e m l 1 label markov order backoff command forbid command simple tagger constraint forbid r e g e p \\ label1 label2 transition forbid match command allow command simple tagger constraint allow r e g e p label1 label2 transition allow match command command simple tagger constraint label t r n g o label context uninterest command penalty command simple tagger constraint penalty kl|l2 l2 penalty function constraint violation command learning command simple tagger constraint learning ge|pr ge learning command iteration command simple tagger constraint iteration n t e g e r 500 training iteration command viterbi output command simple tagger constraint viterbi output true|false print viterbi periodically dur training command connect command semi sup simple tagger fully connect true|false allow transition training command weight command semi sup simple tagger weight sparse|some dense|dense some dense sparse some dense heuristic dense feature transition command training command simple tagger constraint training true|false training model specify model command n best command simple tagger constraint n best n t e g e r 1 many answer output command cache size command simple tagger constraint cache size n t e g e r 100000 much information memoize n best decoding command input command simple tagger constraint input true|false input feature printing decoding output command num thread command simple tagger constraint thread n t e g e r 1 thread r f training command num reset command simple tagger constraint reset n t e g e r 4 l f g reset command command option command training testing running generic tagger command gaussian variance q gaussian variance train iteration test training fraction model random seed order forbid allow viterbi output connect weight penalty learning training n best cache size input num thread num reset train r f model training optionally testing test training training testing test possibly constraint constraint crf model eval accuracy evaluator possibly iteration training iteration var gaussian prior variance reset reset train model r f train g e instance training instance testing g e constraint constraint r f crf transducer evaluator eval iteration var reset logger info training + training size + instance testing logger info testing + testing size + instance num thread value 0 r f trainer g e trainer r f trainer g e crf constraint num thread value eval trainer add evaluator eval trainer gaussian prior variance var trainer num reset reset trainer train training iteration crf train r f model training optionally testing test training training testing test possibly constraint constraint crf model eval accuracy evaluator possibly iteration training iteration var gaussian prior variance train model r f train p r instance training instance testing p r constraint constraint r f crf transducer evaluator eval iteration var logger info training + training size + instance testing logger info testing + testing size + instance num thread value 0 r f trainer p r trainer r f trainer p r crf constraint num thread value trainer add evaluator eval trainer p gaussian prior variance var trainer train training iteration iteration crf r f get r f instance training order label forbid allow connect pattern forbid pat pattern compile forbid pattern allow pat pattern compile allow r f crf r f training get pipe pipe start name crf add n training order label forbid pat allow pat connect 0 crf num i++ crf get weight transducer m p o l e w e g h t crf get start name weight 0 0 crf weight dimension densely crf test transducer test evaluate accuracy evaluator model transducer eval accuracy evaluator testing test test transducer trainer tt transducer evaluator eval instance testing eval evaluate instance tt testing testing transducer input produce k high scoring output sequence model transducer input input k answer k high scoring output sequence transducer model input k answer k 1 answer 1 answer 0 model transduce input max lattice lattice max lattice model input cache size value answer lattice best output sequence k 0 answer command line wrapper train test run generic r f tagger command line argument option shell quote help em em print command line usage information give longer prefix em em you want run interpret note interpret modification unlike some option you need gaussian variance em positive em gaussian prior variance training 10 0 train em em train iteration em positive em training iteration 500 test lab seg em start 1 em em 1 em em start n em em n em test measuring label segmentation em start em em em accuracy testing training proportion em between 0 1 em fraction training random split 0 5 model em filename em filename reading train run saving train model random seed em em random seed randomly select proportion instance training 0 order em comma separate em label markov order backoff 1 forbid em regular expression em em label 1 em em label 2 em match expression correspond transition forbid \\ nothing forbid allow em regular expression em em label 1 em em label 2 em match expression correspond expression forbid everyth allow label em em label context uninterest o viterbi output em em print viterbi periodically dur training fully connect em em allow transition training weight em sparse|some dense|dense em sparse some dense heuristic dense feature transition some dense n best em positive em answer output apply model 1 input em em input feature printing decoding output thread em positive em thread r f training 1 remain argument em training em training em training test em training testing random split em training em em test em training testing em test em testing em input em apply unlabel occur start current milli reader training test reader constraint instance training test rest command option process option rest length command option print usage illegal argument miss train value training reader rest test value test reader rest args+1 constraint reader rest args+2 constraint reader rest args+1 test reader rest pipe p r f crf transducer evaluator eval training value || train value model value command option print usage illegal argument miss model input stream input stream input stream model value crf r f read close p crf get input pipe p simple tagger sentence2 feature vector p get target alphabet lookup index value train value p target processing training instance p training add thru pipe line group iterator training pattern compile ^\\ $ logger info feature training +p get alphabet size test value test test instance p test add thru pipe line group iterator test pattern compile ^\\ $ random r random random seed value instance training list training split r training fraction value 1 training fraction value training training list 0 test training list 1 test value p target processing test instance p test add thru pipe line group iterator test pattern compile ^\\ $ p target processing test instance p test add thru pipe line group iterator test pattern compile ^\\ $ logger info predicate +p get alphabet size test value test value start lab eval accuracy evaluator instance training test training testing test value start seg pair test value substring 4 split pair length 1 command option print usage illegal argument miss segment start label + test value start tag pair length tag pair length 0 pair length i++ pair pair split \\ pair length 2 command option print usage illegal argument incorrectly specify segment start label + pair start tag pair 0 tag pair 1 eval multi segmentation evaluator instance training test training testing start tag tag command option print usage illegal argument test + test value p target processing alphabet target p get target alphabet buffer buf buffer label 0 target size i++ buf append append target lookup logger info buf train value crf crf get r f training order value value forbid value allow value hash map constraint f t constraint load g e constraint constraint training learning value equal ignore ge g e constraint constraint g e constraint penalty value equal ignore kl label k l g e constraint ge constraint label k l g e constraint fi constraint key dist constraint get fi same sum 0 prob dist length 0 dist length li++ prob dist 0 math almost equal dist 0 dist 1 same infinite prob prob 0 sum + prob same runtime k l divergence penalty cannot target range math almost equal sum 1 runtime target sum 1 k l divergence penalty ge constraint add constraint fi prob 1 constraint add ge constraint penalty value equal ignore l2 label l2 range g e constraint ge constraint label l2 range g e constraint fi constraint key dist constraint get fi 0 dist length li++ infinite dist 0 ge constraint add constraint fi dist 0 dist 1 1 constraint add ge constraint runtime unknown penalty + penalty value crf train g e training test constraint crf eval iteration value gaussian variance value num reset value learning value equal ignore pr p r constraint constraint p r constraint penalty value equal ignore l2 label l2 ind p r constraint pr constraint label l2 ind p r constraint fi constraint key dist constraint get fi 0 dist length li++ infinite dist 0 math almost equal dist 0 dist 1 runtime support range constraint p r development + penalty value infinite dist 0 pr constraint add constraint fi dist 0 q gaussian variance value constraint add pr constraint penalty value equal ignore kl runtime k l divergence support p r runtime unknown penalty + penalty value crf train p r training test constraint crf eval iteration value gaussian variance value runtime unknown learning algorithm + learning value model value output stream output stream output stream model value write crf close crf model value command option print usage illegal argument miss model input stream input stream input stream model value crf r f read close eval test noop transducer trainer crf eval test input input value 0 test size i++ input test get get output crf input n best value k output length 0 k a++ output size input size logger info fail decode input + + answer + j 0 j input size j++ buffer buf buffer 0 k a++ buf append output get j append input feature vector fv feature vector input get j buf append fv buf current milli start 1000 err take + + second 