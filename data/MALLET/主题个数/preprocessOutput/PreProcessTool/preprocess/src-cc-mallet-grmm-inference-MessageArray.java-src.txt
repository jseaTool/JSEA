2006 univ dept part m l l e t m achine learning languag e toolkit 1 0 information see ` l e n e inference gnu trove t iterator io print writer io output stream writer type factor type factor graph type log table factor type variable m int2 map efficiently manage message factor graph variable factor vice versa create feb 1 2006 h r e f $ message v 1 1 2007 10 22 21 37 49 $ message factor graph fg m int2 map message message factor variable num v num f log space message factor graph fg fg fg num v fg num variable num f fg factor size message m int2 map num v + num v log space fg get factor 0 log table factor log space log space factor get factor variable get factor variable variable factor get variable factor illegal argument factor get variable factor idx get index idx get index get idx idx factor get factor variable idx get index idx get index get idx idx factor get idx idx factor message get idx idx put factor variable factor msg idx get index idx get index message put idx idx msg put variable factor factor msg idx get index idx get index message put idx idx msg dangerou efficiency put idx idx factor msg message put idx idx msg iterator iterator iterator msg iterator message iterator idx msg iterator message idx message duplicate message dup message fg dup message deep message dup m int2 map deep m int2 map msg m int2 map m int2 map num v + num f keys1 msg keys1 0 keys1 length i++ k1 keys1 msg iterator msg msg iterator msg k1 msg next factor msg msg next msg current idx put k1 msg duplicate get index factor fg get index + 1 get index variable fg get index idx2obj idx idx 0 fg get idx fg get factor idx 1 dump dump print writer output stream writer dump print writer message iterator iterator next factor msg factor next message + + + msg dump iterator iterator idx1 0 idx2 1 keys1 keys2 iterator keys1 message keys1 keys1 length 0 keys2 message keys2 keys1 idx1 keys2 0 increment idx2++ idx2 keys2 length idx2 0 idx1++ keys2 message keys2 keys1 idx1 next idx1+1 keys1 length || idx2+1 keys2 length next increment message get keys1 idx1 keys2 idx2 unsupport operation idx2obj keys2 idx2 idx2obj keys1 idx1 msg iterator t iterator sub idx 1 msg iterator m int2 map msg idx idx idx sub msg curry idx next sub next factor next sub advance current message current idx sub key factor current message factor sub value current idx idx 