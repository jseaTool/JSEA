2002 univ dept part m l l e t m achine learning languag e toolkit 1 0 information see ` l e n e mc callum hash map iterator logging logger type alphabet type multinomial type logger feature transducer transducer logger logger logger get logger feature transducer get name these next two dictionary same alphabet input alphabet alphabet output alphabet hash map name2state hash map multinomial estimator count multinomial estimator count trainable feature transducer alphabet input alphabet alphabet output alphabet input alphabet input alphabet output alphabet output alphabet xxx these frozen? feature transducer alphabet dictionary dictionary dictionary feature transducer alphabet alphabet get input alphabet input alphabet alphabet get output alphabet output alphabet add name weight weight input output weight destination name name2state get name illegal argument name ` +name+ already name size weight weight input output weight destination name add weight m p o l e w e g h t add name2state put name trainable add name weight weight input output weight destination name add name weight weight input alphabet lookup index input output alphabet lookup index output weight destination name num size transducer get index get index iterator iterator iterator trainable trainable trainable f trainable f f wipe away previou count we have also potentially allocate esimator size increase count multinomial laplace estimator size count multinomial laplace estimator size count count 0 num i++ get trainable f reset trainable count reset count reset 0 num i++ get reset estimate count || count illegal transducer currently trainable multinomial count estimate multinomial count estimate 0 size i++ get weight log probability weight log probability estimate note inner we access feature transducer instance variable transducer name index weight weight transition transition gnu trove t hash map input2transition multinomial estimator transition count feature transducer transducer note you cannot add transition once create name index weight weight input output weight destination name feature transducer transducer input length output length input length weight length input length destination name length transducer transducer name name index index weight weight weight weight transition transition input length input2transition gnu trove t hash map transition count 0 input length i++ constructor place transtion into input2transition transition transition input output weight destination name transition index transducer get transducer transducer get weight weight get weight weight weight v weight v weight v weight v trainable f f transition count multinomial laplace estimator transition length transition count temporarily here debug multinomial estimator get transition estimator transition count reset transition count transition count reset get index index transducer transition iterator transition iterator input input position output output position input position 0 || output position 0 || output unsupport operation yet input transition iterator transition iterator input input position transducer transition iterator transition iterator input input position input index input alphabet lookup index input get input position input index 1 illegal argument input dictionary transition iterator input index transducer transition iterator transition iterator o input index input alphabet lookup index o input index 1 illegal argument input dictionary transition iterator input index transducer transition iterator transition iterator input transition iterator input transducer transition iterator transition iterator transition iterator get name name increment count count count illegal transducer currently trainable count increment index count increment count count count illegal transducer currently trainable count increment index count estimate transition count illegal transducer currently trainable multinomial transition transition count estimate 0 transition length i++ transition weight transition log probability serial u 1 suppres warning serial transition iterator transducer transition iterator index 1 we going feature transition index index 2 we chain feature transition next same input transition already initialize first transition index 3 we chain feature transition next same input next transition found chain index transition transition input iterate transition independent input transition iterator feature transition iterator over input 1 index 1 transition transition iterator input symbol transition iterator over +input input input index 2 transition transition input2transition get input next index 1 next index + index index transition length 1 index 2 ? transition transition next same input transducer next index 1 transition transition ++index index 2 index 3 transition transition next same input transition get destination get index index get input input alphabet lookup transition input get output output alphabet lookup transition output get weight transition weight transducer get transducer get destination transition get destination increment count count logger info feature transducer increment count +count transition count increment transition index count note natural ordering inconsistent equal transition input output weight index destination name destination transition next same input transition input output weight destination name input input output output weight weight next same input transition input2transition get input input2transition put input index caller constructor destination name destination name get destination destination destination name2state get destination name destination destination serial u 1 