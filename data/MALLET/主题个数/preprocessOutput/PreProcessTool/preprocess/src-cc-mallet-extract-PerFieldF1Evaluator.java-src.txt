2003 univ dept part m l l e t m achine learning languag e toolkit 1 0 information see ` l e n e extract io print stream io output stream io print writer decimal format iterator type label type label alphabet type matrix ops create oct 8 2004 h r e f $ f1 evaluator v 1 1 2007 10 22 21 37 44 $ f1 evaluator extraction evaluator comparator comparator exact match comparator print stream output stream comparator get comparator comparator comparator comparator comparator comparator comparator print stream get output stream output stream output stream output stream output stream output stream print stream output stream evaluate extraction extraction evaluate extraction there many record document index doc extractor most value evaluate description extraction extraction print stream num doc extraction get num document num doc extraction get num record label alphabet dict extraction get label alphabet num label dict size num corr num label num pr num label num num label docnum 0 docnum num doc docnum++ record extract extraction get record docnum record target extraction get target record docnum calc precision iterator extract field iterator next pr next label name pr get name target get name idx name get index j 0 j pr num value j++ num pr idx ++ value pr value j comparator num corr idx ++ we report move rath filler level output stream xxx t o o name supporting document output stream extraction output stream predict +pr output stream +true output stream calc target field iterator next next label name get name num name get index + num value description+ e g m e n t count name correct pr target 0 num label i++ label name dict lookup label name+ +num corr + +num pr + +num decimal format f decimal format 0 total f1 0 total field 0 description+ f1 name p r f1 0 num label i++ p num pr 0 ? 0 num corr num pr r num 0 ? 1 num corr num f1 p + r 0 ? 0 2 p r p + r num pr 0 || num 0 total f1 + f1 total fields++ label name dict lookup label name+ +f format p + +f format r + +f format f1 total corr matrix ops sum num corr total pr matrix ops sum num pr total matrix ops sum num p total corr total pr r total corr total f1 2 p r p + r o v e r l l micro average p +f format p + r +f format r + f1 +f format f1 o v e r l l macro average f1 +f format total f1 total field 