2003 pennsylvania part m l l e t m achine learning languag e toolkit 1 0 information see ` l e n e io io input stream io output stream io reader io input stream io output stream io reader random logging logger regex pattern type alphabet type augmentable feature vector type feature vector type feature vector type instance type instance type label alphabet type label type pipe pipe pipe iterator line group iterator command logger train test run generic r f tagger p training test consist block line block instance separate blank line block line first specify input link simple tagger sentence2 feature vector variety command line option operation describe comment link fernando pereira pereira ci upenn pereira ci upenn 1 0 simple tagger logger logger logger get logger simple tagger get name simple tagger allow simple tagger convert external encoding element binary feature link feature vector target processing training label test extract element label external encoding target link label two external encoding support ol link contain line whitespace separate link ol both represent row target processing last row label element represent row row row target processing name feature element describe row convert external encoding element binary feature link feature vector target processing training label test extract element label external encoding target link label two external encoding support ol link contain line whitespace separate link ol both represent row target processing last row label element represent row row row target processing name feature element describe row simple tagger sentence2 feature vector pipe gdruck previously there serial u be automatically generate compiler serialization serial u 2059308802200728625 l create simple tagger sentence2 feature vector instance simple tagger sentence2 feature vector alphabet label alphabet pars represent row into sentence correspond parse sentence sentence line sentence split line length 0 line length i++ line split instance pipe instance carrier input carrier get alphabet feature get alphabet label alphabet label label target input parse sentence input input input illegal argument get + input feature vector fv feature vector length target processing label label alphabet get target alphabet target label label length l 0 l length l++ n feature target processing l length 1 illegal miss label line + l + instance +carri get name n feature l length 1 target add l n feature n feature l length feature index f 0 f n feature f++ feature index feature lookup index l f gdruck alphabet growth stop feature index 1 ignore these feature feature index 0 feature index add feature index feature index arr feature index size index 0 index feature index size index++ feature index arr index feature index get index fv l feature induction value ? augmentable feature vector feature feature index arr feature index arr length feature vector feature feature index arr carrier feature vector fv target processing carrier target target carrier target label get target alphabet carrier command gaussian variance command simple tagger gaussian variance e m l 10 0 gaussian prior variance training command train command simple tagger train true|false train command test command simple tagger test lab seg start 1 1 start n n test measuring label segmentation start accuracy command model command simple tagger model f l e n m e filename reading train run saving train model command training fraction command simple tagger training proportion e m l 0 5 fraction training random split command random seed command simple tagger random seed n t e g e r 0 random seed randomly select proportion instance training command order command simple tagger order o m m e p e m l 1 label markov order backoff command forbid command simple tagger forbid r e g e p \\ label1 label2 transition forbid match command allow command simple tagger allow r e g e p label1 label2 transition allow match command command simple tagger label t r n g o label context uninterest command iteration command simple tagger iteration n t e g e r 500 training iteration command viterbi output command simple tagger viterbi output true|false print viterbi periodically dur training command connect command simple tagger fully connect true|false allow transition training command weight command simple tagger weight sparse|some dense|dense some dense sparse some dense heuristic dense feature transition command training command simple tagger training true|false training model specify model command n best command simple tagger n best n t e g e r 1 many answer output command cache size command simple tagger cache size n t e g e r 100000 much information memoize n best decoding command input command simple tagger input true|false input feature printing decoding output command feature induction command simple tagger feature induction true|false feature induction dur training command num thread command simple tagger thread n t e g e r 1 thread r f training command command option command training testing running generic tagger command gaussian variance train iteration test training fraction model random seed order forbid allow viterbi output connect weight training n best cache size input feature induction num thread train r f model training optionally testing test training training testing test possibly eval accuracy evaluator possibly order label markov order backoff label label forbid regular expression specify impossible label transition em current em em next em indicate forbid transition allow regular expression specify allow label transition indicate everyth allow forbid connect transition occur training iteration training iteration var gaussian prior variance train model r f train instance training instance testing transducer evaluator eval order label forbid allow connect iteration var r f crf pattern forbid pat pattern compile forbid pattern allow pat pattern compile allow crf crf r f training get pipe pipe start name crf add n training order label forbid pat allow pat connect 0 crf num i++ crf get weight transducer m p o l e w e g h t crf get start name weight 0 0 logger info training + training size + instance testing logger info testing + testing size + instance num thread value 0 num thread value 1 r f trainer thread label likelihood crft r f trainer thread label likelihood crf num thread value crft gaussian prior variance var weight value equal dense crft sparse weight crft some unsupport trick weight value equal some dense crft sparse weight crft some unsupport trick weight value equal sparse crft sparse weight crft some unsupport trick runtime unknown weight + weight value feature induction value illegal argument multi thread feature induction yet support converge 1 iteration i++ converge crft train training 1 % 1 0 eval change 1 high evaluate les often eval evaluate crft viterbi output value % 10 0 viterbi writer instance training testing training testing evaluate crft converge crft shutdown r f trainer label likelihood crft r f trainer label likelihood crf crft gaussian prior variance var weight value equal dense crft sparse weight crft some unsupport trick weight value equal some dense crft sparse weight crft some unsupport trick weight value equal sparse crft sparse weight crft some unsupport trick runtime unknown weight + weight value feature induction value crft train feature induction training testing eval iteration 10 20 500 0 5 converge 1 iteration i++ converge crft train training 1 % 1 0 eval change 1 high evaluate les often eval evaluate crft viterbi output value % 10 0 viterbi writer instance training testing training testing evaluate crft converge crf test transducer test evaluate accuracy evaluator model transducer eval accuracy evaluator testing test test transducer trainer tt transducer evaluator eval instance testing eval evaluate instance tt testing testing transducer input produce k high scoring output sequence model transducer input input k answer k high scoring output sequence transducer model input k answer k 1 answer 1 answer 0 model transduce input max lattice lattice max lattice model input cache size value answer lattice best output sequence k 0 answer command line wrapper train test run generic r f tagger command line argument option shell quote help em em print command line usage information give longer prefix em em you want run interpret note interpret modification unlike some option you need gaussian variance em positive em gaussian prior variance training 10 0 train em em train iteration em positive em training iteration 500 test lab seg em start 1 em em 1 em em start n em em n em test measuring label segmentation em start em em em accuracy testing training proportion em between 0 1 em fraction training random split 0 5 model em filename em filename reading train run saving train model random seed em em random seed randomly select proportion instance training 0 order em comma separate em label markov order backoff 1 forbid em regular expression em em label 1 em em label 2 em match expression correspond transition forbid \\ nothing forbid allow em regular expression em em label 1 em em label 2 em match expression correspond expression forbid everyth allow label em em label context uninterest o viterbi output em em print viterbi periodically dur training fully connect em em allow transition training weight em sparse|some dense|dense em sparse some dense heuristic dense feature transition some dense n best em positive em answer output apply model 1 input em em input feature printing decoding output thread em positive em thread r f training 1 remain argument em training em training em training test em training testing random split em training em em test em training testing em test em testing em input em apply unlabel occur reader training test instance training test num evaluation 0 iteration between eval 16 rest command option process option rest length command option print usage illegal argument miss train value training reader rest test value rest length 1 test reader rest args+1 test reader rest pipe p r f crf transducer evaluator eval training value || train value model value command option print usage illegal argument miss model input stream input stream input stream model value crf r f read close p crf get input pipe p simple tagger sentence2 feature vector p get target alphabet lookup index value train value p target processing training instance p training add thru pipe line group iterator training pattern compile ^\\ $ logger info feature training +p get alphabet size test value test test instance p test add thru pipe line group iterator test pattern compile ^\\ $ random r random random seed value instance training list training split r training fraction value 1 training fraction value training training list 0 test training list 1 test value p target processing test instance p test add thru pipe line group iterator test pattern compile ^\\ $ p target processing test instance p test add thru pipe line group iterator test pattern compile ^\\ $ logger info predicate +p get alphabet size test value test value start lab eval accuracy evaluator instance training test training testing test value start seg pair test value substring 4 split pair length 1 command option print usage illegal argument miss segment start label + test value start tag pair length tag pair length 0 pair length i++ pair pair split \\ pair length 2 command option print usage illegal argument incorrectly specify segment start label + pair start tag pair 0 tag pair 1 eval multi segmentation evaluator instance training test training testing start tag tag command option print usage illegal argument test + test value p target processing alphabet target p get target alphabet buffer buf buffer label 0 target size i++ buf append append target lookup logger info buf train value crf train training test eval order value value forbid value allow value connect value iteration value gaussian variance value crf model value output stream output stream output stream model value write crf close crf model value command option print usage illegal argument miss model input stream input stream input stream model value crf r f read close eval test noop transducer trainer crf eval test input input value 0 test size i++ input test get get output crf input n best value k output length 0 k a++ output size input size logger info fail decode input + + answer + j 0 j input size j++ buffer buf buffer 0 k a++ buf append output get j append input feature vector fv feature vector input get j buf append fv buf training training close test test close 