2011 univ dept part m l l e t m achine learning languag e toolkit 1 0 information see ` l e n e semi supervise pr bit r f transducer transducer trainer semi supervise label map semi supervise pr constraint p r constraint optimize memory f g optimize optimiz type instance posterior regularization trainer gregory druck r f trainer p r transducer trainer transducer trainer optimization converge it num thread p gpv tolerance value q value p r constraint constraint memory f g bfg r f crf label map label map r f trainer p r r f crf p r constraint constraint crf constraint 1 r f trainer p r r f crf p r constraint constraint num thread crf crf it 0 value n e g t v e n f n t y constraint constraint p gpv 10 tolerance 0 001 num thread num thread label map label map crf get output alphabet override get iteration it override transducer get transducer crf override finish training converge map between r f f t label label map label map map label map map p gaussian prior variance p gpv p gpv p gpv tolerance tolerance tolerance tolerance override train instance train num iteration train train 0 num iteration train instance train min it max it train train min it max it m v l u e train instance train min it max it max it step old value 0 max it + max it bit constrain instance bit p r constraint constraint constraint constrain instance constraint pre process train constraint label map label map remove 0 instance temp train train clone empty 0 train size ii++ constrain instance get temp train add train get removed++ train temp train err remove + remove + instance contain constraint p r auxiliary model model p r auxiliary model crf constraint it max iter++ start current milli train q constraint optimizable p r opt constraint optimizable p r crf train model num thread bfg memory f g opt bfg optimize max it step e e print stack trace opt shutdown j 0 j constraint size j++ constraint get j print q value opt get complete value q value 0 train p r f optimizable k l opt p r f optimizable k l crf train model opt get cache dot num thread 1 opt p gaussian prior variance p gpv memory f g bfg p memory f g opt p bfg p optimize max it step e e print stack trace opt p shutdown value opt p get value q value value 0 err total value + value + p value + opt p get value + q value + q value + err iteration + format % 2f current milli start 1000 + stopping criterion f g err convergence test + 2 0 math ab value old value + + tolerance math ab value + math ab old value + 1e 5 it min it 2 0 math ab value old value tolerance math ab value + math ab old value + 1e 5 err p value difference below tolerance old value + old value + value + value old value value run evaluator converge converge get total value value get q value q value optimiz get optimiz bfg 