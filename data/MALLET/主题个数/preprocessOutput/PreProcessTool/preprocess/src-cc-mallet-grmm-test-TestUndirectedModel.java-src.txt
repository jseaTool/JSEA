2003 univ dept part m l l e t m achine learning languag e toolkit 1 0 information see ` l e n e test junit framework test junit framework test junit framework test suite io io writer io o io print writer 3pq jgrapht undirect graph 3pq jgrapht graph helper inference random graph type graph util create mar 17 2005 h r e f $ test undirect model v 1 1 2007 10 22 21 37 41 $ test undirect model test test undirect model name name test output dot o factor graph mdl test inference random grid 3 4 2 random 4234 print writer print writer writer model dot mdl print dot close now you can up model dot graphviz test model can create multiple factor over same variable vertex test multiple node potential variable var variable 2 factor graph mdl factor graph variable var factor ptl1 table factor var 0 5 0 5 mdl add factor ptl1 factor ptl2 table factor var 0 25 0 25 mdl add factor ptl2 verify factor var doesn t work mdl factor var fail runtime e expect factor mdl factor var factor total table factor multiply factor expect 0 125 0 125 equal expect + util expect + + util table factor total value equal expect table factor total value test model can create multiple factor over same edge edge test multiple edge potential variable v1 variable 2 variable v2 variable 2 variable var variable v1 v2 factor graph mdl factor graph var factor ptl1 table factor var 0 5 0 5 0 5 0 5 mdl add factor ptl1 factor ptl2 table factor var 0 25 0 25 0 5 0 5 mdl add factor ptl2 mdl factor v1 v2 fail runtime e collection factor mdl factor contain hash var var equal 2 factor size factor contain ptl1 factor contain ptl2 val 0 125 0 125 0 25 0 25 factor total table factor multiply factor factor expect table factor var val equal expect + util val + + util table factor total value expect almost equal total 1e 10 test connection variable v1 variable 2 variable v2 variable 2 variable v3 variable 2 variable var variable v1 v2 v3 factor graph mdl factor graph table factor ptl table factor var 8 mdl add factor ptl mdl adjacent v1 v2 mdl adjacent v2 v3 mdl adjacent v1 v3 test three node model random r random 23534709 factor graph mdl factor graph variable root variable 2 variable child l variable 2 variable child r variable 2 mdl add factor root child l random graph generate mix value r 1 5 mdl add factor root child r random graph generate mix value r 1 5 mdl connect root child l mdl connect root child r mdl connect child l child r mdl adjacent root child r mdl adjacent root child l mdl adjacent child l child r mdl factor root child l mdl factor root child r verify vertex edge cache consistent potential test undirect cache model test inference test model iterator model iterator next factor graph mdl factor graph next verify cache consistent mdl verify cache consistent factor graph mdl factor pot pot2 pot3 iterator mdl factor iterator next pot factor next testing model +i+ +pot var pot var var length 1 pot2 mdl factor variable var 0 pot pot2 2 variable var1 variable var 0 variable var2 variable var 1 pot2 mdl factor var1 var2 pot3 mdl factor var2 var1 pot pot2 pot2 pot3 factor size 2 aren t now cache verify vertex edge cache consistent potential vertex remove test undirect cache model test inference test model iterator mdl model iterator mdl next factor graph mdl factor graph mdl next mdl factor graph mdl duplicate mdl mdl get 0 verify indexing correct iterator mdl variable iterator next variable var variable next idx mdl get index var idx 0 idx mdl num variable verify cache consistent verify cache consistent mdl test mdl graph model test inference test model iterator mdl model iterator mdl next undirect model mdl undirect model mdl next undirect graph g graph mdl graph mdl vertex g vertex check vertex equal mdl num variable vertex size check edge num edge ptl 0 iterator factor mdl factor iterator factor next factor factor factor factor next factor var size 2 num edge ptls++ equal num edge ptl g edge size check neighbor vertex contain least some what they re suppose iterator vertex iterator next variable var variable next vertex contain var neighbor g hash graph helper neighbor g var neighbor g add var iterator factor mdl factor contain var iterator factor next factor factor factor factor next neighbor g contain factor var test factor variable var variable 3 0 var length i++ var variable 2 factor factor table factor var 0 1 2 3 4 5 6 7 factor graph fg factor graph var fg add factor factor factor fg factor factor var hash hash factor var factor fg factor var 0 fg factor test suite test suite test undirect model throwable test suite suite length 0 suite test suite 0 length i++ suite add test test undirect model suite test suite suite junit textui test runner run suite 