2011 univ dept part m l l e t m achine learning languag e toolkit 1 0 information see ` l e n e classify constraint ge expectation constraint g e penaliz l 2^2 difference target expectation multiple constraint group together here thing efficient gregory druck max ent l2 f l g e constraint max ent f l g e constraint normalize max ent l2 f l g e constraint num feature num label value normalize num feature num label value normalize normalize get value value 0 0 fi constraint key max ent f l g e constraint constraint constraint get fi constraint count 0 0 value due current constraint feature value 0 0 label index 0 label index num label ++label index ex normalize ex constraint expectation label index constraint count ex constraint expectation label index feature value math pow constraint target label index ex 2 na n feature value infinite feature value value + feature value constraint weight value override add constraint fi ex weight constraint put fi max ent l2 f l g e constraint ex weight max ent l2 f l g e constraint max ent f l g e constraint max ent l2 f l g e constraint target weight target weight override get value count 0 normalize 2 weight target count expectation count count 2 weight target expectation 