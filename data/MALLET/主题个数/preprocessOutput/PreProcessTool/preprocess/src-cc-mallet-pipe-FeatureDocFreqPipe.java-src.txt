pipe type gnu trove io pruning low count feature can good save memory computation vectors2 vector you need write unprun instance read back into memory collect statistic instance write everyth back p support simple two pass over collect statistic augment stop second actually instance feature doc freq pipe pipe feature counter counter num instance feature doc freq pipe alphabet counter feature counter get alphabet num instance 0 feature doc freq pipe alphabet alphabet alphabet target alphabet alphabet target alphabet counter feature counter alphabet num instance 0 instance pipe instance instance t hash map local counter t hash map instance get feature feature feature feature instance get position 0 position feature size position++ local counter adjust put value feature get index position position 1 1 illegal argument looking feature found + instance get get feature local counter key counter increment feature num instances++ instance add prune word internal stoplist simple tokeniz doc frequency cutoff word occur great proportion document 0 05 correspond f 3 add prune word stoplist simple tokeniz tokeniz doc frequency cutoff alphabet current alphabet get alphabet feature 0 feature current alphabet size feature++ counter get feature num instance doc frequency cutoff tokeniz stop current alphabet lookup feature serial u 1 