2002 univ dept part m l l e t m achine learning languag e toolkit 1 0 information see ` l e n e aron culotta culotta culotta confidence logging type logger correct subset link segment produce link transducer most useful find link segment link transducer least confident correct link label correct least confidence segment correct segment propagate labeling constrain viterbi viterbi calculation path pas correct segment constrain viterbi transducer corrector transducer corrector logger logger logger get logger constrain viterbi transducer corrector get name transducer confidence estimator confidence estimator transducer model least confident segment constrain viterbi transducer corrector transducer confidence estimator confidence estimator transducer model confidence estimator confidence estimator model model constrain viterbi transducer corrector transducer model constrain forward backward confidence estimator model model vector get segment confidence confidence estimator get segment confidence least confident segment previou call correct least confident segment get least confident segment least confident segment least confident segment ilist ilist test instance start tag indicate beginning segment tage indicate inside segment link segment instance least confident get least confident segment instance ilist start tag tag ret 0 ilist size i++ segment order segment confidence estimator rank segment confidence ilist get start tag tag ret add order segment 0 ret correct least confident segment instance ilist start tag tag correct least confident segment ilist start tag tag correct sequence also store least confident segment segment correct entry segment correct ilist test instance start tag indicate beginning segment tage indicate inside segment find incorrect we cycle least confident segment until find incorrect link correspond correct tag instance ilist correct least confident segment instance ilist start tag tag find incorrect correct prediction least confident segment logger info get get name + ranking confidence + confidence estimator get get name 0 ilist size i++ logger fine correct instance + + + ilist size instance instance ilist get segment order segment segment 1 input instance get truth instance get target predict max lattice model input best output num incorrect 0 j 0 j predict size j++ num incorrect + predict get j equal truth get j ? 1 0 num incorrect 0 nothing correct least confident segment add correct prediction add predict rank segment confidence order segment confidence estimator rank segment confidence instance start tag tag logger fine order segment j 0 j order segment length j++ logger fine order segment j logger fine correct segment j 0 j truth size j++ logger fine truth get j + logger fine logger fine order segment j 0 j order segment length j++ logger fine order segment j find incorrect find least confident segment incorrectly label least confident segment segment least confident segment order segment 0 find incorrect j 0 j order segment length j++ order segment j correct least confident segment order segment j find incorrect least confident segment correct logger warning cannot find incorrect segment probably because background least confident segment add correct prediction add predict least confident segment add least confident segment least confident segment nothing extract correct prediction add predict segment correct output label least confident segment position truth size num correct 0 j 0 j length j++ j j 0 j truth size j++ segment least confident segment index segment j j truth get j num correct tokens++ least confident segment end prematurely least confident segment get +1 truth get least confident segment get +1 num correct tokens++ logger fine constrain segment j 0 j length j++ logger fine j segment correct output run constrain viterbi constraint segment tag correctly correct prediction max lattice model order segment 0 get input segment correct output best output num incorrect correction 0 j 0 j truth size j++ num incorrect correction + correct prediction get j equal truth get j ? 1 0 logger fine num incorrect original prediction + num incorrect logger fine num correct + num correct logger fine num incorrect correction propagation + num incorrect correction print info logger fine correct segment j 0 j truth size j++ logger fine truth get j + logger fine original prediction j 0 j predict size j++ logger fine predict get j + logger fine correct prediction j 0 j correct prediction size j++ logger fine correct prediction get j + logger fine correct prediction add correct prediction correct prediction 