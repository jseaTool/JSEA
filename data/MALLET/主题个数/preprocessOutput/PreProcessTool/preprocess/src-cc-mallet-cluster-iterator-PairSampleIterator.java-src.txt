cluster iterator cluster clustering cluster neighbor evaluator agglomerative neighbor cluster cluster util type instance type instance random sample pair instance aron culotta culotta degas 1 0 since 1 0 see neighbor iterator pair sample iterator neighbor iterator instance instance random random positive proportion sample positive target positive count total count nonsingleton cluster clustering clustering random randomness positive proportion proportion instance positive example sample total sample generate pair sample iterator clustering clustering random random positive proportion sample clustering random random positive proportion positive proportion sample sample positive target sample positive proportion total count positive count 0 instance clustering get instance singleton singleton 0 0 clustering get num cluster i++ clustering size 1 c++ nonsingleton cluster 0 0 clustering get num cluster i++ clustering size 1 nonsingleton cluster c++ next total count sample instance next agglomerative neighbor neighbor nonsingleton cluster length 0 positive count positive target || clustering get num cluster 1 mmwick positive count++ label nonsingleton cluster random next nonsingleton cluster length instance clustering get index label label instance random next instance length ij instance random next instance length ij ij instance random next instance length neighbor agglomerative neighbor clustering clustering ij random next instance size ij random next instance size clustering get label clustering get label ij ij random next instance size neighbor agglomerative neighbor clustering cluster util merge instance clustering ij ij total count++ instance neighbor 