2002 univ dept part m l l e t m achine learning languag e toolkit 1 0 information see ` l e n e type io serializable decimal format format classify classification classify classifier classify type alphabet type alphabet carry type instance type label type label alphabet type label vector track r o instance link result see see instance see classifier see classification michael bond mikejbond gmail com mikejbond gmail com r o alphabet carry serializable serial u 2060194953037720640 l t r u e p o t v e 0 f l e p o t v e 1 f l e n e g t v e 2 t r u e n e g t v e 3 label alphabet label alphabet matrix threshold tp fp fn tn count threshold construct threshold threshold track count label alphabet label alphabet instance link r o threshold label alphabet label alphabet ensure threshold sort sort threshold count label alphabet size threshold length 4 label alphabet label alphabet threshold threshold add classification result r o result add r o add classification classification correct index classification get instance get label get best index label vector lv classification get label vector value lv get value alphabet alphabet match lv illegal argument alphabet match num label label alphabet size label 0 label num label label++ label value value label threshold count count label threshold 0 add threshold positive threshold threshold length label value threshold threshold threshold++ correct index label threshold count threshold t r u e p o t v e ++ threshold count threshold f l e p o t v e ++ add threshold negative threshold threshold length threshold++ correct index label threshold count threshold f l e n e g t v e ++ threshold count threshold t r u e n e g t v e ++ add result r o result add r o add classification classification add classification add r o r o roc r o add add r o roc alphabet alphabet match roc illegal argument alphabet match equal threshold roc threshold illegal argument threshold match count length count length 0 count length c++ count count count roc count length count length t 0 t length t++ thr count count t thr count count t thr length thr count length 0 thr length s++ thr count + thr count override alphabet get alphabet label alphabet override alphabet get alphabet alphabet label alphabet get raw count specify label label label get count see t r u e p o t v e see f l e p o t v e see f l e n e g t v e see t r u e n e g t v e raw count specify label get count label label count label get index get raw count specify label threshold collect exact threshold specify result high threshold specify threshold label label get count threshold threshold get count see t r u e p o t v e see f l e p o t v e see f l e n e g t v e see t r u e n e g t v e raw count specify label threshold get count label label threshold index binary search threshold threshold index 0 index index 2 count label get index index get label alphabet label alphabet get label alphabet label alphabet get precision specify label threshold collect exact threshold specify result high threshold specify threshold label label get precision threshold threshold get precision precision specify label threshold get precision label label threshold count get count label threshold count t r u e p o t v e count t r u e p o t v e + count f l e p o t v e get precision specify label score differ link r o get precision label precision score fall score value score threshold collect exact threshold specify result high threshold specify threshold label label get precision threshold threshold get precision precision specify label score get precision score label label score bucket count label get index index binary search threshold score index 0 index index 2 tp fp index threshold length 1 tp bucket index t r u e p o t v e fp bucket index f l e p o t v e tp bucket index t r u e p o t v e bucket index + 1 t r u e p o t v e fp bucket index f l e p o t v e bucket index + 1 f l e p o t v e tp tp + fp get estimate percentage training event exceed threshold label label get precision threshold threshold get precision estimate percentage event exceed threshold get positive percent label label threshold count get count label threshold positive count t r u e p o t v e + count f l e p o t v e positive positive + count f l e n e g t v e + count t r u e n e g t v e 100 0 get recall rate specify label threshold collect exact threshold specify result high threshold specify threshold label label get recall threshold threshold get recall recall rate specify label threshold get recall label label threshold count get count label threshold count t r u e p o t v e count t r u e p o t v e + count f l e n e g t v e get threshold being track threshold get threshold threshold set raw count specify label threshold collect exact threshold specify count high threshold specify threshold label label get count threshold threshold get count count count value label threshold see t r u e p o t v e see f l e p o t v e see f l e n e g t v e see t r u e n e g t v e count label label threshold count index binary search threshold threshold index 0 index index 2 old count count label get index index count length old count length illegal argument count contain + old count length + element 0 old count length i++ old count count override builder buf builder format format decimal format 0 0 label alphabet size i++ label count buf append r o buf append label alphabet lookup buf append buf append t h r t p f p f n t n precis recall add row threshold t 0 t threshold length t++ buf append threshold t re label t buf append append re tp label t t r u e p o t v e sum tp + label t f l e p o t v e precision 0 0 sum 0 precision tp sum sum tp + label t f l e n e g t v e recall 0 0 sum 0 recall tp sum buf append append format format precision buf append append format format recall buf append buf append buf 