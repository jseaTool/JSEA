2003 univ dept part m l l e t m achine learning languag e toolkit 1 0 information see ` l e n e cluster point via k instance cluster expect type feature vector e m p t y n g l e march 2005 heuristic cluster selection 2005 jerod weinman h r e f weinman weinman mike winter mike winter gmail com mike winter gmail com cluster random logging logger pipe pipe type instance type instance type metric type sparse vector vector stat k cluster cluster point into k cluster minimize total intra cluster variance us link metric find distance between link instance link sparse vector k cluster serial u 1 l stop movement les m e n t o l e r n e 1e 2 maximum iteration m t e r 100 fraction point move p o n t t o l e r n e 005 treat empty cluster e m p t y e r r o r 0 drop empty cluster e m p t y r o p 1 place single instance furthest previou cluster e m p t y n g l e 2 random randinator metric metric num cluster empty sparse vector cluster logger logger logger get logger base cluster k construct k instance pipe pipe instance being cluster num cluster cluster metric metric measure instance distance empty specify what happen empty cluster occur k pipe instance pipe num cluster metric metric empty instance pipe empty empty metric metric num cluster num cluster cluster sparse vector num cluster randinator random construct k instance pipe pipe instance being cluster num cluster cluster metric metric measure instance distance p empty cluster occur consider k pipe instance pipe num cluster metric metric instance pipe num cluster metric e m p t y e r r o r cluster instance instance instance cluster override clustering cluster instance instance instance get pipe instance pipe initialize cluster initialize sample instance metric cluster label instance size instance instance cluster instance num cluster inst clust inst clust dist inst dist delta m v l u e delta point instance size iteration 0 sparse vector cluster 0 num cluster c++ instance cluster add instance instance pipe logger info entering k iteration delta m e n t o l e r n e iteration m t e r delta point instance size p o n t t o l e r n e iterations++ delta point 0 instance measure distance current cluster subsequently close cluster add correspond instance cluster instance update n 0 n instance size n++ inst clust 0 inst clust dist m v l u e 0 num cluster c++ inst dist metric distance cluster get sparse vector instance get n get inst dist inst clust dist inst clust inst clust dist inst dist add close cluster label instance cluster get inst clust add instance get n cluster label n inst clust cluster label n inst clust delta points++ delta 0 0 num cluster c++ instance cluster get size 0 cluster vector stat instance cluster get delta + metric distance cluster get cluster cluster cluster instance cluster instance instance pipe logger info empty cluster found empty e m p t y e r r o r e m p t y r o p logger fine remove cluster + cluster instance cluster n 0 n instance size n++ cluster label n cluster size + instance cluster get size + + yet cluster label n + cluster label n cluster label n cluster label n num cluster note trickiness bad style? maybe just now we ve delete entry we repeat index get next entry e m p t y n g l e get instance furthest centroid centroid centroid dist 0 centroid 0 instance cache cluster 0 cluster cluster size clusters++ sparse vector centroid cluster get cluster instance cent instance instance cluster get cluster dont t empty cluster cent instance size 1 n 0 n cent instance size n++ current dist metric distance centroid sparse vector cent instance get n get current dist centroid dist centroid n centroid dist current dist cache cent instance cache logger info can t find instance move exit can t find instance move cluster sparse vector cache get centroid get logger info it + iteration + delta + delta delta m e n t o l e r n e logger info k converge delta + delta iteration m t e r logger info maximum iteration + m t e r + reach delta point instance size p o n t t o l e r n e logger info point np + p o n t t o l e r n e + + instance size p o n t t o l e r n e + move last iteration saying converge clustering instance num cluster cluster label us m m n heuristic seed cluster inst instance metric distance metric initialize sample instance inst metric metric instance instance aren t parse most pipe we pre process here possibly leave some instance cluster assignment instance instance instance inst size 0 inst size i++ instance in inst get sparse vector sparse sparse vector in get sparse num location 0 instance add in add next center m m n distance previou j 1 center idea moore tutorial sure come up originally 0 num cluster i++ max 0 select 0 k 0 k instance size k++ min m v l u e instance in instance get k sparse vector inst sparse vector in get j 0 j cluster size j++ sparse vector center inst cluster get j dist metric distance center inst inst dist min min dist min max select k max min instance center instance select cluster add sparse vector center get cluster run algorithm instance sparse vector get cluster cluster 