2003 univ dept part m l l e t m achine learning languag e toolkit 1 0 information see ` l e n e inference gbp iterator type factor type factor graph type undirect grid type variable util create 31 2005 h r e f $ kikuchi4 square region generator v 1 1 2007 10 22 21 37 58 $ kikuchi4 square region generator region graph generator region graph construct region graph factor graph mdl mdl undirect grid region graph rg region graph undirect grid grid undirect grid mdl first up region 0 grid get width 1 x++ y 0 y grid get height 1 y++ variable var variable grid get y grid get x+1 y grid get x+1 y+1 grid get y+1 factor edge factor mdl factor var 0 var 1 mdl factor var 1 var 2 mdl factor var 2 var 3 mdl factor var 0 var 3 region 4 clique region four square region var edge 1 clique region 0 4 i++ variable var var factor ptl mdl factor var ptl four square factor add ptl edge region connect 0 4 i++ factor edge ptl edge region edge rgn rg find region edge ptl rg add four square edge rgn variable v1 variable edge rgn var get 0 region node rgn var region rg mdl v1 edge rgn factor add node rgn factor rg add edge rgn node rgn variable v2 variable edge rgn var get 1 node rgn var region rg mdl v2 edge rgn factor add node rgn factor rg add edge rgn node rgn rg compute inference cache rg unsupport operation kikuchi4 square region generator you undirect grid region var region region graph rg factor graph mdl variable v1 factor ptl mdl factor v1 ptl rg find region v1 rg find region ptl check single region graph rg region node region iterator rg iterator next region region region next region var size 1 util index node region region 0 illegal huh? check too many region graph rg factor graph mdl nv mdl factor size 0 iterator rg iterator next region region region next region var size 2 doubles++ nv illegal huh? 