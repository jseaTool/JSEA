2002 univ dept part m l l e t m achine learning languag e toolkit 1 0 information see ` l e n e mc callum logging logger regex pattern type instance type instance type type logger segmentation evaluator transducer evaluator logger logger logger get logger segmentation evaluator get name equal call these determine start segment segment tag segment e part segment pattern start regex pattern compile ^ pattern regex pattern compile ^ o segment start tag equal o start regex matcher o match segment tag equal o segmentation evaluator instance instance list description instance list description segmentation evaluator instance instance list1 description1 instance instance list1 description1 segmentation evaluator instance instance list1 description1 instance instance list2 description2 instance instance list1 instance list2 description1 description2 segmentation evaluator instance instance list1 description1 instance instance list2 description2 instance instance list3 description3 instance instance list1 instance list2 instance list3 description1 description2 description3 segmentation evaluator segment start tag o segment start tag o segmentation evaluator segment tag o segment tag o evaluate instance transducer trainer tt instance description transducer model tt get transducer num correct total num segment num predict segment num correct segment num correct segment alphabet num correct segment o o v num incorrect segment alphabet num incorrect segment o o v total num correct 0 num segment num predict segment num correct segment 0 num correct segment alphabet num correct segment o o v 0 num incorrect segment alphabet num incorrect segment o o v 0 0 size i++ instance instance get input instance get instance get instance get output instance get target input size output size pr output model transduce input pr output size output size start pr start j 0 j output size j++ total tokens++ start pr start segment start tag equal output get j num segments++ start segment start tag equal pr output get j pr start num predict segments++ start pr start m buffer sb buffer sb append j m j+1 m output size m++ start pr start here these actually start segment tag equal output get m start segment tag equal pr output get m pr start start || pr start start pr start correct segment num correct segments++ hash lexicon contain sb num correct segment alphabet++ num correct segment o o v++ incorrect segment let find lexicon mm m mm output size mm++ segment tag equal pr output get mm sb append mm hash lexicon contain sb num incorrect segment alphabet++ num incorrect segment o o v++ sb append m m output size start pr start num correct segments++ hash lexicon contain sb num correct segment alphabet++ num correct segment o o v++ hash lexicon contain sb num incorrect segment alphabet++ num incorrect segment o o v++ pr start here incorrect predict start find word lexicon buffer sb buffer sb append j mm j+1 mm output size mm++ segment tag equal pr output get mm sb append mm hash lexicon contain sb num incorrect segment alphabet++ num incorrect segment o o v++ output get j equal pr output get j num correct tokens++ logger info description + accuracy + num correct total precision num predict segment 0 ? 1 num correct segment num predict segment recall num segment 0 ? 1 num correct segment num segment f1 recall+precision 0 0 ? 0 0 2 0 recall precision recall + precision logger info precision +precision+ recall +recall+ f1 +f1 logger info segment +num segments+ pr +num predict segments+ correct +num correct segments+ miss + num segment num correct segment + alarm + num predict segment num correct segment correct segment o o v +num correct segment o o v+ v +num correct segment alphabet incorrect segment o o v +num incorrect segment o o v+ v +num incorrect segment alphabet 