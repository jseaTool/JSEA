2002 dept univ part m l l e t m achine learning languag e toolkit toolkit you can redistribute g n u foundation 2 late hope useful w t h o u t n y w r r n t y m e r h n t l t y f t n e f o r p r t u l r p u r p o e detail see g n u r e m e l e g l you g n u along write foundation inc 59 temple place suite 330 boston m 02111 1307 u mc callum classify evaluate hash map logging classify classification classify type instance type label type label alphabet type label vector type label type matrix ops logger calculate print confusion matrix accuracy precision clasification confusion matrix logger logger logger get logger confusion matrix get name num classification classification 2 confusion matrix index predict value construct matrix calculate value t build matrix confusion matrix t t classification t label temp label classification classification get 0 get label num temp label get label alphabet size value num num 0 classification size i++ label vector lv classification classification get get label vector instance inst classification classification get get instance best index lv get best index correct index inst get label get best index correct index 1 best index +b index+ correct +correct index value correct index best index ++ count row column j predict value j 0 j 0 num j num value j append justify buffer sb zero dot 100 sb append 10 sb append 0 zero dot sb append sb append +i buffer sb buffer max label name length 0 label alphabet label alphabet get classifier get label alphabet 0 num i++ len label alphabet lookup label length max label name length len max label name length len these count we ll keep them we can divide late correct label count value length 0 correct label count length i++ sum instance correct correct label count matrix ops sum value find count most frequent divide total instance baseline accuracy matrix ops max correct label count matrix ops sum correct label count sb append confusion matrix row column predict accuracy +trial get accuracy + most frequent tag baseline +baseline accuracy+ 0 max label name length 5+4 i++ sb append sb append label c2 0 c2 math min 10 num c2++ sb append +c2 c2 10 c2 num c2++ sb append + c2 sb append |total 0 num c++ append justify sb label name label alphabet lookup label 0 max label name length label name length i++ sb append sb append +label name+ c2 0 c2 num c2++ append justify sb value c2 sb append sb append | + matrix ops sum value sb append sb precision predict get precision predict index total 0 index 0 index num index++ total + value index predict index total 0 0 0 value predict index predict index total percent class2 class1 predict get confusion between class1 class2 total 0 index 0 index num index++ total + value index class1 total 0 0 0 value class2 class1 total percentage instance label index get prior index sum 0 0 num i++ sum + value index sum classification size print stdout confusion matrix frequency precision recall print total precision 0 total recall 0 total f1 0 hash map index2clas hash map label vector lv classification classification get 0 get label vector decimal format df decimal format num instance num 0 num i++ count 0 j 0 j num j++ count + value j num instance count label lv label location index +i+ +label+ +count+ instance + df format 100 count classification size + % index2clas put label confusion matrix 0 num i++ j 0 j num j++ print value j + 0 num i++ recall 100 0 value j j num instance precision row count 0 j 0 j num j++ row count + value j row count 0 precision 0 precision 100 0 value j j row count f1 precision + recall 0 0 f1 0 f1 2 precision recall precision + recall + index2clas get f1 +df format f1 + % recall +df format recall + % precision +df format precision + % total precision + precision total recall + recall total f1 + f1 num correct 0 total instance 0 0 num i++ num correct + value j j total instances+ num instance overall accuracy + df format 100 0 num correct total instance + % average f1 + total f1 num + average precision + total precision num + average recall + total recall num 